"use strict";(self.webpackChunkquestionable_content_spa=self.webpackChunkquestionable_content_spa||[]).push([[2822],{"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return _slicedToArray}});var unsupportedIterableToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||(0,unsupportedIterableToArray.Z)(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},"./src/components/ItemDetailsDialog/ItemDetails/ColorPicker/ColorPicker.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:function(){return Default},Dirty:function(){return Dirty},Saving:function(){return Saving},__namedExportsOrder:function(){return __namedExportsOrder}});var _Default$parameters,_Default$parameters2,_Default$parameters2$,_Dirty$parameters,_Dirty$parameters2,_Dirty$parameters2$do,_Saving$parameters,_Saving$parameters2,_Saving$parameters2$d,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_storybook_preview_api__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("@storybook/preview-api"),_ColorPicker__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/ItemDetailsDialog/ItemDetails/ColorPicker/ColorPicker.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={component:_ColorPicker__WEBPACK_IMPORTED_MODULE_2__.Z,argTypes:{setColor:{action:"setColor"},resetColor:{action:"resetColor"}}};var Template=function Template(args){var _useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(args.color),_useState2=(0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_useState,2),initialColor=_useState2[0],setInitialColor=_useState2[1];initialColor!==args.color&&setInitialColor(args.color);var _useArgs=(0,_storybook_preview_api__WEBPACK_IMPORTED_MODULE_1__.useArgs)(),_useArgs2=(0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_useArgs,2),setArgs=(_useArgs2[0],_useArgs2[1]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_ColorPicker__WEBPACK_IMPORTED_MODULE_2__.Z,(0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},args),{},{setColor:function setColor(color){setArgs({color:color,dirty:!0}),args.setColor(color)}}))},Default=Template.bind({});Default.args={color:"#ffaabb",isColorDirty:!1,isSaving:!1};var Dirty=Template.bind({});Dirty.args=(0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},Default.args),{},{isColorDirty:!0});var Saving=Template.bind({});Saving.args=(0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},Default.args),{},{isSaving:!0}),Default.parameters=(0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},Default.parameters),{},{docs:(0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},null===(_Default$parameters=Default.parameters)||void 0===_Default$parameters?void 0:_Default$parameters.docs),{},{source:(0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({originalSource:"args => {\n  const [initialColor, setInitialColor] = useState(args.color);\n  if (initialColor !== args.color) {\n    setInitialColor(args.color);\n  }\n  const [_args, setArgs] = useArgs();\n  return <ColorPicker {...args} setColor={color => {\n    setArgs({\n      color,\n      dirty: true\n    });\n    args.setColor(color);\n  }} />;\n}"},null===(_Default$parameters2=Default.parameters)||void 0===_Default$parameters2||null===(_Default$parameters2$=_Default$parameters2.docs)||void 0===_Default$parameters2$?void 0:_Default$parameters2$.source)})}),Dirty.parameters=(0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},Dirty.parameters),{},{docs:(0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},null===(_Dirty$parameters=Dirty.parameters)||void 0===_Dirty$parameters?void 0:_Dirty$parameters.docs),{},{source:(0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({originalSource:"args => {\n  const [initialColor, setInitialColor] = useState(args.color);\n  if (initialColor !== args.color) {\n    setInitialColor(args.color);\n  }\n  const [_args, setArgs] = useArgs();\n  return <ColorPicker {...args} setColor={color => {\n    setArgs({\n      color,\n      dirty: true\n    });\n    args.setColor(color);\n  }} />;\n}"},null===(_Dirty$parameters2=Dirty.parameters)||void 0===_Dirty$parameters2||null===(_Dirty$parameters2$do=_Dirty$parameters2.docs)||void 0===_Dirty$parameters2$do?void 0:_Dirty$parameters2$do.source)})}),Saving.parameters=(0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},Saving.parameters),{},{docs:(0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},null===(_Saving$parameters=Saving.parameters)||void 0===_Saving$parameters?void 0:_Saving$parameters.docs),{},{source:(0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({originalSource:"args => {\n  const [initialColor, setInitialColor] = useState(args.color);\n  if (initialColor !== args.color) {\n    setInitialColor(args.color);\n  }\n  const [_args, setArgs] = useArgs();\n  return <ColorPicker {...args} setColor={color => {\n    setArgs({\n      color,\n      dirty: true\n    });\n    args.setColor(color);\n  }} />;\n}"},null===(_Saving$parameters2=Saving.parameters)||void 0===_Saving$parameters2||null===(_Saving$parameters2$d=_Saving$parameters2.docs)||void 0===_Saving$parameters2$d?void 0:_Saving$parameters2$d.source)})});var __namedExportsOrder=["Default","Dirty","Saving"]},"./src/color.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){function hue2rgb(p,q,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?p+6*(q-p)*t:t<.5?q:t<2/3?p+(q-p)*(2/3-t)*6:p}function createTintOrShade(hexColor,iterations){void 0===iterations&&(iterations=1);for(var rgb=function hexColorToRgb(hexColor){"#"===hexColor.charAt(0)&&(hexColor=hexColor.substring(1));var rgb=parseInt(hexColor,16);return[rgb>>16&255,rgb>>8&255,255&rgb]}(hexColor),hsl=function rgbToHsl(r,g,b){r/=255,g/=255,b/=255;var s,max=Math.max(r,g,b),min=Math.min(r,g,b),h=0,l=(max+min)/2;if(max===min)h=s=0;else{var d=max-min;switch(s=l>.5?d/(2-max-min):d/(max+min),max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4}h/=6}return[h,s,l]}(rgb[0],rgb[1],rgb[2]),tint=hsl[2]<.5,i=iterations;i>0;i--)tint?hsl[2]=(hsl[2]+1)/2:hsl[2]/=2;return function rgbToHexColor(r,g,b){return"#"+((1<<24)+(r<<16)+(g<<8)+b).toString(16).slice(1)}((rgb=function hslToRgb(h,s,l){var r,g,b;if(0===s)r=g=b=l;else{var q=l<.5?l*(1+s):l+s-l*s,p=2*l-q;r=hue2rgb(p,q,h+1/3),g=hue2rgb(p,q,h),b=hue2rgb(p,q,h-1/3)}return[Math.round(255*r),Math.round(255*g),Math.round(255*b)]}(hsl[0],hsl[1],hsl[2]))[0],rgb[1],rgb[2])}__webpack_require__.d(__webpack_exports__,{cx:function(){return createTintOrShade}})},"./src/components/ItemDetailsDialog/ItemDetails/ColorPicker/ColorPicker.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return ColorPicker}});var _home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_color__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-color/es/index.js"),_components_Popup__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Popup.tsx"),_color__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/color.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");function ColorPicker(_ref){var color=_ref.color,setColor=_ref.setColor,resetColor=_ref.resetColor,isColorDirty=_ref.isColorDirty,isSaving=_ref.isSaving,foregroundColor=(0,_color__WEBPACK_IMPORTED_MODULE_4__.cx)(color),_useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),_useState2=(0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_5__.Z)(_useState,2),showPicker=_useState2[0],setShowPicker=_useState2[1];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("span",{className:"ml-2 p-1 bg-white border border-solid border-gray-200 rounded-sm inline-block cursor-pointer align-middle",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("button",{className:"w-9 h-5 rounded-sm block",style:{backgroundColor:"".concat(color)},onClick:function onClick(e){e.preventDefault(),setShowPicker((function(s){return!s}))},title:"Pick color",disabled:isSaving,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("i",{className:"fa fa-eyedropper block text-center pt-0.5",style:{color:foregroundColor},"aria-hidden":"true"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components_Popup__WEBPACK_IMPORTED_MODULE_2__.Z,{show:showPicker,onClose:function onClose(){return setShowPicker(!1)},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(react_color__WEBPACK_IMPORTED_MODULE_1__.xS,{color:color,disableAlpha:!0,onChange:function onChange(r){setColor(r.hex)},presetColors:[]})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{className:"p-1 ml-1 inline-block align-middle rounded-sm border border-solid border-gray-200",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("button",{className:"h-5 w-5 block disabled:opacity-75 ",onClick:function onClick(e){e.preventDefault(),resetColor()},title:"Reset color",disabled:!isColorDirty||isSaving,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("i",{className:"fa fa-refresh block text-center pt-0.5","aria-hidden":"true"})})})]})}try{ColorPicker.displayName="ColorPicker",ColorPicker.__docgenInfo={description:"",displayName:"ColorPicker",props:{color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"string"}},setColor:{defaultValue:null,description:"",name:"setColor",required:!0,type:{name:"(color: string) => void"}},resetColor:{defaultValue:null,description:"",name:"resetColor",required:!0,type:{name:"() => void"}},isColorDirty:{defaultValue:null,description:"",name:"isColorDirty",required:!0,type:{name:"boolean"}},isSaving:{defaultValue:null,description:"",name:"isSaving",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ItemDetailsDialog/ItemDetails/ColorPicker/ColorPicker.tsx#ColorPicker"]={docgenInfo:ColorPicker.__docgenInfo,name:"ColorPicker",path:"src/components/ItemDetailsDialog/ItemDetails/ColorPicker/ColorPicker.tsx#ColorPicker"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Popup.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return Popup}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");function Popup(_ref){var show=_ref.show,onClose=_ref.onClose,children=_ref.children,position=_ref.position,preventClose=_ref.preventClose;return show&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{className:"absolute z-[2] pt-2",style:{left:position&&position[0],top:position&&position[1]},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"fixed inset-0",onClick:function onClick(e){e.preventDefault(),preventClose||onClose()}}),children]})}try{Popup.displayName="Popup",Popup.__docgenInfo={description:"",displayName:"Popup",props:{show:{defaultValue:null,description:"",name:"show",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},position:{defaultValue:null,description:"",name:"position",required:!1,type:{name:"[number, number]"}},preventClose:{defaultValue:null,description:"",name:"preventClose",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Popup.tsx#Popup"]={docgenInfo:Popup.__docgenInfo,name:"Popup",path:"src/components/Popup.tsx#Popup"})}catch(__react_docgen_typescript_loader_error){}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50cy1JdGVtRGV0YWlsc0RpYWxvZy1JdGVtRGV0YWlscy1Db2xvclBpY2tlci1Db2xvclBpY2tlci1zdG9yaWVzLmFkODJkMWQ4LmlmcmFtZS5idW5kbGUuanMiLCJtYXBwaW5ncyI6IjJjQUllLFNBQVNBLGVBQWVDLElBQUtDLEdBQzFDLE9DTGEsU0FBU0MsZ0JBQWdCRixLQUN0QyxHQUFJRyxNQUFNQyxRQUFRSixLQUFNLE9BQU9BLEdBQ2pDLENER1MsQ0FBZUEsTUVMVCxTQUFTSyxzQkFBc0JDLEVBQUdDLEdBQy9DLElBQUlDLEVBQUksTUFBUUYsRUFBSSxLQUFPLG9CQUFzQkcsUUFBVUgsRUFBRUcsT0FBT0MsV0FBYUosRUFBRSxjQUNuRixHQUFJLE1BQVFFLEVBQUcsQ0FDYixJQUFJRyxFQUNGQyxFQUNBWCxFQUNBWSxFQUNBQyxFQUFJLEdBQ0pDLEdBQUksRUFDSkMsR0FBSSxFQUNOLElBQ0UsR0FBSWYsR0FBS08sRUFBSUEsRUFBRVMsS0FBS1gsSUFBSVksS0FBTSxJQUFNWCxFQUFHLENBQ3JDLEdBQUlZLE9BQU9YLEtBQU9BLEVBQUcsT0FDckJPLEdBQUksQ0FDTixNQUFPLE9BQVNBLEdBQUtKLEVBQUlWLEVBQUVnQixLQUFLVCxJQUFJWSxRQUFVTixFQUFFTyxLQUFLVixFQUFFVyxPQUFRUixFQUFFUyxTQUFXaEIsR0FBSVEsR0FBSSxHQUN0RixDQUFFLE1BQU9ULEdBQ1BVLEdBQUksRUFBSUosRUFBSU4sQ0FDZCxDQUFFLFFBQ0EsSUFDRSxJQUFLUyxHQUFLLE1BQVFQLEVBQVUsU0FBTUssRUFBSUwsRUFBVSxTQUFLVyxPQUFPTixLQUFPQSxHQUFJLE1BQ3pFLENBQUUsUUFDQSxHQUFJRyxFQUFHLE1BQU1KLENBQ2YsQ0FDRixDQUNBLE9BQU9FLENBQ1QsQ0FDRixDRnJCZ0MsQ0FBcUJkLElBQUtDLEtBQU0sRUFBQXVCLDJCQUFBLEdBQTJCeEIsSUFBS0MsSUdMakYsU0FBU3dCLG1CQUN0QixNQUFNLElBQUlDLFVBQVUsNElBQ3RCLENI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SyxRQUFTLFNBQUFBLFFBQUNoRSxHQUNOQSxFQUFFaUUsaUJBQ0ZsQixZQUNKLEVBQ0FtQixNQUFNLGNBQ05DLFVBQVduQixjQUFnQkMsU0FBU1MsVUFFcENFLEVBQUFBLCtDQUFBQSxLQUFBLEtBQ0lELFVBQVUseUNBQ1YsY0FBWSxlQU1wQyxDLHN1Q0N6RWUsU0FBU1MsTUFBS3hCLE1BWXpCLElBWEF5QixLQUFJekIsS0FBSnlCLEtBQ0FDLFFBQU8xQixLQUFQMEIsUUFDQVosU0FBUWQsS0FBUmMsU0FDQWtCLFNBQVFoQyxLQUFSZ0MsU0FDQUMsYUFBWWpDLEtBQVppQyxhQVFBLE9BQ0lSLE9BQ0liLEVBQUFBLCtDQUFBQSxNQUFBLFFBQ0lHLFVBQVUsc0JBQ1ZFLE1BQU8sQ0FDSGlCLEtBQU1GLFVBQVlBLFNBQVMsR0FDM0JHLElBQUtILFVBQVlBLFNBQVMsSUFDNUJsQixTQUFBLEVBRUZFLEVBQUFBLCtDQUFBQSxLQUFBLFFBQ0lELFVBQVUsZ0JBQ1ZLLFFBQVMsU0FBQUEsUUFBQ2hFLEdBQ05BLEVBQUVpRSxpQkFDR1ksY0FDRFAsU0FFUixJQUVIWixXQUlqQixDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVlc3Rpb25hYmxlLWNvbnRlbnQtc3BhLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vcXVlc3Rpb25hYmxlLWNvbnRlbnQtc3BhLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FycmF5V2l0aEhvbGVzLmpzIiwid2VicGFjazovL3F1ZXN0aW9uYWJsZS1jb250ZW50LXNwYS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pdGVyYWJsZVRvQXJyYXlMaW1pdC5qcyIsIndlYnBhY2s6Ly9xdWVzdGlvbmFibGUtY29udGVudC1zcGEvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vbm9uSXRlcmFibGVSZXN0LmpzIiwid2VicGFjazovL3F1ZXN0aW9uYWJsZS1jb250ZW50LXNwYS8uL3NyYy9jb2xvci50cyIsIndlYnBhY2s6Ly9xdWVzdGlvbmFibGUtY29udGVudC1zcGEvLi9zcmMvY29tcG9uZW50cy9JdGVtRGV0YWlsc0RpYWxvZy9JdGVtRGV0YWlscy9Db2xvclBpY2tlci9Db2xvclBpY2tlci50c3giLCJ3ZWJwYWNrOi8vcXVlc3Rpb25hYmxlLWNvbnRlbnQtc3BhLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBhcnJheVdpdGhIb2xlcyBmcm9tIFwiLi9hcnJheVdpdGhIb2xlcy5qc1wiO1xuaW1wb3J0IGl0ZXJhYmxlVG9BcnJheUxpbWl0IGZyb20gXCIuL2l0ZXJhYmxlVG9BcnJheUxpbWl0LmpzXCI7XG5pbXBvcnQgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkgZnJvbSBcIi4vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkuanNcIjtcbmltcG9ydCBub25JdGVyYWJsZVJlc3QgZnJvbSBcIi4vbm9uSXRlcmFibGVSZXN0LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHtcbiAgcmV0dXJuIGFycmF5V2l0aEhvbGVzKGFycikgfHwgaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IG5vbkl0ZXJhYmxlUmVzdCgpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQociwgbCkge1xuICB2YXIgdCA9IG51bGwgPT0gciA/IG51bGwgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgcltTeW1ib2wuaXRlcmF0b3JdIHx8IHJbXCJAQGl0ZXJhdG9yXCJdO1xuICBpZiAobnVsbCAhPSB0KSB7XG4gICAgdmFyIGUsXG4gICAgICBuLFxuICAgICAgaSxcbiAgICAgIHUsXG4gICAgICBhID0gW10sXG4gICAgICBmID0gITAsXG4gICAgICBvID0gITE7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChpID0gKHQgPSB0LmNhbGwocikpLm5leHQsIDAgPT09IGwpIHtcbiAgICAgICAgaWYgKE9iamVjdCh0KSAhPT0gdCkgcmV0dXJuO1xuICAgICAgICBmID0gITE7XG4gICAgICB9IGVsc2UgZm9yICg7ICEoZiA9IChlID0gaS5jYWxsKHQpKS5kb25lKSAmJiAoYS5wdXNoKGUudmFsdWUpLCBhLmxlbmd0aCAhPT0gbCk7IGYgPSAhMCk7XG4gICAgfSBjYXRjaCAocikge1xuICAgICAgbyA9ICEwLCBuID0gcjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFmICYmIG51bGwgIT0gdFtcInJldHVyblwiXSAmJiAodSA9IHRbXCJyZXR1cm5cIl0oKSwgT2JqZWN0KHUpICE9PSB1KSkgcmV0dXJuO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKG8pIHRocm93IG47XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhO1xuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn0iLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2LTIwMjIgQWxleGFuZGVyIEtyaXbDoWNzIFNjaHLDuGRlciA8YWxleHNjaHJvZEBnbWFpbC5jb20+XG4gKlxuICogVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBUaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIHRoaXMgcHJvZ3JhbS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG4vLyBQYXJ0cyBiYXNlZCBvbiBjb2RlIGZyb206XG4vLyBodHRwOi8vYXhvbmZsdXguY29tL2hhbmR5LXJnYi10by1oc2wtYW5kLXJnYi10by1oc3YtY29sb3ItbW9kZWwtY1xuXG5leHBvcnQgZnVuY3Rpb24gaHVlMnJnYihwOiBudW1iZXIsIHE6IG51bWJlciwgdDogbnVtYmVyKSB7XG4gICAgaWYgKHQgPCAwKSB7XG4gICAgICAgIHQgKz0gMVxuICAgIH1cblxuICAgIGlmICh0ID4gMSkge1xuICAgICAgICB0IC09IDFcbiAgICB9XG5cbiAgICBpZiAodCA8IDEgLyA2KSB7XG4gICAgICAgIHJldHVybiBwICsgKHEgLSBwKSAqIDYgKiB0XG4gICAgfVxuXG4gICAgaWYgKHQgPCAxIC8gMikge1xuICAgICAgICByZXR1cm4gcVxuICAgIH1cblxuICAgIGlmICh0IDwgMiAvIDMpIHtcbiAgICAgICAgcmV0dXJuIHAgKyAocSAtIHApICogKDIgLyAzIC0gdCkgKiA2XG4gICAgfVxuXG4gICAgcmV0dXJuIHBcbn1cblxudHlwZSBIU0xWYWx1ZSA9IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXVxudHlwZSBSR0JWYWx1ZSA9IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXVxudHlwZSBIU1ZWYWx1ZSA9IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXVxuXG4vKipcbiAqIENvbnZlcnRzIGFuIFJHQiBjb2xvciB2YWx1ZSB0byBIU0wuIENvbnZlcnNpb24gZm9ybXVsYVxuICogYWRhcHRlZCBmcm9tIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSFNMX2NvbG9yX3NwYWNlLlxuICogQXNzdW1lcyByLCBnLCBhbmQgYiBhcmUgY29udGFpbmVkIGluIHRoZSBzZXQgWzAsIDI1NV0gYW5kXG4gKiByZXR1cm5zIGgsIHMsIGFuZCBsIGluIHRoZSBzZXQgWzAsIDFdLlxuICpcbiAqIEBwYXJhbSAgIHtudW1iZXJ9ICByICAgICAgIFRoZSByZWQgY29sb3IgdmFsdWVcbiAqIEBwYXJhbSAgIHtudW1iZXJ9ICBnICAgICAgIFRoZSBncmVlbiBjb2xvciB2YWx1ZVxuICogQHBhcmFtICAge251bWJlcn0gIGIgICAgICAgVGhlIGJsdWUgY29sb3IgdmFsdWVcbiAqIEByZXR1cm4gIHtIU0xWYWx1ZX0gICAgICAgIFRoZSBIU0wgcmVwcmVzZW50YXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJnYlRvSHNsKHI6IG51bWJlciwgZzogbnVtYmVyLCBiOiBudW1iZXIpOiBIU0xWYWx1ZSB7XG4gICAgciAvPSAyNTVcbiAgICBnIC89IDI1NVxuICAgIGIgLz0gMjU1XG4gICAgY29uc3QgbWF4ID0gTWF0aC5tYXgociwgZywgYilcbiAgICBjb25zdCBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKVxuICAgIGxldCBoID0gMFxuICAgIGxldCBzXG4gICAgY29uc3QgbCA9IChtYXggKyBtaW4pIC8gMlxuXG4gICAgaWYgKG1heCA9PT0gbWluKSB7XG4gICAgICAgIGggPSBzID0gMCAvLyBBY2hyb21hdGljXG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZCA9IG1heCAtIG1pblxuXG4gICAgICAgIHMgPSBsID4gMC41ID8gZCAvICgyIC0gbWF4IC0gbWluKSA6IGQgLyAobWF4ICsgbWluKVxuXG4gICAgICAgIHN3aXRjaCAobWF4KSB7XG4gICAgICAgICAgICBjYXNlIHI6XG4gICAgICAgICAgICAgICAgaCA9IChnIC0gYikgLyBkICsgKGcgPCBiID8gNiA6IDApXG4gICAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgY2FzZSBnOlxuICAgICAgICAgICAgICAgIGggPSAoYiAtIHIpIC8gZCArIDJcbiAgICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICBjYXNlIGI6XG4gICAgICAgICAgICAgICAgaCA9IChyIC0gZykgLyBkICsgNFxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgaCAvPSA2XG4gICAgfVxuXG4gICAgcmV0dXJuIFtoLCBzLCBsXVxufVxuXG4vKipcbiAqIENvbnZlcnRzIGFuIEhTTCBjb2xvciB2YWx1ZSB0byBSR0IuIENvbnZlcnNpb24gZm9ybXVsYVxuICogYWRhcHRlZCBmcm9tIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSFNMX2NvbG9yX3NwYWNlLlxuICogQXNzdW1lcyBoLCBzLCBhbmQgbCBhcmUgY29udGFpbmVkIGluIHRoZSBzZXQgWzAsIDFdIGFuZFxuICogcmV0dXJucyByLCBnLCBhbmQgYiBpbiB0aGUgc2V0IFswLCAyNTVdLlxuICpcbiAqIEBwYXJhbSAgIHtudW1iZXJ9ICBoICAgICAgIFRoZSBodWVcbiAqIEBwYXJhbSAgIHtudW1iZXJ9ICBzICAgICAgIFRoZSBzYXR1cmF0aW9uXG4gKiBAcGFyYW0gICB7bnVtYmVyfSAgbCAgICAgICBUaGUgbGlnaHRuZXNzXG4gKiBAcmV0dXJuICB7UkdCVmFsdWV9ICAgICAgICBUaGUgUkdCIHJlcHJlc2VudGF0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoc2xUb1JnYihoOiBudW1iZXIsIHM6IG51bWJlciwgbDogbnVtYmVyKTogUkdCVmFsdWUge1xuICAgIGxldCByXG4gICAgbGV0IGdcbiAgICBsZXQgYlxuXG4gICAgaWYgKHMgPT09IDApIHtcbiAgICAgICAgciA9IGcgPSBiID0gbCAvLyBBY2hyb21hdGljXG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgcSA9IGwgPCAwLjUgPyBsICogKDEgKyBzKSA6IGwgKyBzIC0gbCAqIHNcbiAgICAgICAgY29uc3QgcCA9IDIgKiBsIC0gcVxuXG4gICAgICAgIHIgPSBodWUycmdiKHAsIHEsIGggKyAxIC8gMylcbiAgICAgICAgZyA9IGh1ZTJyZ2IocCwgcSwgaClcbiAgICAgICAgYiA9IGh1ZTJyZ2IocCwgcSwgaCAtIDEgLyAzKVxuICAgIH1cblxuICAgIHJldHVybiBbTWF0aC5yb3VuZChyICogMjU1KSwgTWF0aC5yb3VuZChnICogMjU1KSwgTWF0aC5yb3VuZChiICogMjU1KV1cbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhbiBSR0IgY29sb3IgdmFsdWUgdG8gSFNWLiBDb252ZXJzaW9uIGZvcm11bGFcbiAqIGFkYXB0ZWQgZnJvbSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0hTVl9jb2xvcl9zcGFjZS5cbiAqIEFzc3VtZXMgciwgZywgYW5kIGIgYXJlIGNvbnRhaW5lZCBpbiB0aGUgc2V0IFswLCAyNTVdIGFuZFxuICogcmV0dXJucyBoLCBzLCBhbmQgdiBpbiB0aGUgc2V0IFswLCAxXS5cbiAqXG4gKiBAcGFyYW0gICB7bnVtYmVyfSAgciAgICAgICBUaGUgcmVkIGNvbG9yIHZhbHVlXG4gKiBAcGFyYW0gICB7bnVtYmVyfSAgZyAgICAgICBUaGUgZ3JlZW4gY29sb3IgdmFsdWVcbiAqIEBwYXJhbSAgIHtudW1iZXJ9ICBiICAgICAgIFRoZSBibHVlIGNvbG9yIHZhbHVlXG4gKiBAcmV0dXJuICB7SFNWVmFsdWV9ICAgICAgICBUaGUgSFNWIHJlcHJlc2VudGF0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZ2JUb0hzdihyOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyKTogSFNWVmFsdWUge1xuICAgIHIgPSByIC8gMjU1XG4gICAgZyA9IGcgLyAyNTVcbiAgICBiID0gYiAvIDI1NVxuICAgIGNvbnN0IG1heCA9IE1hdGgubWF4KHIsIGcsIGIpXG4gICAgY29uc3QgbWluID0gTWF0aC5taW4ociwgZywgYilcbiAgICBsZXQgaCA9IDBcbiAgICBsZXQgc1xuICAgIGNvbnN0IHYgPSBtYXhcblxuICAgIGNvbnN0IGQgPSBtYXggLSBtaW5cblxuICAgIHMgPSBtYXggPT09IDAgPyAwIDogZCAvIG1heFxuXG4gICAgaWYgKG1heCA9PT0gbWluKSB7XG4gICAgICAgIGggPSAwIC8vIEFjaHJvbWF0aWNcbiAgICB9IGVsc2Uge1xuICAgICAgICBzd2l0Y2ggKG1heCkge1xuICAgICAgICAgICAgY2FzZSByOlxuICAgICAgICAgICAgICAgIGggPSAoZyAtIGIpIC8gZCArIChnIDwgYiA/IDYgOiAwKVxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgIGNhc2UgZzpcbiAgICAgICAgICAgICAgICBoID0gKGIgLSByKSAvIGQgKyAyXG4gICAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgY2FzZSBiOlxuICAgICAgICAgICAgICAgIGggPSAociAtIGcpIC8gZCArIDRcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGggLz0gNlxuICAgIH1cblxuICAgIHJldHVybiBbaCwgcywgdl1cbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhbiBIU1YgY29sb3IgdmFsdWUgdG8gUkdCLiBDb252ZXJzaW9uIGZvcm11bGFcbiAqIGFkYXB0ZWQgZnJvbSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0hTVl9jb2xvcl9zcGFjZS5cbiAqIEFzc3VtZXMgaCwgcywgYW5kIHYgYXJlIGNvbnRhaW5lZCBpbiB0aGUgc2V0IFswLCAxXSBhbmRcbiAqIHJldHVybnMgciwgZywgYW5kIGIgaW4gdGhlIHNldCBbMCwgMjU1XS5cbiAqXG4gKiBAcGFyYW0gICB7bnVtYmVyfSAgaCAgICAgICBUaGUgaHVlXG4gKiBAcGFyYW0gICB7bnVtYmVyfSAgcyAgICAgICBUaGUgc2F0dXJhdGlvblxuICogQHBhcmFtICAge251bWJlcn0gIHYgICAgICAgVGhlIHZhbHVlXG4gKiBAcmV0dXJuICB7UkdCVmFsdWV9ICAgICAgICBUaGUgUkdCIHJlcHJlc2VudGF0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoc3ZUb1JnYihoOiBudW1iZXIsIHM6IG51bWJlciwgdjogbnVtYmVyKSB7XG4gICAgbGV0IHIgPSAwXG4gICAgbGV0IGcgPSAwXG4gICAgbGV0IGIgPSAwXG5cbiAgICBjb25zdCBpID0gTWF0aC5mbG9vcihoICogNilcbiAgICBjb25zdCBmID0gaCAqIDYgLSBpXG4gICAgY29uc3QgcCA9IHYgKiAoMSAtIHMpXG4gICAgY29uc3QgcSA9IHYgKiAoMSAtIGYgKiBzKVxuICAgIGNvbnN0IHQgPSB2ICogKDEgLSAoMSAtIGYpICogcylcblxuICAgIHN3aXRjaCAoaSAlIDYpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgciA9IHZcbiAgICAgICAgICAgIGcgPSB0XG4gICAgICAgICAgICBiID0gcFxuICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICByID0gcVxuICAgICAgICAgICAgZyA9IHZcbiAgICAgICAgICAgIGIgPSBwXG4gICAgICAgICAgICBicmVha1xuXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHIgPSBwXG4gICAgICAgICAgICBnID0gdlxuICAgICAgICAgICAgYiA9IHRcbiAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgciA9IHBcbiAgICAgICAgICAgIGcgPSBxXG4gICAgICAgICAgICBiID0gdlxuICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICByID0gdFxuICAgICAgICAgICAgZyA9IHBcbiAgICAgICAgICAgIGIgPSB2XG4gICAgICAgICAgICBicmVha1xuXG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgIHIgPSB2XG4gICAgICAgICAgICBnID0gcFxuICAgICAgICAgICAgYiA9IHFcbiAgICAgICAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgcmV0dXJuIFtNYXRoLnJvdW5kKHIgKiAyNTUpLCBNYXRoLnJvdW5kKGcgKiAyNTUpLCBNYXRoLnJvdW5kKGIgKiAyNTUpXVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaGV4Q29sb3JUb1JnYihoZXhDb2xvcjogc3RyaW5nKTogUkdCVmFsdWUge1xuICAgIGlmIChoZXhDb2xvci5jaGFyQXQoMCkgPT09ICcjJykge1xuICAgICAgICBoZXhDb2xvciA9IGhleENvbG9yLnN1YnN0cmluZygxKSAvLyBTdHJpcCAjXG4gICAgfVxuICAgIGNvbnN0IHJnYiA9IHBhcnNlSW50KGhleENvbG9yLCAxNikgLy8gQ29udmVydCBycmdnYmIgdG8gZGVjaW1hbFxuICAgIGNvbnN0IHIgPSAocmdiID4+IDE2KSAmIDB4ZmYgLy8gRXh0cmFjdCByZWRcbiAgICBjb25zdCBnID0gKHJnYiA+PiA4KSAmIDB4ZmYgLy8gRXh0cmFjdCBncmVlblxuICAgIGNvbnN0IGIgPSByZ2IgJiAweGZmIC8vIEV4dHJhY3QgYmx1ZVxuICAgIHJldHVybiBbciwgZywgYl1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJnYlRvSGV4Q29sb3IocjogbnVtYmVyLCBnOiBudW1iZXIsIGI6IG51bWJlcik6IHN0cmluZyB7XG4gICAgcmV0dXJuICcjJyArICgoMSA8PCAyNCkgKyAociA8PCAxNikgKyAoZyA8PCA4KSArIGIpLnRvU3RyaW5nKDE2KS5zbGljZSgxKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmdiUmVsYXRpdmVMdW1pbmFuY2UoXG4gICAgcjogbnVtYmVyLFxuICAgIGc6IG51bWJlcixcbiAgICBiOiBudW1iZXJcbik6IG51bWJlciB7XG4gICAgcmV0dXJuIDAuMjEyNiAqIHIgKyAwLjcxNTIgKiBnICsgMC4wNzIyICogYiAvLyBQZXIgSVRVLVIgQlQuNzA5XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUaW50T3JTaGFkZShcbiAgICBoZXhDb2xvcjogc3RyaW5nLFxuICAgIGl0ZXJhdGlvbnM/OiBudW1iZXJcbik6IHN0cmluZyB7XG4gICAgaWYgKHR5cGVvZiBpdGVyYXRpb25zID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpdGVyYXRpb25zID0gMVxuICAgIH1cblxuICAgIGxldCByZ2IgPSBoZXhDb2xvclRvUmdiKGhleENvbG9yKVxuICAgIGNvbnN0IGhzbCA9IHJnYlRvSHNsKHJnYlswXSwgcmdiWzFdLCByZ2JbMl0pXG5cbiAgICBjb25zdCB0aW50ID0gaHNsWzJdIDwgMC41XG5cbiAgICBmb3IgKGxldCBpID0gaXRlcmF0aW9uczsgaSA+IDA7IGktLSkge1xuICAgICAgICAvLyBJZiBpdCdzIGEgZGFyayBjb2xvciwgbWFrZSBpdCBsaWdodGVyXG4gICAgICAgIC8vIGFuZCB2aWNlIHZlcnNhLlxuICAgICAgICBpZiAodGludCkge1xuICAgICAgICAgICAgLy8gSW5jcmVhc2UgdGhlIGxpZ2h0bmVzcyBieVxuICAgICAgICAgICAgLy8gNTAlICh0aW50KVxuICAgICAgICAgICAgaHNsWzJdID0gKGhzbFsyXSArIDEpIC8gMlxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRGVjcmVhc2UgdGhlIGxpZ2h0bmVzcyBieVxuICAgICAgICAgICAgLy8gNTAlIChzaGFkZSlcbiAgICAgICAgICAgIGhzbFsyXSAvPSAyXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZ2IgPSBoc2xUb1JnYihoc2xbMF0sIGhzbFsxXSwgaHNsWzJdKVxuICAgIHJldHVybiByZ2JUb0hleENvbG9yKHJnYlswXSwgcmdiWzFdLCByZ2JbMl0pXG59XG4iLCJpbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgU2tldGNoUGlja2VyIH0gZnJvbSAncmVhY3QtY29sb3InXG5cbmltcG9ydCBQb3B1cCBmcm9tICdAY29tcG9uZW50cy9Qb3B1cCdcblxuaW1wb3J0IHsgY3JlYXRlVGludE9yU2hhZGUgfSBmcm9tICd+L2NvbG9yJ1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb2xvclBpY2tlcih7XG4gICAgY29sb3IsXG4gICAgc2V0Q29sb3IsXG4gICAgcmVzZXRDb2xvcixcbiAgICBpc0NvbG9yRGlydHksXG4gICAgaXNTYXZpbmcsXG59OiB7XG4gICAgY29sb3I6IHN0cmluZ1xuICAgIHNldENvbG9yOiAoY29sb3I6IHN0cmluZykgPT4gdm9pZFxuICAgIHJlc2V0Q29sb3I6ICgpID0+IHZvaWRcbiAgICBpc0NvbG9yRGlydHk6IGJvb2xlYW5cbiAgICBpc1NhdmluZzogYm9vbGVhblxufSkge1xuICAgIGNvbnN0IGZvcmVncm91bmRDb2xvciA9IGNyZWF0ZVRpbnRPclNoYWRlKGNvbG9yKVxuXG4gICAgY29uc3QgW3Nob3dQaWNrZXIsIHNldFNob3dQaWNrZXJdID0gdXNlU3RhdGUoZmFsc2UpXG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtMiBwLTEgYmctd2hpdGUgYm9yZGVyIGJvcmRlci1zb2xpZCBib3JkZXItZ3JheS0yMDAgcm91bmRlZC1zbSBpbmxpbmUtYmxvY2sgY3Vyc29yLXBvaW50ZXIgYWxpZ24tbWlkZGxlXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTkgaC01IHJvdW5kZWQtc20gYmxvY2tcIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6IGAke2NvbG9yfWAgfX1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2hvd1BpY2tlcigocykgPT4gIXMpXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiUGljayBjb2xvclwiXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1NhdmluZ31cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxpXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmYSBmYS1leWVkcm9wcGVyIGJsb2NrIHRleHQtY2VudGVyIHB0LTAuNVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogZm9yZWdyb3VuZENvbG9yIH19XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWhpZGRlbj1cInRydWVcIlxuICAgICAgICAgICAgICAgICAgICA+PC9pPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxQb3B1cCBzaG93PXtzaG93UGlja2VyfSBvbkNsb3NlPXsoKSA9PiBzZXRTaG93UGlja2VyKGZhbHNlKX0+XG4gICAgICAgICAgICAgICAgICAgIDxTa2V0Y2hQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yPXtjb2xvcn1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVBbHBoYT17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsocikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENvbG9yKHIuaGV4KVxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXNldENvbG9ycz17W119XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9Qb3B1cD5cbiAgICAgICAgICAgIDwvc3Bhbj5cblxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicC0xIG1sLTEgaW5saW5lLWJsb2NrIGFsaWduLW1pZGRsZSByb3VuZGVkLXNtIGJvcmRlciBib3JkZXItc29saWQgYm9yZGVyLWdyYXktMjAwXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTUgdy01IGJsb2NrIGRpc2FibGVkOm9wYWNpdHktNzUgXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRDb2xvcigpXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiUmVzZXQgY29sb3JcIlxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWlzQ29sb3JEaXJ0eSB8fCBpc1NhdmluZ31cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxpXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmYSBmYS1yZWZyZXNoIGJsb2NrIHRleHQtY2VudGVyIHB0LTAuNVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWhpZGRlbj1cInRydWVcIlxuICAgICAgICAgICAgICAgICAgICA+PC9pPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8Lz5cbiAgICApXG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQb3B1cCh7XG4gICAgc2hvdyxcbiAgICBvbkNsb3NlLFxuICAgIGNoaWxkcmVuLFxuICAgIHBvc2l0aW9uLFxuICAgIHByZXZlbnRDbG9zZSxcbn06IHtcbiAgICBzaG93OiBib29sZWFuXG4gICAgb25DbG9zZTogKCkgPT4gdm9pZFxuICAgIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGVcbiAgICBwb3NpdGlvbj86IFtudW1iZXIsIG51bWJlcl1cbiAgICBwcmV2ZW50Q2xvc2U/OiBib29sZWFuXG59KSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgc2hvdyAmJiAoXG4gICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHotWzJdIHB0LTJcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IHBvc2l0aW9uICYmIHBvc2l0aW9uWzBdLFxuICAgICAgICAgICAgICAgICAgICB0b3A6IHBvc2l0aW9uICYmIHBvc2l0aW9uWzFdLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMFwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcHJldmVudENsb3NlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbG9zZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIClcbiAgICApXG59XG4iXSwibmFtZXMiOlsiX3NsaWNlZFRvQXJyYXkiLCJhcnIiLCJpIiwiX2FycmF5V2l0aEhvbGVzIiwiQXJyYXkiLCJpc0FycmF5IiwiX2l0ZXJhYmxlVG9BcnJheUxpbWl0IiwiciIsImwiLCJ0IiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJlIiwibiIsInUiLCJhIiwiZiIsIm8iLCJjYWxsIiwibmV4dCIsIk9iamVjdCIsImRvbmUiLCJwdXNoIiwidmFsdWUiLCJsZW5ndGgiLCJ1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIl9ub25JdGVyYWJsZVJlc3QiLCJUeXBlRXJyb3IiLCJodWUycmdiIiwicCIsInEiLCJjcmVhdGVUaW50T3JTaGFkZSIsImhleENvbG9yIiwiaXRlcmF0aW9ucyIsInJnYiIsImhleENvbG9yVG9SZ2IiLCJjaGFyQXQiLCJzdWJzdHJpbmciLCJwYXJzZUludCIsImhzbCIsInJnYlRvSHNsIiwiZyIsImIiLCJzIiwibWF4IiwiTWF0aCIsIm1pbiIsImgiLCJkIiwidGludCIsInJnYlRvSGV4Q29sb3IiLCJ0b1N0cmluZyIsInNsaWNlIiwiaHNsVG9SZ2IiLCJyb3VuZCIsIkNvbG9yUGlja2VyIiwiX3JlZiIsImNvbG9yIiwic2V0Q29sb3IiLCJyZXNldENvbG9yIiwiaXNDb2xvckRpcnR5IiwiaXNTYXZpbmciLCJmb3JlZ3JvdW5kQ29sb3IiLCJfdXNlU3RhdGUiLCJ1c2VTdGF0ZSIsIl91c2VTdGF0ZTIiLCJzaG93UGlja2VyIiwic2V0U2hvd1BpY2tlciIsIl9qc3hzIiwiX0ZyYWdtZW50IiwiY2hpbGRyZW4iLCJjbGFzc05hbWUiLCJfanN4Iiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjb25jYXQiLCJvbkNsaWNrIiwicHJldmVudERlZmF1bHQiLCJ0aXRsZSIsImRpc2FibGVkIiwiUG9wdXAiLCJzaG93Iiwib25DbG9zZSIsIlNrZXRjaFBpY2tlciIsImRpc2FibGVBbHBoYSIsIm9uQ2hhbmdlIiwiaGV4IiwicHJlc2V0Q29sb3JzIiwicG9zaXRpb24iLCJwcmV2ZW50Q2xvc2UiLCJsZWZ0IiwidG9wIl0sInNvdXJjZVJvb3QiOiIifQ==