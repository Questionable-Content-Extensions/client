"use strict";(self.webpackChunkquestionable_content_spa=self.webpackChunkquestionable_content_spa||[]).push([[822],{"./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}__webpack_require__.d(__webpack_exports__,{Z:function(){return _objectWithoutProperties}})},"./node_modules/marked/lib/marked.esm.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){function _getDefaults(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}__webpack_require__.d(__webpack_exports__,{TU:function(){return marked}});let _defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function changeDefaults(newDefaults){_defaults=newDefaults}const escapeTest=/[&<>"']/,escapeReplace=new RegExp(escapeTest.source,"g"),escapeTestNoEncode=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode=new RegExp(escapeTestNoEncode.source,"g"),escapeReplacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},getEscapeReplacement=ch=>escapeReplacements[ch];function escape(html,encode){if(encode){if(escapeTest.test(html))return html.replace(escapeReplace,getEscapeReplacement)}else if(escapeTestNoEncode.test(html))return html.replace(escapeReplaceNoEncode,getEscapeReplacement);return html}const unescapeTest=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;const caret=/(^|[^\[])\^/g;function edit(regex,opt){regex="string"==typeof regex?regex:regex.source,opt=opt||"";const obj={replace:(name,val)=>(val=(val="object"==typeof val&&"source"in val?val.source:val).replace(caret,"$1"),regex=regex.replace(name,val),obj),getRegex:()=>new RegExp(regex,opt)};return obj}function cleanUrl(href){try{href=encodeURI(href).replace(/%25/g,"%")}catch(e){return null}return href}const noopTest={exec:()=>null};function splitCells(tableRow,count){const cells=tableRow.replace(/\|/g,((match,offset,str)=>{let escaped=!1,curr=offset;for(;--curr>=0&&"\\"===str[curr];)escaped=!escaped;return escaped?"|":" |"})).split(/ \|/);let i=0;if(cells[0].trim()||cells.shift(),cells.length>0&&!cells[cells.length-1].trim()&&cells.pop(),count)if(cells.length>count)cells.splice(count);else for(;cells.length<count;)cells.push("");for(;i<cells.length;i++)cells[i]=cells[i].trim().replace(/\\\|/g,"|");return cells}function rtrim(str,c,invert){const l=str.length;if(0===l)return"";let suffLen=0;for(;suffLen<l;){const currChar=str.charAt(l-suffLen-1);if(currChar!==c||invert){if(currChar===c||!invert)break;suffLen++}else suffLen++}return str.slice(0,l-suffLen)}function outputLink(cap,link,raw,lexer){const href=link.href,title=link.title?escape(link.title):null,text=cap[1].replace(/\\([\[\]])/g,"$1");if("!"!==cap[0].charAt(0)){lexer.state.inLink=!0;const token={type:"link",raw:raw,href:href,title:title,text:text,tokens:lexer.inlineTokens(text)};return lexer.state.inLink=!1,token}return{type:"image",raw:raw,href:href,title:title,text:escape(text)}}class _Tokenizer{options;rules;lexer;constructor(options){this.options=options||_defaults}space(src){const cap=this.rules.block.newline.exec(src);if(cap&&cap[0].length>0)return{type:"space",raw:cap[0]}}code(src){const cap=this.rules.block.code.exec(src);if(cap){const text=cap[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:cap[0],codeBlockStyle:"indented",text:this.options.pedantic?text:rtrim(text,"\n")}}}fences(src){const cap=this.rules.block.fences.exec(src);if(cap){const raw=cap[0],text=function indentCodeCompensation(raw,text){const matchIndentToCode=raw.match(/^(\s+)(?:```)/);if(null===matchIndentToCode)return text;const indentToCode=matchIndentToCode[1];return text.split("\n").map((node=>{const matchIndentInNode=node.match(/^\s+/);if(null===matchIndentInNode)return node;const[indentInNode]=matchIndentInNode;return indentInNode.length>=indentToCode.length?node.slice(indentToCode.length):node})).join("\n")}(raw,cap[3]||"");return{type:"code",raw:raw,lang:cap[2]?cap[2].trim().replace(this.rules.inline._escapes,"$1"):cap[2],text:text}}}heading(src){const cap=this.rules.block.heading.exec(src);if(cap){let text=cap[2].trim();if(/#$/.test(text)){const trimmed=rtrim(text,"#");this.options.pedantic?text=trimmed.trim():trimmed&&!/ $/.test(trimmed)||(text=trimmed.trim())}return{type:"heading",raw:cap[0],depth:cap[1].length,text:text,tokens:this.lexer.inline(text)}}}hr(src){const cap=this.rules.block.hr.exec(src);if(cap)return{type:"hr",raw:cap[0]}}blockquote(src){const cap=this.rules.block.blockquote.exec(src);if(cap){const text=cap[0].replace(/^ *>[ \t]?/gm,""),top=this.lexer.state.top;this.lexer.state.top=!0;const tokens=this.lexer.blockTokens(text);return this.lexer.state.top=top,{type:"blockquote",raw:cap[0],tokens:tokens,text:text}}}list(src){let cap=this.rules.block.list.exec(src);if(cap){let bull=cap[1].trim();const isordered=bull.length>1,list={type:"list",raw:"",ordered:isordered,start:isordered?+bull.slice(0,-1):"",loose:!1,items:[]};bull=isordered?`\\d{1,9}\\${bull.slice(-1)}`:`\\${bull}`,this.options.pedantic&&(bull=isordered?bull:"[*+-]");const itemRegex=new RegExp(`^( {0,3}${bull})((?:[\t ][^\\n]*)?(?:\\n|$))`);let raw="",itemContents="",endsWithBlankLine=!1;for(;src;){let endEarly=!1;if(!(cap=itemRegex.exec(src)))break;if(this.rules.block.hr.test(src))break;raw=cap[0],src=src.substring(raw.length);let line=cap[2].split("\n",1)[0].replace(/^\t+/,(t=>" ".repeat(3*t.length))),nextLine=src.split("\n",1)[0],indent=0;this.options.pedantic?(indent=2,itemContents=line.trimStart()):(indent=cap[2].search(/[^ ]/),indent=indent>4?1:indent,itemContents=line.slice(indent),indent+=cap[1].length);let blankLine=!1;if(!line&&/^ *$/.test(nextLine)&&(raw+=nextLine+"\n",src=src.substring(nextLine.length+1),endEarly=!0),!endEarly){const nextBulletRegex=new RegExp(`^ {0,${Math.min(3,indent-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex=new RegExp(`^ {0,${Math.min(3,indent-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex=new RegExp(`^ {0,${Math.min(3,indent-1)}}(?:\`\`\`|~~~)`),headingBeginRegex=new RegExp(`^ {0,${Math.min(3,indent-1)}}#`);for(;src;){const rawLine=src.split("\n",1)[0];if(nextLine=rawLine,this.options.pedantic&&(nextLine=nextLine.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),fencesBeginRegex.test(nextLine))break;if(headingBeginRegex.test(nextLine))break;if(nextBulletRegex.test(nextLine))break;if(hrRegex.test(src))break;if(nextLine.search(/[^ ]/)>=indent||!nextLine.trim())itemContents+="\n"+nextLine.slice(indent);else{if(blankLine)break;if(line.search(/[^ ]/)>=4)break;if(fencesBeginRegex.test(line))break;if(headingBeginRegex.test(line))break;if(hrRegex.test(line))break;itemContents+="\n"+nextLine}blankLine||nextLine.trim()||(blankLine=!0),raw+=rawLine+"\n",src=src.substring(rawLine.length+1),line=nextLine.slice(indent)}}list.loose||(endsWithBlankLine?list.loose=!0:/\n *\n *$/.test(raw)&&(endsWithBlankLine=!0));let ischecked,istask=null;this.options.gfm&&(istask=/^\[[ xX]\] /.exec(itemContents),istask&&(ischecked="[ ] "!==istask[0],itemContents=itemContents.replace(/^\[[ xX]\] +/,""))),list.items.push({type:"list_item",raw:raw,task:!!istask,checked:ischecked,loose:!1,text:itemContents,tokens:[]}),list.raw+=raw}list.items[list.items.length-1].raw=raw.trimEnd(),list.items[list.items.length-1].text=itemContents.trimEnd(),list.raw=list.raw.trimEnd();for(let i=0;i<list.items.length;i++)if(this.lexer.state.top=!1,list.items[i].tokens=this.lexer.blockTokens(list.items[i].text,[]),!list.loose){const spacers=list.items[i].tokens.filter((t=>"space"===t.type)),hasMultipleLineBreaks=spacers.length>0&&spacers.some((t=>/\n.*\n/.test(t.raw)));list.loose=hasMultipleLineBreaks}if(list.loose)for(let i=0;i<list.items.length;i++)list.items[i].loose=!0;return list}}html(src){const cap=this.rules.block.html.exec(src);if(cap){return{type:"html",block:!0,raw:cap[0],pre:"pre"===cap[1]||"script"===cap[1]||"style"===cap[1],text:cap[0]}}}def(src){const cap=this.rules.block.def.exec(src);if(cap){const tag=cap[1].toLowerCase().replace(/\s+/g," "),href=cap[2]?cap[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",title=cap[3]?cap[3].substring(1,cap[3].length-1).replace(this.rules.inline._escapes,"$1"):cap[3];return{type:"def",tag:tag,raw:cap[0],href:href,title:title}}}table(src){const cap=this.rules.block.table.exec(src);if(cap){const item={type:"table",raw:cap[0],header:splitCells(cap[1]).map((c=>({text:c,tokens:[]}))),align:cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:cap[3]&&cap[3].trim()?cap[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(item.header.length===item.align.length){let i,j,k,row,l=item.align.length;for(i=0;i<l;i++){const align=item.align[i];align&&(/^ *-+: *$/.test(align)?item.align[i]="right":/^ *:-+: *$/.test(align)?item.align[i]="center":/^ *:-+ *$/.test(align)?item.align[i]="left":item.align[i]=null)}for(l=item.rows.length,i=0;i<l;i++)item.rows[i]=splitCells(item.rows[i],item.header.length).map((c=>({text:c,tokens:[]})));for(l=item.header.length,j=0;j<l;j++)item.header[j].tokens=this.lexer.inline(item.header[j].text);for(l=item.rows.length,j=0;j<l;j++)for(row=item.rows[j],k=0;k<row.length;k++)row[k].tokens=this.lexer.inline(row[k].text);return item}}}lheading(src){const cap=this.rules.block.lheading.exec(src);if(cap)return{type:"heading",raw:cap[0],depth:"="===cap[2].charAt(0)?1:2,text:cap[1],tokens:this.lexer.inline(cap[1])}}paragraph(src){const cap=this.rules.block.paragraph.exec(src);if(cap){const text="\n"===cap[1].charAt(cap[1].length-1)?cap[1].slice(0,-1):cap[1];return{type:"paragraph",raw:cap[0],text:text,tokens:this.lexer.inline(text)}}}text(src){const cap=this.rules.block.text.exec(src);if(cap)return{type:"text",raw:cap[0],text:cap[0],tokens:this.lexer.inline(cap[0])}}escape(src){const cap=this.rules.inline.escape.exec(src);if(cap)return{type:"escape",raw:cap[0],text:escape(cap[1])}}tag(src){const cap=this.rules.inline.tag.exec(src);if(cap)return!this.lexer.state.inLink&&/^<a /i.test(cap[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(cap[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(cap[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(cap[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:cap[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:cap[0]}}link(src){const cap=this.rules.inline.link.exec(src);if(cap){const trimmedUrl=cap[2].trim();if(!this.options.pedantic&&/^</.test(trimmedUrl)){if(!/>$/.test(trimmedUrl))return;const rtrimSlash=rtrim(trimmedUrl.slice(0,-1),"\\");if((trimmedUrl.length-rtrimSlash.length)%2==0)return}else{const lastParenIndex=function findClosingBracket(str,b){if(-1===str.indexOf(b[1]))return-1;let level=0;for(let i=0;i<str.length;i++)if("\\"===str[i])i++;else if(str[i]===b[0])level++;else if(str[i]===b[1]&&(level--,level<0))return i;return-1}(cap[2],"()");if(lastParenIndex>-1){const linkLen=(0===cap[0].indexOf("!")?5:4)+cap[1].length+lastParenIndex;cap[2]=cap[2].substring(0,lastParenIndex),cap[0]=cap[0].substring(0,linkLen).trim(),cap[3]=""}}let href=cap[2],title="";if(this.options.pedantic){const link=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(href);link&&(href=link[1],title=link[3])}else title=cap[3]?cap[3].slice(1,-1):"";return href=href.trim(),/^</.test(href)&&(href=this.options.pedantic&&!/>$/.test(trimmedUrl)?href.slice(1):href.slice(1,-1)),outputLink(cap,{href:href?href.replace(this.rules.inline._escapes,"$1"):href,title:title?title.replace(this.rules.inline._escapes,"$1"):title},cap[0],this.lexer)}}reflink(src,links){let cap;if((cap=this.rules.inline.reflink.exec(src))||(cap=this.rules.inline.nolink.exec(src))){let link=(cap[2]||cap[1]).replace(/\s+/g," ");if(link=links[link.toLowerCase()],!link){const text=cap[0].charAt(0);return{type:"text",raw:text,text:text}}return outputLink(cap,link,cap[0],this.lexer)}}emStrong(src,maskedSrc,prevChar=""){let match=this.rules.inline.emStrong.lDelim.exec(src);if(!match)return;if(match[3]&&prevChar.match(/[\p{L}\p{N}]/u))return;if(!(match[1]||match[2]||"")||!prevChar||this.rules.inline.punctuation.exec(prevChar)){const lLength=[...match[0]].length-1;let rDelim,rLength,delimTotal=lLength,midDelimTotal=0;const endReg="*"===match[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(endReg.lastIndex=0,maskedSrc=maskedSrc.slice(-1*src.length+lLength);null!=(match=endReg.exec(maskedSrc));){if(rDelim=match[1]||match[2]||match[3]||match[4]||match[5]||match[6],!rDelim)continue;if(rLength=[...rDelim].length,match[3]||match[4]){delimTotal+=rLength;continue}if((match[5]||match[6])&&lLength%3&&!((lLength+rLength)%3)){midDelimTotal+=rLength;continue}if(delimTotal-=rLength,delimTotal>0)continue;rLength=Math.min(rLength,rLength+delimTotal+midDelimTotal);const raw=[...src].slice(0,lLength+match.index+rLength+1).join("");if(Math.min(lLength,rLength)%2){const text=raw.slice(1,-1);return{type:"em",raw:raw,text:text,tokens:this.lexer.inlineTokens(text)}}const text=raw.slice(2,-2);return{type:"strong",raw:raw,text:text,tokens:this.lexer.inlineTokens(text)}}}}codespan(src){const cap=this.rules.inline.code.exec(src);if(cap){let text=cap[2].replace(/\n/g," ");const hasNonSpaceChars=/[^ ]/.test(text),hasSpaceCharsOnBothEnds=/^ /.test(text)&&/ $/.test(text);return hasNonSpaceChars&&hasSpaceCharsOnBothEnds&&(text=text.substring(1,text.length-1)),text=escape(text,!0),{type:"codespan",raw:cap[0],text:text}}}br(src){const cap=this.rules.inline.br.exec(src);if(cap)return{type:"br",raw:cap[0]}}del(src){const cap=this.rules.inline.del.exec(src);if(cap)return{type:"del",raw:cap[0],text:cap[2],tokens:this.lexer.inlineTokens(cap[2])}}autolink(src){const cap=this.rules.inline.autolink.exec(src);if(cap){let text,href;return"@"===cap[2]?(text=escape(cap[1]),href="mailto:"+text):(text=escape(cap[1]),href=text),{type:"link",raw:cap[0],text:text,href:href,tokens:[{type:"text",raw:text,text:text}]}}}url(src){let cap;if(cap=this.rules.inline.url.exec(src)){let text,href;if("@"===cap[2])text=escape(cap[0]),href="mailto:"+text;else{let prevCapZero;do{prevCapZero=cap[0],cap[0]=this.rules.inline._backpedal.exec(cap[0])[0]}while(prevCapZero!==cap[0]);text=escape(cap[0]),href="www."===cap[1]?"http://"+cap[0]:cap[0]}return{type:"link",raw:cap[0],text:text,href:href,tokens:[{type:"text",raw:text,text:text}]}}}inlineText(src){const cap=this.rules.inline.text.exec(src);if(cap){let text;return text=this.lexer.state.inRawBlock?cap[0]:escape(cap[0]),{type:"text",raw:cap[0],text:text}}}}const block={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:noopTest,lheading:/^((?:(?!^bull ).|\n(?!\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};block.def=edit(block.def).replace("label",block._label).replace("title",block._title).getRegex(),block.bullet=/(?:[*+-]|\d{1,9}[.)])/,block.listItemStart=edit(/^( *)(bull) */).replace("bull",block.bullet).getRegex(),block.list=edit(block.list).replace(/bull/g,block.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+block.def.source+")").getRegex(),block._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",block._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,block.html=edit(block.html,"i").replace("comment",block._comment).replace("tag",block._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),block.lheading=edit(block.lheading).replace(/bull/g,block.bullet).getRegex(),block.paragraph=edit(block._paragraph).replace("hr",block.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block._tag).getRegex(),block.blockquote=edit(block.blockquote).replace("paragraph",block.paragraph).getRegex(),block.normal={...block},block.gfm={...block.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},block.gfm.table=edit(block.gfm.table).replace("hr",block.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block._tag).getRegex(),block.gfm.paragraph=edit(block._paragraph).replace("hr",block.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",block.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block._tag).getRegex(),block.pedantic={...block.normal,html:edit("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",block._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:noopTest,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:edit(block.normal._paragraph).replace("hr",block.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",block.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const inline={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:noopTest,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:noopTest,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/,_punctuation:"\\p{P}$+<=>`^|~"};inline.punctuation=edit(inline.punctuation,"u").replace(/punctuation/g,inline._punctuation).getRegex(),inline.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,inline.anyPunctuation=/\\[punct]/g,inline._escapes=/\\([punct])/g,inline._comment=edit(block._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),inline.emStrong.lDelim=edit(inline.emStrong.lDelim,"u").replace(/punct/g,inline._punctuation).getRegex(),inline.emStrong.rDelimAst=edit(inline.emStrong.rDelimAst,"gu").replace(/punct/g,inline._punctuation).getRegex(),inline.emStrong.rDelimUnd=edit(inline.emStrong.rDelimUnd,"gu").replace(/punct/g,inline._punctuation).getRegex(),inline.anyPunctuation=edit(inline.anyPunctuation,"gu").replace(/punct/g,inline._punctuation).getRegex(),inline._escapes=edit(inline._escapes,"gu").replace(/punct/g,inline._punctuation).getRegex(),inline._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,inline._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,inline.autolink=edit(inline.autolink).replace("scheme",inline._scheme).replace("email",inline._email).getRegex(),inline._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,inline.tag=edit(inline.tag).replace("comment",inline._comment).replace("attribute",inline._attribute).getRegex(),inline._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,inline._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,inline._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,inline.link=edit(inline.link).replace("label",inline._label).replace("href",inline._href).replace("title",inline._title).getRegex(),inline.reflink=edit(inline.reflink).replace("label",inline._label).replace("ref",block._label).getRegex(),inline.nolink=edit(inline.nolink).replace("ref",block._label).getRegex(),inline.reflinkSearch=edit(inline.reflinkSearch,"g").replace("reflink",inline.reflink).replace("nolink",inline.nolink).getRegex(),inline.normal={...inline},inline.pedantic={...inline.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:edit(/^!?\[(label)\]\((.*?)\)/).replace("label",inline._label).getRegex(),reflink:edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",inline._label).getRegex()},inline.gfm={...inline.normal,escape:edit(inline.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},inline.gfm.url=edit(inline.gfm.url,"i").replace("email",inline.gfm._extended_email).getRegex(),inline.breaks={...inline.gfm,br:edit(inline.br).replace("{2,}","*").getRegex(),text:edit(inline.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class _Lexer{tokens;options;state;tokenizer;inlineQueue;constructor(options){this.tokens=[],this.tokens.links=Object.create(null),this.options=options||_defaults,this.options.tokenizer=this.options.tokenizer||new _Tokenizer,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const rules={block:block.normal,inline:inline.normal};this.options.pedantic?(rules.block=block.pedantic,rules.inline=inline.pedantic):this.options.gfm&&(rules.block=block.gfm,this.options.breaks?rules.inline=inline.breaks:rules.inline=inline.gfm),this.tokenizer.rules=rules}static get rules(){return{block:block,inline:inline}}static lex(src,options){return new _Lexer(options).lex(src)}static lexInline(src,options){return new _Lexer(options).inlineTokens(src)}lex(src){let next;for(src=src.replace(/\r\n|\r/g,"\n"),this.blockTokens(src,this.tokens);next=this.inlineQueue.shift();)this.inlineTokens(next.src,next.tokens);return this.tokens}blockTokens(src,tokens=[]){let token,lastToken,cutSrc,lastParagraphClipped;for(src=this.options.pedantic?src.replace(/\t/g,"    ").replace(/^ +$/gm,""):src.replace(/^( *)(\t+)/gm,((_,leading,tabs)=>leading+"    ".repeat(tabs.length)));src;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((extTokenizer=>!!(token=extTokenizer.call({lexer:this},src,tokens))&&(src=src.substring(token.raw.length),tokens.push(token),!0)))))if(token=this.tokenizer.space(src))src=src.substring(token.raw.length),1===token.raw.length&&tokens.length>0?tokens[tokens.length-1].raw+="\n":tokens.push(token);else if(token=this.tokenizer.code(src))src=src.substring(token.raw.length),lastToken=tokens[tokens.length-1],!lastToken||"paragraph"!==lastToken.type&&"text"!==lastToken.type?tokens.push(token):(lastToken.raw+="\n"+token.raw,lastToken.text+="\n"+token.text,this.inlineQueue[this.inlineQueue.length-1].src=lastToken.text);else if(token=this.tokenizer.fences(src))src=src.substring(token.raw.length),tokens.push(token);else if(token=this.tokenizer.heading(src))src=src.substring(token.raw.length),tokens.push(token);else if(token=this.tokenizer.hr(src))src=src.substring(token.raw.length),tokens.push(token);else if(token=this.tokenizer.blockquote(src))src=src.substring(token.raw.length),tokens.push(token);else if(token=this.tokenizer.list(src))src=src.substring(token.raw.length),tokens.push(token);else if(token=this.tokenizer.html(src))src=src.substring(token.raw.length),tokens.push(token);else if(token=this.tokenizer.def(src))src=src.substring(token.raw.length),lastToken=tokens[tokens.length-1],!lastToken||"paragraph"!==lastToken.type&&"text"!==lastToken.type?this.tokens.links[token.tag]||(this.tokens.links[token.tag]={href:token.href,title:token.title}):(lastToken.raw+="\n"+token.raw,lastToken.text+="\n"+token.raw,this.inlineQueue[this.inlineQueue.length-1].src=lastToken.text);else if(token=this.tokenizer.table(src))src=src.substring(token.raw.length),tokens.push(token);else if(token=this.tokenizer.lheading(src))src=src.substring(token.raw.length),tokens.push(token);else{if(cutSrc=src,this.options.extensions&&this.options.extensions.startBlock){let startIndex=1/0;const tempSrc=src.slice(1);let tempStart;this.options.extensions.startBlock.forEach((getStartIndex=>{tempStart=getStartIndex.call({lexer:this},tempSrc),"number"==typeof tempStart&&tempStart>=0&&(startIndex=Math.min(startIndex,tempStart))})),startIndex<1/0&&startIndex>=0&&(cutSrc=src.substring(0,startIndex+1))}if(this.state.top&&(token=this.tokenizer.paragraph(cutSrc)))lastToken=tokens[tokens.length-1],lastParagraphClipped&&"paragraph"===lastToken.type?(lastToken.raw+="\n"+token.raw,lastToken.text+="\n"+token.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=lastToken.text):tokens.push(token),lastParagraphClipped=cutSrc.length!==src.length,src=src.substring(token.raw.length);else if(token=this.tokenizer.text(src))src=src.substring(token.raw.length),lastToken=tokens[tokens.length-1],lastToken&&"text"===lastToken.type?(lastToken.raw+="\n"+token.raw,lastToken.text+="\n"+token.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=lastToken.text):tokens.push(token);else if(src){const errMsg="Infinite loop on byte: "+src.charCodeAt(0);if(this.options.silent){console.error(errMsg);break}throw new Error(errMsg)}}return this.state.top=!0,tokens}inline(src,tokens=[]){return this.inlineQueue.push({src:src,tokens:tokens}),tokens}inlineTokens(src,tokens=[]){let token,lastToken,cutSrc,match,keepPrevChar,prevChar,maskedSrc=src;if(this.tokens.links){const links=Object.keys(this.tokens.links);if(links.length>0)for(;null!=(match=this.tokenizer.rules.inline.reflinkSearch.exec(maskedSrc));)links.includes(match[0].slice(match[0].lastIndexOf("[")+1,-1))&&(maskedSrc=maskedSrc.slice(0,match.index)+"["+"a".repeat(match[0].length-2)+"]"+maskedSrc.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(match=this.tokenizer.rules.inline.blockSkip.exec(maskedSrc));)maskedSrc=maskedSrc.slice(0,match.index)+"["+"a".repeat(match[0].length-2)+"]"+maskedSrc.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(match=this.tokenizer.rules.inline.anyPunctuation.exec(maskedSrc));)maskedSrc=maskedSrc.slice(0,match.index)+"++"+maskedSrc.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;src;)if(keepPrevChar||(prevChar=""),keepPrevChar=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((extTokenizer=>!!(token=extTokenizer.call({lexer:this},src,tokens))&&(src=src.substring(token.raw.length),tokens.push(token),!0)))))if(token=this.tokenizer.escape(src))src=src.substring(token.raw.length),tokens.push(token);else if(token=this.tokenizer.tag(src))src=src.substring(token.raw.length),lastToken=tokens[tokens.length-1],lastToken&&"text"===token.type&&"text"===lastToken.type?(lastToken.raw+=token.raw,lastToken.text+=token.text):tokens.push(token);else if(token=this.tokenizer.link(src))src=src.substring(token.raw.length),tokens.push(token);else if(token=this.tokenizer.reflink(src,this.tokens.links))src=src.substring(token.raw.length),lastToken=tokens[tokens.length-1],lastToken&&"text"===token.type&&"text"===lastToken.type?(lastToken.raw+=token.raw,lastToken.text+=token.text):tokens.push(token);else if(token=this.tokenizer.emStrong(src,maskedSrc,prevChar))src=src.substring(token.raw.length),tokens.push(token);else if(token=this.tokenizer.codespan(src))src=src.substring(token.raw.length),tokens.push(token);else if(token=this.tokenizer.br(src))src=src.substring(token.raw.length),tokens.push(token);else if(token=this.tokenizer.del(src))src=src.substring(token.raw.length),tokens.push(token);else if(token=this.tokenizer.autolink(src))src=src.substring(token.raw.length),tokens.push(token);else if(this.state.inLink||!(token=this.tokenizer.url(src))){if(cutSrc=src,this.options.extensions&&this.options.extensions.startInline){let startIndex=1/0;const tempSrc=src.slice(1);let tempStart;this.options.extensions.startInline.forEach((getStartIndex=>{tempStart=getStartIndex.call({lexer:this},tempSrc),"number"==typeof tempStart&&tempStart>=0&&(startIndex=Math.min(startIndex,tempStart))})),startIndex<1/0&&startIndex>=0&&(cutSrc=src.substring(0,startIndex+1))}if(token=this.tokenizer.inlineText(cutSrc))src=src.substring(token.raw.length),"_"!==token.raw.slice(-1)&&(prevChar=token.raw.slice(-1)),keepPrevChar=!0,lastToken=tokens[tokens.length-1],lastToken&&"text"===lastToken.type?(lastToken.raw+=token.raw,lastToken.text+=token.text):tokens.push(token);else if(src){const errMsg="Infinite loop on byte: "+src.charCodeAt(0);if(this.options.silent){console.error(errMsg);break}throw new Error(errMsg)}}else src=src.substring(token.raw.length),tokens.push(token);return tokens}}class _Renderer{options;constructor(options){this.options=options||_defaults}code(code,infostring,escaped){const lang=(infostring||"").match(/^\S*/)?.[0];return code=code.replace(/\n$/,"")+"\n",lang?'<pre><code class="language-'+escape(lang)+'">'+(escaped?code:escape(code,!0))+"</code></pre>\n":"<pre><code>"+(escaped?code:escape(code,!0))+"</code></pre>\n"}blockquote(quote){return`<blockquote>\n${quote}</blockquote>\n`}html(html,block){return html}heading(text,level,raw){return`<h${level}>${text}</h${level}>\n`}hr(){return"<hr>\n"}list(body,ordered,start){const type=ordered?"ol":"ul";return"<"+type+(ordered&&1!==start?' start="'+start+'"':"")+">\n"+body+"</"+type+">\n"}listitem(text,task,checked){return`<li>${text}</li>\n`}checkbox(checked){return"<input "+(checked?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(text){return`<p>${text}</p>\n`}table(header,body){return body&&(body=`<tbody>${body}</tbody>`),"<table>\n<thead>\n"+header+"</thead>\n"+body+"</table>\n"}tablerow(content){return`<tr>\n${content}</tr>\n`}tablecell(content,flags){const type=flags.header?"th":"td";return(flags.align?`<${type} align="${flags.align}">`:`<${type}>`)+content+`</${type}>\n`}strong(text){return`<strong>${text}</strong>`}em(text){return`<em>${text}</em>`}codespan(text){return`<code>${text}</code>`}br(){return"<br>"}del(text){return`<del>${text}</del>`}link(href,title,text){const cleanHref=cleanUrl(href);if(null===cleanHref)return text;let out='<a href="'+(href=cleanHref)+'"';return title&&(out+=' title="'+title+'"'),out+=">"+text+"</a>",out}image(href,title,text){const cleanHref=cleanUrl(href);if(null===cleanHref)return text;let out=`<img src="${href=cleanHref}" alt="${text}"`;return title&&(out+=` title="${title}"`),out+=">",out}text(text){return text}}class _TextRenderer{strong(text){return text}em(text){return text}codespan(text){return text}del(text){return text}html(text){return text}text(text){return text}link(href,title,text){return""+text}image(href,title,text){return""+text}br(){return""}}class _Parser{options;renderer;textRenderer;constructor(options){this.options=options||_defaults,this.options.renderer=this.options.renderer||new _Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new _TextRenderer}static parse(tokens,options){return new _Parser(options).parse(tokens)}static parseInline(tokens,options){return new _Parser(options).parseInline(tokens)}parse(tokens,top=!0){let out="";for(let i=0;i<tokens.length;i++){const token=tokens[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[token.type]){const genericToken=token,ret=this.options.extensions.renderers[genericToken.type].call({parser:this},genericToken);if(!1!==ret||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(genericToken.type)){out+=ret||"";continue}}switch(token.type){case"space":continue;case"hr":out+=this.renderer.hr();continue;case"heading":{const headingToken=token;out+=this.renderer.heading(this.parseInline(headingToken.tokens),headingToken.depth,this.parseInline(headingToken.tokens,this.textRenderer).replace(unescapeTest,((_,n)=>"colon"===(n=n.toLowerCase())?":":"#"===n.charAt(0)?"x"===n.charAt(1)?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):"")));continue}case"code":{const codeToken=token;out+=this.renderer.code(codeToken.text,codeToken.lang,!!codeToken.escaped);continue}case"table":{const tableToken=token;let header="",cell="";for(let j=0;j<tableToken.header.length;j++)cell+=this.renderer.tablecell(this.parseInline(tableToken.header[j].tokens),{header:!0,align:tableToken.align[j]});header+=this.renderer.tablerow(cell);let body="";for(let j=0;j<tableToken.rows.length;j++){const row=tableToken.rows[j];cell="";for(let k=0;k<row.length;k++)cell+=this.renderer.tablecell(this.parseInline(row[k].tokens),{header:!1,align:tableToken.align[k]});body+=this.renderer.tablerow(cell)}out+=this.renderer.table(header,body);continue}case"blockquote":{const blockquoteToken=token,body=this.parse(blockquoteToken.tokens);out+=this.renderer.blockquote(body);continue}case"list":{const listToken=token,ordered=listToken.ordered,start=listToken.start,loose=listToken.loose;let body="";for(let j=0;j<listToken.items.length;j++){const item=listToken.items[j],checked=item.checked,task=item.task;let itemBody="";if(item.task){const checkbox=this.renderer.checkbox(!!checked);loose?item.tokens.length>0&&"paragraph"===item.tokens[0].type?(item.tokens[0].text=checkbox+" "+item.tokens[0].text,item.tokens[0].tokens&&item.tokens[0].tokens.length>0&&"text"===item.tokens[0].tokens[0].type&&(item.tokens[0].tokens[0].text=checkbox+" "+item.tokens[0].tokens[0].text)):item.tokens.unshift({type:"text",text:checkbox+" "}):itemBody+=checkbox+" "}itemBody+=this.parse(item.tokens,loose),body+=this.renderer.listitem(itemBody,task,!!checked)}out+=this.renderer.list(body,ordered,start);continue}case"html":{const htmlToken=token;out+=this.renderer.html(htmlToken.text,htmlToken.block);continue}case"paragraph":{const paragraphToken=token;out+=this.renderer.paragraph(this.parseInline(paragraphToken.tokens));continue}case"text":{let textToken=token,body=textToken.tokens?this.parseInline(textToken.tokens):textToken.text;for(;i+1<tokens.length&&"text"===tokens[i+1].type;)textToken=tokens[++i],body+="\n"+(textToken.tokens?this.parseInline(textToken.tokens):textToken.text);out+=top?this.renderer.paragraph(body):body;continue}default:{const errMsg='Token with "'+token.type+'" type was not found.';if(this.options.silent)return console.error(errMsg),"";throw new Error(errMsg)}}}return out}parseInline(tokens,renderer){renderer=renderer||this.renderer;let out="";for(let i=0;i<tokens.length;i++){const token=tokens[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[token.type]){const ret=this.options.extensions.renderers[token.type].call({parser:this},token);if(!1!==ret||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(token.type)){out+=ret||"";continue}}switch(token.type){case"escape":{const escapeToken=token;out+=renderer.text(escapeToken.text);break}case"html":{const tagToken=token;out+=renderer.html(tagToken.text);break}case"link":{const linkToken=token;out+=renderer.link(linkToken.href,linkToken.title,this.parseInline(linkToken.tokens,renderer));break}case"image":{const imageToken=token;out+=renderer.image(imageToken.href,imageToken.title,imageToken.text);break}case"strong":{const strongToken=token;out+=renderer.strong(this.parseInline(strongToken.tokens,renderer));break}case"em":{const emToken=token;out+=renderer.em(this.parseInline(emToken.tokens,renderer));break}case"codespan":{const codespanToken=token;out+=renderer.codespan(codespanToken.text);break}case"br":out+=renderer.br();break;case"del":{const delToken=token;out+=renderer.del(this.parseInline(delToken.tokens,renderer));break}case"text":{const textToken=token;out+=renderer.text(textToken.text);break}default:{const errMsg='Token with "'+token.type+'" type was not found.';if(this.options.silent)return console.error(errMsg),"";throw new Error(errMsg)}}}return out}}class _Hooks{options;constructor(options){this.options=options||_defaults}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(markdown){return markdown}postprocess(html){return html}}const markedInstance=new class Marked{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.#parseMarkdown(_Lexer.lex,_Parser.parse);parseInline=this.#parseMarkdown(_Lexer.lexInline,_Parser.parseInline);Parser=_Parser;parser=_Parser.parse;Renderer=_Renderer;TextRenderer=_TextRenderer;Lexer=_Lexer;lexer=_Lexer.lex;Tokenizer=_Tokenizer;Hooks=_Hooks;constructor(...args){this.use(...args)}walkTokens(tokens,callback){let values=[];for(const token of tokens)switch(values=values.concat(callback.call(this,token)),token.type){case"table":{const tableToken=token;for(const cell of tableToken.header)values=values.concat(this.walkTokens(cell.tokens,callback));for(const row of tableToken.rows)for(const cell of row)values=values.concat(this.walkTokens(cell.tokens,callback));break}case"list":{const listToken=token;values=values.concat(this.walkTokens(listToken.items,callback));break}default:{const genericToken=token;this.defaults.extensions?.childTokens?.[genericToken.type]?this.defaults.extensions.childTokens[genericToken.type].forEach((childTokens=>{values=values.concat(this.walkTokens(genericToken[childTokens],callback))})):genericToken.tokens&&(values=values.concat(this.walkTokens(genericToken.tokens,callback)))}}return values}use(...args){const extensions=this.defaults.extensions||{renderers:{},childTokens:{}};return args.forEach((pack=>{const opts={...pack};if(opts.async=this.defaults.async||opts.async||!1,pack.extensions&&(pack.extensions.forEach((ext=>{if(!ext.name)throw new Error("extension name required");if("renderer"in ext){const prevRenderer=extensions.renderers[ext.name];extensions.renderers[ext.name]=prevRenderer?function(...args){let ret=ext.renderer.apply(this,args);return!1===ret&&(ret=prevRenderer.apply(this,args)),ret}:ext.renderer}if("tokenizer"in ext){if(!ext.level||"block"!==ext.level&&"inline"!==ext.level)throw new Error("extension level must be 'block' or 'inline'");const extLevel=extensions[ext.level];extLevel?extLevel.unshift(ext.tokenizer):extensions[ext.level]=[ext.tokenizer],ext.start&&("block"===ext.level?extensions.startBlock?extensions.startBlock.push(ext.start):extensions.startBlock=[ext.start]:"inline"===ext.level&&(extensions.startInline?extensions.startInline.push(ext.start):extensions.startInline=[ext.start]))}"childTokens"in ext&&ext.childTokens&&(extensions.childTokens[ext.name]=ext.childTokens)})),opts.extensions=extensions),pack.renderer){const renderer=this.defaults.renderer||new _Renderer(this.defaults);for(const prop in pack.renderer){const rendererFunc=pack.renderer[prop],rendererKey=prop,prevRenderer=renderer[rendererKey];renderer[rendererKey]=(...args)=>{let ret=rendererFunc.apply(renderer,args);return!1===ret&&(ret=prevRenderer.apply(renderer,args)),ret||""}}opts.renderer=renderer}if(pack.tokenizer){const tokenizer=this.defaults.tokenizer||new _Tokenizer(this.defaults);for(const prop in pack.tokenizer){const tokenizerFunc=pack.tokenizer[prop],tokenizerKey=prop,prevTokenizer=tokenizer[tokenizerKey];tokenizer[tokenizerKey]=(...args)=>{let ret=tokenizerFunc.apply(tokenizer,args);return!1===ret&&(ret=prevTokenizer.apply(tokenizer,args)),ret}}opts.tokenizer=tokenizer}if(pack.hooks){const hooks=this.defaults.hooks||new _Hooks;for(const prop in pack.hooks){const hooksFunc=pack.hooks[prop],hooksKey=prop,prevHook=hooks[hooksKey];_Hooks.passThroughHooks.has(prop)?hooks[hooksKey]=arg=>{if(this.defaults.async)return Promise.resolve(hooksFunc.call(hooks,arg)).then((ret=>prevHook.call(hooks,ret)));const ret=hooksFunc.call(hooks,arg);return prevHook.call(hooks,ret)}:hooks[hooksKey]=(...args)=>{let ret=hooksFunc.apply(hooks,args);return!1===ret&&(ret=prevHook.apply(hooks,args)),ret}}opts.hooks=hooks}if(pack.walkTokens){const walkTokens=this.defaults.walkTokens,packWalktokens=pack.walkTokens;opts.walkTokens=function(token){let values=[];return values.push(packWalktokens.call(this,token)),walkTokens&&(values=values.concat(walkTokens.call(this,token))),values}}this.defaults={...this.defaults,...opts}})),this}setOptions(opt){return this.defaults={...this.defaults,...opt},this}#parseMarkdown(lexer,parser){return(src,options)=>{const origOpt={...options},opt={...this.defaults,...origOpt};!0===this.defaults.async&&!1===origOpt.async&&(opt.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),opt.async=!0);const throwError=this.#onError(!!opt.silent,!!opt.async);if(null==src)return throwError(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof src)return throwError(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(src)+", string expected"));if(opt.hooks&&(opt.hooks.options=opt),opt.async)return Promise.resolve(opt.hooks?opt.hooks.preprocess(src):src).then((src=>lexer(src,opt))).then((tokens=>opt.walkTokens?Promise.all(this.walkTokens(tokens,opt.walkTokens)).then((()=>tokens)):tokens)).then((tokens=>parser(tokens,opt))).then((html=>opt.hooks?opt.hooks.postprocess(html):html)).catch(throwError);try{opt.hooks&&(src=opt.hooks.preprocess(src));const tokens=lexer(src,opt);opt.walkTokens&&this.walkTokens(tokens,opt.walkTokens);let html=parser(tokens,opt);return opt.hooks&&(html=opt.hooks.postprocess(html)),html}catch(e){return throwError(e)}}}#onError(silent,async){return e=>{if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",silent){const msg="<p>An error occurred:</p><pre>"+escape(e.message+"",!0)+"</pre>";return async?Promise.resolve(msg):msg}if(async)return Promise.reject(e);throw e}}};function marked(src,opt){return markedInstance.parse(src,opt)}marked.options=marked.setOptions=function(options){return markedInstance.setOptions(options),marked.defaults=markedInstance.defaults,changeDefaults(marked.defaults),marked},marked.getDefaults=_getDefaults,marked.defaults=_defaults,marked.use=function(...args){return markedInstance.use(...args),marked.defaults=markedInstance.defaults,changeDefaults(marked.defaults),marked},marked.walkTokens=function(tokens,callback){return markedInstance.walkTokens(tokens,callback)},marked.parseInline=markedInstance.parseInline,marked.Parser=_Parser,marked.parser=_Parser.parse,marked.Renderer=_Renderer,marked.TextRenderer=_TextRenderer,marked.Lexer=_Lexer,marked.lexer=_Lexer.lex,marked.Tokenizer=_Tokenizer,marked.Hooks=_Hooks,marked.parse=marked;marked.options,marked.setOptions,marked.use,marked.walkTokens,marked.parseInline}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODIyLjhhZjRjMTZjLmlmcmFtZS5idW5kbGUuanMiLCJtYXBwaW5ncyI6InFRQUNlLFNBQVNBLHlCQUF5QkMsT0FBUUMsVUFDdkQsR0FBYyxNQUFWRCxPQUFnQixNQUFPLENBQUMsRUFDNUIsSUFDSUUsSUFBS0MsRUFETEMsT0NIUyxTQUFTQyw4QkFBOEJMLE9BQVFDLFVBQzVELEdBQWMsTUFBVkQsT0FBZ0IsTUFBTyxDQUFDLEVBQzVCLElBRUlFLElBQUtDLEVBRkxDLE9BQVMsQ0FBQyxFQUNWRSxXQUFhQyxPQUFPQyxLQUFLUixRQUU3QixJQUFLRyxFQUFJLEVBQUdBLEVBQUlHLFdBQVdHLE9BQVFOLElBQ2pDRCxJQUFNSSxXQUFXSCxHQUNiRixTQUFTUyxRQUFRUixNQUFRLElBQzdCRSxPQUFPRixLQUFPRixPQUFPRSxNQUV2QixPQUFPRSxNQUNULENEUmUsQ0FBNkJKLE9BQVFDLFVBRWxELEdBQUlNLE9BQU9JLHNCQUF1QixDQUNoQyxJQUFJQyxpQkFBbUJMLE9BQU9JLHNCQUFzQlgsUUFDcEQsSUFBS0csRUFBSSxFQUFHQSxFQUFJUyxpQkFBaUJILE9BQVFOLElBQ3ZDRCxJQUFNVSxpQkFBaUJULEdBQ25CRixTQUFTUyxRQUFRUixNQUFRLEdBQ3hCSyxPQUFPTSxVQUFVQyxxQkFBcUJDLEtBQUtmLE9BQVFFLE9BQ3hERSxPQUFPRixLQUFPRixPQUFPRSxLQUV6QixDQUNBLE9BQU9FLE1BQ1QsQyxnTkVEQSxTQUFTWSxlQUNMLE1BQU8sQ0FDSEMsT0FBTyxFQUNQQyxRQUFRLEVBQ1JDLFdBQVksS0FDWkMsS0FBSyxFQUNMQyxNQUFPLEtBQ1BDLFVBQVUsRUFDVkMsU0FBVSxLQUNWQyxRQUFRLEVBQ1JDLFVBQVcsS0FDWEMsV0FBWSxLQUVwQixDLDBFQUNBLElBQUlDLFVBYk8sQ0FDSFYsT0FBTyxFQUNQQyxRQUFRLEVBQ1JDLFdBQVksS0FDWkMsS0FBSyxFQUNMQyxNQUFPLEtBQ1BDLFVBQVUsRUFDVkMsU0FBVSxLQUNWQyxRQUFRLEVBQ1JDLFVBQVcsS0FDWEMsV0FBWSxNQUlwQixTQUFTRSxlQUFlQyxhQUNwQkYsVUFBWUUsV0FDaEIsQ0FLQSxNQUFNQyxXQUFhLFVBQ2JDLGNBQWdCLElBQUlDLE9BQU9GLFdBQVc5QixPQUFRLEtBQzlDaUMsbUJBQXFCLG9EQUNyQkMsc0JBQXdCLElBQUlGLE9BQU9DLG1CQUFtQmpDLE9BQVEsS0FDOURtQyxtQkFBcUIsQ0FDdkIsSUFBSyxRQUNMLElBQUssT0FDTCxJQUFLLE9BQ0wsSUFBSyxTQUNMLElBQUssU0FFSEMscUJBQXdCQyxJQUFPRixtQkFBbUJFLElBQ3hELFNBQVNDLE9BQU9DLEtBQU1DLFFBQ2xCLEdBQUlBLFFBQ0EsR0FBSVYsV0FBV1csS0FBS0YsTUFDaEIsT0FBT0EsS0FBS0csUUFBUVgsY0FBZUssMkJBSXZDLEdBQUlILG1CQUFtQlEsS0FBS0YsTUFDeEIsT0FBT0EsS0FBS0csUUFBUVIsc0JBQXVCRSxzQkFHbkQsT0FBT0csSUFDWCxDQUNBLE1BQU1JLGFBQWUsNkNBZXJCLE1BQU1DLE1BQVEsZUFDZCxTQUFTQyxLQUFLQyxNQUFPQyxLQUNqQkQsTUFBeUIsaUJBQVZBLE1BQXFCQSxNQUFRQSxNQUFNOUMsT0FDbEQrQyxJQUFNQSxLQUFPLEdBQ2IsTUFBTUMsSUFBTSxDQUNSTixRQUFTLENBQUNPLEtBQU1DLE9BRVpBLEtBREFBLElBQXFCLGlCQUFSQSxLQUFvQixXQUFZQSxJQUFNQSxJQUFJbEQsT0FBU2tELEtBQ3REUixRQUFRRSxNQUFPLE1BQ3pCRSxNQUFRQSxNQUFNSixRQUFRTyxLQUFNQyxLQUNyQkYsS0FFWEcsU0FBVSxJQUNDLElBQUluQixPQUFPYyxNQUFPQyxNQUdqQyxPQUFPQyxHQUNYLENBQ0EsU0FBU0ksU0FBU0MsTUFDZCxJQUNJQSxLQUFPQyxVQUFVRCxNQUFNWCxRQUFRLE9BQVEsSUFDM0MsQ0FDQSxNQUFPYSxHQUNILE9BQU8sSUFDWCxDQUNBLE9BQU9GLElBQ1gsQ0FDQSxNQUFNRyxTQUFXLENBQUVDLEtBQU0sSUFBTSxNQUMvQixTQUFTQyxXQUFXQyxTQUFVQyxPQUcxQixNQWNJQyxNQWRRRixTQUFTakIsUUFBUSxPQUFPLENBQUNvQixNQUFPQyxPQUFRQyxPQUNoRCxJQUFJQyxTQUFVLEVBQ1ZDLEtBQU9ILE9BQ1gsT0FBU0csTUFBUSxHQUFtQixPQUFkRixJQUFJRSxPQUN0QkQsU0FBV0EsUUFDZixPQUFJQSxRQUdPLElBSUEsSUFDWCxJQUNZRSxNQUFNLE9BQ3RCLElBQUloRSxFQUFJLEVBUVIsR0FOSzBELE1BQU0sR0FBR08sUUFDVlAsTUFBTVEsUUFFTlIsTUFBTXBELE9BQVMsSUFBTW9ELE1BQU1BLE1BQU1wRCxPQUFTLEdBQUcyRCxRQUM3Q1AsTUFBTVMsTUFFTlYsTUFDQSxHQUFJQyxNQUFNcEQsT0FBU21ELE1BQ2ZDLE1BQU1VLE9BQU9YLFlBR2IsS0FBT0MsTUFBTXBELE9BQVNtRCxPQUNsQkMsTUFBTVcsS0FBSyxJQUd2QixLQUFPckUsRUFBSTBELE1BQU1wRCxPQUFRTixJQUVyQjBELE1BQU0xRCxHQUFLMEQsTUFBTTFELEdBQUdpRSxPQUFPMUIsUUFBUSxRQUFTLEtBRWhELE9BQU9tQixLQUNYLENBU0EsU0FBU1ksTUFBTVQsSUFBS1UsRUFBR0MsUUFDbkIsTUFBTUMsRUFBSVosSUFBSXZELE9BQ2QsR0FBVSxJQUFObUUsRUFDQSxNQUFPLEdBR1gsSUFBSUMsUUFBVSxFQUVkLEtBQU9BLFFBQVVELEdBQUcsQ0FDaEIsTUFBTUUsU0FBV2QsSUFBSWUsT0FBT0gsRUFBSUMsUUFBVSxHQUMxQyxHQUFJQyxXQUFhSixHQUFNQyxPQUdsQixJQUFJRyxXQUFhSixJQUFLQyxPQUl2QixNQUhBRSxTQUlKLE1BUElBLFNBUVIsQ0FDQSxPQUFPYixJQUFJZ0IsTUFBTSxFQUFHSixFQUFJQyxRQUM1QixDQXVCQSxTQUFTSSxXQUFXQyxJQUFLQyxLQUFNQyxJQUFLQyxPQUNoQyxNQUFNaEMsS0FBTzhCLEtBQUs5QixLQUNaaUMsTUFBUUgsS0FBS0csTUFBUWhELE9BQU82QyxLQUFLRyxPQUFTLEtBQzFDQyxLQUFPTCxJQUFJLEdBQUd4QyxRQUFRLGNBQWUsTUFDM0MsR0FBeUIsTUFBckJ3QyxJQUFJLEdBQUdILE9BQU8sR0FBWSxDQUMxQk0sTUFBTUcsTUFBTUMsUUFBUyxFQUNyQixNQUFNQyxNQUFRLENBQ1ZDLEtBQU0sT0FDTlAsUUFDQS9CLFVBQ0FpQyxZQUNBQyxVQUNBSyxPQUFRUCxNQUFNUSxhQUFhTixPQUcvQixPQURBRixNQUFNRyxNQUFNQyxRQUFTLEVBQ2RDLEtBQ1gsQ0FDQSxNQUFPLENBQ0hDLEtBQU0sUUFDTlAsUUFDQS9CLFVBQ0FpQyxZQUNBQyxLQUFNakQsT0FBT2lELE1BRXJCLENBeUJBLE1BQU1PLFdBQ0ZDLFFBRUFDLE1BQ0FYLE1BQ0EsV0FBQVksQ0FBWUYsU0FDUkcsS0FBS0gsUUFBVUEsU0FBV3BFLFNBQzlCLENBQ0EsS0FBQXdFLENBQU1DLEtBQ0YsTUFBTWxCLElBQU1nQixLQUFLRixNQUFNSyxNQUFNQyxRQUFRN0MsS0FBSzJDLEtBQzFDLEdBQUlsQixLQUFPQSxJQUFJLEdBQUd6RSxPQUFTLEVBQ3ZCLE1BQU8sQ0FDSGtGLEtBQU0sUUFDTlAsSUFBS0YsSUFBSSxHQUdyQixDQUNBLElBQUFxQixDQUFLSCxLQUNELE1BQU1sQixJQUFNZ0IsS0FBS0YsTUFBTUssTUFBTUUsS0FBSzlDLEtBQUsyQyxLQUN2QyxHQUFJbEIsSUFBSyxDQUNMLE1BQU1LLEtBQU9MLElBQUksR0FBR3hDLFFBQVEsWUFBYSxJQUN6QyxNQUFPLENBQ0hpRCxLQUFNLE9BQ05QLElBQUtGLElBQUksR0FDVHNCLGVBQWdCLFdBQ2hCakIsS0FBT1csS0FBS0gsUUFBUXpFLFNBRWRpRSxLQURBZCxNQUFNYyxLQUFNLE1BRzFCLENBQ0osQ0FDQSxNQUFBa0IsQ0FBT0wsS0FDSCxNQUFNbEIsSUFBTWdCLEtBQUtGLE1BQU1LLE1BQU1JLE9BQU9oRCxLQUFLMkMsS0FDekMsR0FBSWxCLElBQUssQ0FDTCxNQUFNRSxJQUFNRixJQUFJLEdBQ1ZLLEtBM0RsQixTQUFTbUIsdUJBQXVCdEIsSUFBS0csTUFDakMsTUFBTW9CLGtCQUFvQnZCLElBQUl0QixNQUFNLGlCQUNwQyxHQUEwQixPQUF0QjZDLGtCQUNBLE9BQU9wQixLQUVYLE1BQU1xQixhQUFlRCxrQkFBa0IsR0FDdkMsT0FBT3BCLEtBQ0ZwQixNQUFNLE1BQ04wQyxLQUFJQyxPQUNMLE1BQU1DLGtCQUFvQkQsS0FBS2hELE1BQU0sUUFDckMsR0FBMEIsT0FBdEJpRCxrQkFDQSxPQUFPRCxLQUVYLE1BQU9FLGNBQWdCRCxrQkFDdkIsT0FBSUMsYUFBYXZHLFFBQVVtRyxhQUFhbkcsT0FDN0JxRyxLQUFLOUIsTUFBTTRCLGFBQWFuRyxRQUU1QnFHLElBQUksSUFFVkcsS0FBSyxLQUNkLENBdUN5QlAsQ0FBdUJ0QixJQUFLRixJQUFJLElBQU0sSUFDbkQsTUFBTyxDQUNIUyxLQUFNLE9BQ05QLFFBQ0E4QixLQUFNaEMsSUFBSSxHQUFLQSxJQUFJLEdBQUdkLE9BQU8xQixRQUFRd0QsS0FBS0YsTUFBTW1CLE9BQU9DLFNBQVUsTUFBUWxDLElBQUksR0FDN0VLLFVBRVIsQ0FDSixDQUNBLE9BQUE4QixDQUFRakIsS0FDSixNQUFNbEIsSUFBTWdCLEtBQUtGLE1BQU1LLE1BQU1nQixRQUFRNUQsS0FBSzJDLEtBQzFDLEdBQUlsQixJQUFLLENBQ0wsSUFBSUssS0FBT0wsSUFBSSxHQUFHZCxPQUVsQixHQUFJLEtBQUszQixLQUFLOEMsTUFBTyxDQUNqQixNQUFNK0IsUUFBVTdDLE1BQU1jLEtBQU0sS0FDeEJXLEtBQUtILFFBQVF6RSxTQUNiaUUsS0FBTytCLFFBQVFsRCxPQUVUa0QsVUFBVyxLQUFLN0UsS0FBSzZFLFdBRTNCL0IsS0FBTytCLFFBQVFsRCxPQUV2QixDQUNBLE1BQU8sQ0FDSHVCLEtBQU0sVUFDTlAsSUFBS0YsSUFBSSxHQUNUcUMsTUFBT3JDLElBQUksR0FBR3pFLE9BQ2Q4RSxVQUNBSyxPQUFRTSxLQUFLYixNQUFNOEIsT0FBTzVCLE1BRWxDLENBQ0osQ0FDQSxFQUFBaUMsQ0FBR3BCLEtBQ0MsTUFBTWxCLElBQU1nQixLQUFLRixNQUFNSyxNQUFNbUIsR0FBRy9ELEtBQUsyQyxLQUNyQyxHQUFJbEIsSUFDQSxNQUFPLENBQ0hTLEtBQU0sS0FDTlAsSUFBS0YsSUFBSSxHQUdyQixDQUNBLFVBQUF1QyxDQUFXckIsS0FDUCxNQUFNbEIsSUFBTWdCLEtBQUtGLE1BQU1LLE1BQU1vQixXQUFXaEUsS0FBSzJDLEtBQzdDLEdBQUlsQixJQUFLLENBQ0wsTUFBTUssS0FBT0wsSUFBSSxHQUFHeEMsUUFBUSxlQUFnQixJQUN0Q2dGLElBQU14QixLQUFLYixNQUFNRyxNQUFNa0MsSUFDN0J4QixLQUFLYixNQUFNRyxNQUFNa0MsS0FBTSxFQUN2QixNQUFNOUIsT0FBU00sS0FBS2IsTUFBTXNDLFlBQVlwQyxNQUV0QyxPQURBVyxLQUFLYixNQUFNRyxNQUFNa0MsSUFBTUEsSUFDaEIsQ0FDSC9CLEtBQU0sYUFDTlAsSUFBS0YsSUFBSSxHQUNUVSxjQUNBTCxVQUVSLENBQ0osQ0FDQSxJQUFBcUMsQ0FBS3hCLEtBQ0QsSUFBSWxCLElBQU1nQixLQUFLRixNQUFNSyxNQUFNdUIsS0FBS25FLEtBQUsyQyxLQUNyQyxHQUFJbEIsSUFBSyxDQUNMLElBQUkyQyxLQUFPM0MsSUFBSSxHQUFHZCxPQUNsQixNQUFNMEQsVUFBWUQsS0FBS3BILE9BQVMsRUFDMUJtSCxLQUFPLENBQ1RqQyxLQUFNLE9BQ05QLElBQUssR0FDTDJDLFFBQVNELFVBQ1RFLE1BQU9GLFdBQWFELEtBQUs3QyxNQUFNLEdBQUksR0FBSyxHQUN4Q2lELE9BQU8sRUFDUEMsTUFBTyxJQUVYTCxLQUFPQyxVQUFZLGFBQWFELEtBQUs3QyxPQUFPLEtBQU8sS0FBSzZDLE9BQ3BEM0IsS0FBS0gsUUFBUXpFLFdBQ2J1RyxLQUFPQyxVQUFZRCxLQUFPLFNBRzlCLE1BQU1NLFVBQVksSUFBSW5HLE9BQU8sV0FBVzZGLHFDQUN4QyxJQUFJekMsSUFBTSxHQUNOZ0QsYUFBZSxHQUNmQyxtQkFBb0IsRUFFeEIsS0FBT2pDLEtBQUssQ0FDUixJQUFJa0MsVUFBVyxFQUNmLEtBQU1wRCxJQUFNaUQsVUFBVTFFLEtBQUsyQyxNQUN2QixNQUVKLEdBQUlGLEtBQUtGLE1BQU1LLE1BQU1tQixHQUFHL0UsS0FBSzJELEtBQ3pCLE1BRUpoQixJQUFNRixJQUFJLEdBQ1ZrQixJQUFNQSxJQUFJbUMsVUFBVW5ELElBQUkzRSxRQUN4QixJQUFJK0gsS0FBT3RELElBQUksR0FBR2YsTUFBTSxLQUFNLEdBQUcsR0FBR3pCLFFBQVEsUUFBUytGLEdBQU0sSUFBSUMsT0FBTyxFQUFJRCxFQUFFaEksVUFDeEVrSSxTQUFXdkMsSUFBSWpDLE1BQU0sS0FBTSxHQUFHLEdBQzlCeUUsT0FBUyxFQUNUMUMsS0FBS0gsUUFBUXpFLFVBQ2JzSCxPQUFTLEVBQ1RSLGFBQWVJLEtBQUtLLGNBR3BCRCxPQUFTMUQsSUFBSSxHQUFHNEQsT0FBTyxRQUN2QkYsT0FBU0EsT0FBUyxFQUFJLEVBQUlBLE9BQzFCUixhQUFlSSxLQUFLeEQsTUFBTTRELFFBQzFCQSxRQUFVMUQsSUFBSSxHQUFHekUsUUFFckIsSUFBSXNJLFdBQVksRUFNaEIsSUFMS1AsTUFBUSxPQUFPL0YsS0FBS2tHLFlBQ3JCdkQsS0FBT3VELFNBQVcsS0FDbEJ2QyxJQUFNQSxJQUFJbUMsVUFBVUksU0FBU2xJLE9BQVMsR0FDdEM2SCxVQUFXLElBRVZBLFNBQVUsQ0FDWCxNQUFNVSxnQkFBa0IsSUFBSWhILE9BQU8sUUFBUWlILEtBQUtDLElBQUksRUFBR04sT0FBUyx5REFDMURPLFFBQVUsSUFBSW5ILE9BQU8sUUFBUWlILEtBQUtDLElBQUksRUFBR04sT0FBUyx3REFDbERRLGlCQUFtQixJQUFJcEgsT0FBTyxRQUFRaUgsS0FBS0MsSUFBSSxFQUFHTixPQUFTLHFCQUMzRFMsa0JBQW9CLElBQUlySCxPQUFPLFFBQVFpSCxLQUFLQyxJQUFJLEVBQUdOLE9BQVMsUUFFbEUsS0FBT3hDLEtBQUssQ0FDUixNQUFNa0QsUUFBVWxELElBQUlqQyxNQUFNLEtBQU0sR0FBRyxHQU9uQyxHQU5Bd0UsU0FBV1csUUFFUHBELEtBQUtILFFBQVF6RSxXQUNicUgsU0FBV0EsU0FBU2pHLFFBQVEsMEJBQTJCLE9BR3ZEMEcsaUJBQWlCM0csS0FBS2tHLFVBQ3RCLE1BR0osR0FBSVUsa0JBQWtCNUcsS0FBS2tHLFVBQ3ZCLE1BR0osR0FBSUssZ0JBQWdCdkcsS0FBS2tHLFVBQ3JCLE1BR0osR0FBSVEsUUFBUTFHLEtBQUsyRCxLQUNiLE1BRUosR0FBSXVDLFNBQVNHLE9BQU8sU0FBV0YsU0FBV0QsU0FBU3ZFLE9BQy9DZ0UsY0FBZ0IsS0FBT08sU0FBUzNELE1BQU00RCxZQUVyQyxDQUVELEdBQUlHLFVBQ0EsTUFHSixHQUFJUCxLQUFLTSxPQUFPLFNBQVcsRUFDdkIsTUFFSixHQUFJTSxpQkFBaUIzRyxLQUFLK0YsTUFDdEIsTUFFSixHQUFJYSxrQkFBa0I1RyxLQUFLK0YsTUFDdkIsTUFFSixHQUFJVyxRQUFRMUcsS0FBSytGLE1BQ2IsTUFFSkosY0FBZ0IsS0FBT08sUUFDM0IsQ0FDS0ksV0FBY0osU0FBU3ZFLFNBQ3hCMkUsV0FBWSxHQUVoQjNELEtBQU9rRSxRQUFVLEtBQ2pCbEQsSUFBTUEsSUFBSW1DLFVBQVVlLFFBQVE3SSxPQUFTLEdBQ3JDK0gsS0FBT0csU0FBUzNELE1BQU00RCxPQUMxQixDQUNKLENBQ0toQixLQUFLSyxRQUVGSSxrQkFDQVQsS0FBS0ssT0FBUSxFQUVSLFlBQVl4RixLQUFLMkMsT0FDdEJpRCxtQkFBb0IsSUFHNUIsSUFDSWtCLFVBREFDLE9BQVMsS0FHVHRELEtBQUtILFFBQVEzRSxNQUNib0ksT0FBUyxjQUFjL0YsS0FBSzJFLGNBQ3hCb0IsU0FDQUQsVUFBMEIsU0FBZEMsT0FBTyxHQUNuQnBCLGFBQWVBLGFBQWExRixRQUFRLGVBQWdCLE1BRzVEa0YsS0FBS00sTUFBTTFELEtBQUssQ0FDWm1CLEtBQU0sWUFDTlAsUUFDQXFFLE9BQVFELE9BQ1JFLFFBQVNILFVBQ1R0QixPQUFPLEVBQ1AxQyxLQUFNNkMsYUFDTnhDLE9BQVEsS0FFWmdDLEtBQUt4QyxLQUFPQSxHQUNoQixDQUVBd0MsS0FBS00sTUFBTU4sS0FBS00sTUFBTXpILE9BQVMsR0FBRzJFLElBQU1BLElBQUl1RSxVQUM1Qy9CLEtBQUtNLE1BQU1OLEtBQUtNLE1BQU16SCxPQUFTLEdBQUc4RSxLQUFPNkMsYUFBYXVCLFVBQ3REL0IsS0FBS3hDLElBQU13QyxLQUFLeEMsSUFBSXVFLFVBRXBCLElBQUssSUFBSXhKLEVBQUksRUFBR0EsRUFBSXlILEtBQUtNLE1BQU16SCxPQUFRTixJQUduQyxHQUZBK0YsS0FBS2IsTUFBTUcsTUFBTWtDLEtBQU0sRUFDdkJFLEtBQUtNLE1BQU0vSCxHQUFHeUYsT0FBU00sS0FBS2IsTUFBTXNDLFlBQVlDLEtBQUtNLE1BQU0vSCxHQUFHb0YsS0FBTSxLQUM3RHFDLEtBQUtLLE1BQU8sQ0FFYixNQUFNMkIsUUFBVWhDLEtBQUtNLE1BQU0vSCxHQUFHeUYsT0FBT2lFLFFBQU9wQixHQUFnQixVQUFYQSxFQUFFOUMsT0FDN0NtRSxzQkFBd0JGLFFBQVFuSixPQUFTLEdBQUttSixRQUFRRyxNQUFLdEIsR0FBSyxTQUFTaEcsS0FBS2dHLEVBQUVyRCxPQUN0RndDLEtBQUtLLE1BQVE2QixxQkFDakIsQ0FHSixHQUFJbEMsS0FBS0ssTUFDTCxJQUFLLElBQUk5SCxFQUFJLEVBQUdBLEVBQUl5SCxLQUFLTSxNQUFNekgsT0FBUU4sSUFDbkN5SCxLQUFLTSxNQUFNL0gsR0FBRzhILE9BQVEsRUFHOUIsT0FBT0wsSUFDWCxDQUNKLENBQ0EsSUFBQXJGLENBQUs2RCxLQUNELE1BQU1sQixJQUFNZ0IsS0FBS0YsTUFBTUssTUFBTTlELEtBQUtrQixLQUFLMkMsS0FDdkMsR0FBSWxCLElBQUssQ0FRTCxNQVBjLENBQ1ZTLEtBQU0sT0FDTlUsT0FBTyxFQUNQakIsSUFBS0YsSUFBSSxHQUNUOEUsSUFBZ0IsUUFBWDlFLElBQUksSUFBMkIsV0FBWEEsSUFBSSxJQUE4QixVQUFYQSxJQUFJLEdBQ3BESyxLQUFNTCxJQUFJLEdBR2xCLENBQ0osQ0FDQSxHQUFBK0UsQ0FBSTdELEtBQ0EsTUFBTWxCLElBQU1nQixLQUFLRixNQUFNSyxNQUFNNEQsSUFBSXhHLEtBQUsyQyxLQUN0QyxHQUFJbEIsSUFBSyxDQUNMLE1BQU1nRixJQUFNaEYsSUFBSSxHQUFHaUYsY0FBY3pILFFBQVEsT0FBUSxLQUMzQ1csS0FBTzZCLElBQUksR0FBS0EsSUFBSSxHQUFHeEMsUUFBUSxXQUFZLE1BQU1BLFFBQVF3RCxLQUFLRixNQUFNbUIsT0FBT0MsU0FBVSxNQUFRLEdBQzdGOUIsTUFBUUosSUFBSSxHQUFLQSxJQUFJLEdBQUdxRCxVQUFVLEVBQUdyRCxJQUFJLEdBQUd6RSxPQUFTLEdBQUdpQyxRQUFRd0QsS0FBS0YsTUFBTW1CLE9BQU9DLFNBQVUsTUFBUWxDLElBQUksR0FDOUcsTUFBTyxDQUNIUyxLQUFNLE1BQ051RSxRQUNBOUUsSUFBS0YsSUFBSSxHQUNUN0IsVUFDQWlDLFlBRVIsQ0FDSixDQUNBLEtBQUE4RSxDQUFNaEUsS0FDRixNQUFNbEIsSUFBTWdCLEtBQUtGLE1BQU1LLE1BQU0rRCxNQUFNM0csS0FBSzJDLEtBQ3hDLEdBQUlsQixJQUFLLENBQ0wsTUFBTW1GLEtBQU8sQ0FDVDFFLEtBQU0sUUFDTlAsSUFBS0YsSUFBSSxHQUNUb0YsT0FBUTVHLFdBQVd3QixJQUFJLElBQUkyQixLQUFJbkMsSUFDcEIsQ0FBRWEsS0FBTWIsRUFBR2tCLE9BQVEsT0FFOUIyRSxNQUFPckYsSUFBSSxHQUFHeEMsUUFBUSxhQUFjLElBQUl5QixNQUFNLFVBQzlDcUcsS0FBTXRGLElBQUksSUFBTUEsSUFBSSxHQUFHZCxPQUFTYyxJQUFJLEdBQUd4QyxRQUFRLFlBQWEsSUFBSXlCLE1BQU0sTUFBUSxJQUVsRixHQUFJa0csS0FBS0MsT0FBTzdKLFNBQVc0SixLQUFLRSxNQUFNOUosT0FBUSxDQUMxQyxJQUNJTixFQUFHc0ssRUFBR0MsRUFBR0MsSUFEVC9GLEVBQUl5RixLQUFLRSxNQUFNOUosT0FFbkIsSUFBS04sRUFBSSxFQUFHQSxFQUFJeUUsRUFBR3pFLElBQUssQ0FDcEIsTUFBTW9LLE1BQVFGLEtBQUtFLE1BQU1wSyxHQUNyQm9LLFFBQ0ksWUFBWTlILEtBQUs4SCxPQUNqQkYsS0FBS0UsTUFBTXBLLEdBQUssUUFFWCxhQUFhc0MsS0FBSzhILE9BQ3ZCRixLQUFLRSxNQUFNcEssR0FBSyxTQUVYLFlBQVlzQyxLQUFLOEgsT0FDdEJGLEtBQUtFLE1BQU1wSyxHQUFLLE9BR2hCa0ssS0FBS0UsTUFBTXBLLEdBQUssS0FHNUIsQ0FFQSxJQURBeUUsRUFBSXlGLEtBQUtHLEtBQUsvSixPQUNUTixFQUFJLEVBQUdBLEVBQUl5RSxFQUFHekUsSUFDZmtLLEtBQUtHLEtBQUtySyxHQUFLdUQsV0FBVzJHLEtBQUtHLEtBQUtySyxHQUFJa0ssS0FBS0MsT0FBTzdKLFFBQVFvRyxLQUFJbkMsSUFDckQsQ0FBRWEsS0FBTWIsRUFBR2tCLE9BQVEsT0FNbEMsSUFEQWhCLEVBQUl5RixLQUFLQyxPQUFPN0osT0FDWGdLLEVBQUksRUFBR0EsRUFBSTdGLEVBQUc2RixJQUNmSixLQUFLQyxPQUFPRyxHQUFHN0UsT0FBU00sS0FBS2IsTUFBTThCLE9BQU9rRCxLQUFLQyxPQUFPRyxHQUFHbEYsTUFJN0QsSUFEQVgsRUFBSXlGLEtBQUtHLEtBQUsvSixPQUNUZ0ssRUFBSSxFQUFHQSxFQUFJN0YsRUFBRzZGLElBRWYsSUFEQUUsSUFBTU4sS0FBS0csS0FBS0MsR0FDWEMsRUFBSSxFQUFHQSxFQUFJQyxJQUFJbEssT0FBUWlLLElBQ3hCQyxJQUFJRCxHQUFHOUUsT0FBU00sS0FBS2IsTUFBTThCLE9BQU93RCxJQUFJRCxHQUFHbkYsTUFHakQsT0FBTzhFLElBQ1gsQ0FDSixDQUNKLENBQ0EsUUFBQU8sQ0FBU3hFLEtBQ0wsTUFBTWxCLElBQU1nQixLQUFLRixNQUFNSyxNQUFNdUUsU0FBU25ILEtBQUsyQyxLQUMzQyxHQUFJbEIsSUFDQSxNQUFPLENBQ0hTLEtBQU0sVUFDTlAsSUFBS0YsSUFBSSxHQUNUcUMsTUFBNEIsTUFBckJyQyxJQUFJLEdBQUdILE9BQU8sR0FBYSxFQUFJLEVBQ3RDUSxLQUFNTCxJQUFJLEdBQ1ZVLE9BQVFNLEtBQUtiLE1BQU04QixPQUFPakMsSUFBSSxJQUcxQyxDQUNBLFNBQUEyRixDQUFVekUsS0FDTixNQUFNbEIsSUFBTWdCLEtBQUtGLE1BQU1LLE1BQU13RSxVQUFVcEgsS0FBSzJDLEtBQzVDLEdBQUlsQixJQUFLLENBQ0wsTUFBTUssS0FBNEMsT0FBckNMLElBQUksR0FBR0gsT0FBT0csSUFBSSxHQUFHekUsT0FBUyxHQUNyQ3lFLElBQUksR0FBR0YsTUFBTSxHQUFJLEdBQ2pCRSxJQUFJLEdBQ1YsTUFBTyxDQUNIUyxLQUFNLFlBQ05QLElBQUtGLElBQUksR0FDVEssVUFDQUssT0FBUU0sS0FBS2IsTUFBTThCLE9BQU81QixNQUVsQyxDQUNKLENBQ0EsSUFBQUEsQ0FBS2EsS0FDRCxNQUFNbEIsSUFBTWdCLEtBQUtGLE1BQU1LLE1BQU1kLEtBQUs5QixLQUFLMkMsS0FDdkMsR0FBSWxCLElBQ0EsTUFBTyxDQUNIUyxLQUFNLE9BQ05QLElBQUtGLElBQUksR0FDVEssS0FBTUwsSUFBSSxHQUNWVSxPQUFRTSxLQUFLYixNQUFNOEIsT0FBT2pDLElBQUksSUFHMUMsQ0FDQSxNQUFBNUMsQ0FBTzhELEtBQ0gsTUFBTWxCLElBQU1nQixLQUFLRixNQUFNbUIsT0FBTzdFLE9BQU9tQixLQUFLMkMsS0FDMUMsR0FBSWxCLElBQ0EsTUFBTyxDQUNIUyxLQUFNLFNBQ05QLElBQUtGLElBQUksR0FDVEssS0FBTWpELE9BQU80QyxJQUFJLElBRzdCLENBQ0EsR0FBQWdGLENBQUk5RCxLQUNBLE1BQU1sQixJQUFNZ0IsS0FBS0YsTUFBTW1CLE9BQU8rQyxJQUFJekcsS0FBSzJDLEtBQ3ZDLEdBQUlsQixJQWFBLE9BWktnQixLQUFLYixNQUFNRyxNQUFNQyxRQUFVLFFBQVFoRCxLQUFLeUMsSUFBSSxJQUM3Q2dCLEtBQUtiLE1BQU1HLE1BQU1DLFFBQVMsRUFFckJTLEtBQUtiLE1BQU1HLE1BQU1DLFFBQVUsVUFBVWhELEtBQUt5QyxJQUFJLE1BQ25EZ0IsS0FBS2IsTUFBTUcsTUFBTUMsUUFBUyxJQUV6QlMsS0FBS2IsTUFBTUcsTUFBTXNGLFlBQWMsaUNBQWlDckksS0FBS3lDLElBQUksSUFDMUVnQixLQUFLYixNQUFNRyxNQUFNc0YsWUFBYSxFQUV6QjVFLEtBQUtiLE1BQU1HLE1BQU1zRixZQUFjLG1DQUFtQ3JJLEtBQUt5QyxJQUFJLE1BQ2hGZ0IsS0FBS2IsTUFBTUcsTUFBTXNGLFlBQWEsR0FFM0IsQ0FDSG5GLEtBQU0sT0FDTlAsSUFBS0YsSUFBSSxHQUNUTyxPQUFRUyxLQUFLYixNQUFNRyxNQUFNQyxPQUN6QnFGLFdBQVk1RSxLQUFLYixNQUFNRyxNQUFNc0YsV0FDN0J6RSxPQUFPLEVBQ1BkLEtBQU1MLElBQUksR0FHdEIsQ0FDQSxJQUFBQyxDQUFLaUIsS0FDRCxNQUFNbEIsSUFBTWdCLEtBQUtGLE1BQU1tQixPQUFPaEMsS0FBSzFCLEtBQUsyQyxLQUN4QyxHQUFJbEIsSUFBSyxDQUNMLE1BQU02RixXQUFhN0YsSUFBSSxHQUFHZCxPQUMxQixJQUFLOEIsS0FBS0gsUUFBUXpFLFVBQVksS0FBS21CLEtBQUtzSSxZQUFhLENBRWpELElBQU0sS0FBS3RJLEtBQUtzSSxZQUNaLE9BR0osTUFBTUMsV0FBYXZHLE1BQU1zRyxXQUFXL0YsTUFBTSxHQUFJLEdBQUksTUFDbEQsSUFBSytGLFdBQVd0SyxPQUFTdUssV0FBV3ZLLFFBQVUsR0FBTSxFQUNoRCxNQUVSLEtBQ0ssQ0FFRCxNQUFNd0ssZUF2ZnRCLFNBQVNDLG1CQUFtQmxILElBQUttSCxHQUM3QixJQUEyQixJQUF2Qm5ILElBQUl0RCxRQUFReUssRUFBRSxJQUNkLE9BQVEsRUFFWixJQUFJQyxNQUFRLEVBQ1osSUFBSyxJQUFJakwsRUFBSSxFQUFHQSxFQUFJNkQsSUFBSXZELE9BQVFOLElBQzVCLEdBQWUsT0FBWDZELElBQUk3RCxHQUNKQSxTQUVDLEdBQUk2RCxJQUFJN0QsS0FBT2dMLEVBQUUsR0FDbEJDLGFBRUMsR0FBSXBILElBQUk3RCxLQUFPZ0wsRUFBRSxLQUNsQkMsUUFDSUEsTUFBUSxHQUNSLE9BQU9qTCxFQUluQixPQUFRLENBQ1osQ0FtZXVDK0ssQ0FBbUJoRyxJQUFJLEdBQUksTUFDbEQsR0FBSStGLGdCQUFrQixFQUFHLENBQ3JCLE1BQ01JLFNBRGdDLElBQXhCbkcsSUFBSSxHQUFHeEUsUUFBUSxLQUFhLEVBQUksR0FDdEJ3RSxJQUFJLEdBQUd6RSxPQUFTd0ssZUFDeEMvRixJQUFJLEdBQUtBLElBQUksR0FBR3FELFVBQVUsRUFBRzBDLGdCQUM3Qi9GLElBQUksR0FBS0EsSUFBSSxHQUFHcUQsVUFBVSxFQUFHOEMsU0FBU2pILE9BQ3RDYyxJQUFJLEdBQUssRUFDYixDQUNKLENBQ0EsSUFBSTdCLEtBQU82QixJQUFJLEdBQ1hJLE1BQVEsR0FDWixHQUFJWSxLQUFLSCxRQUFRekUsU0FBVSxDQUV2QixNQUFNNkQsS0FBTyxnQ0FBZ0MxQixLQUFLSixNQUM5QzhCLE9BQ0E5QixLQUFPOEIsS0FBSyxHQUNaRyxNQUFRSCxLQUFLLEdBRXJCLE1BRUlHLE1BQVFKLElBQUksR0FBS0EsSUFBSSxHQUFHRixNQUFNLEdBQUksR0FBSyxHQVkzQyxPQVZBM0IsS0FBT0EsS0FBS2UsT0FDUixLQUFLM0IsS0FBS1ksUUFHTkEsS0FGQTZDLEtBQUtILFFBQVF6RSxXQUFjLEtBQUttQixLQUFLc0ksWUFFOUIxSCxLQUFLMkIsTUFBTSxHQUdYM0IsS0FBSzJCLE1BQU0sR0FBSSxJQUd2QkMsV0FBV0MsSUFBSyxDQUNuQjdCLEtBQU1BLEtBQU9BLEtBQUtYLFFBQVF3RCxLQUFLRixNQUFNbUIsT0FBT0MsU0FBVSxNQUFRL0QsS0FDOURpQyxNQUFPQSxNQUFRQSxNQUFNNUMsUUFBUXdELEtBQUtGLE1BQU1tQixPQUFPQyxTQUFVLE1BQVE5QixPQUNsRUosSUFBSSxHQUFJZ0IsS0FBS2IsTUFDcEIsQ0FDSixDQUNBLE9BQUFpRyxDQUFRbEYsSUFBS21GLE9BQ1QsSUFBSXJHLElBQ0osSUFBS0EsSUFBTWdCLEtBQUtGLE1BQU1tQixPQUFPbUUsUUFBUTdILEtBQUsyQyxRQUNsQ2xCLElBQU1nQixLQUFLRixNQUFNbUIsT0FBT3FFLE9BQU8vSCxLQUFLMkMsTUFBTyxDQUMvQyxJQUFJakIsTUFBUUQsSUFBSSxJQUFNQSxJQUFJLElBQUl4QyxRQUFRLE9BQVEsS0FFOUMsR0FEQXlDLEtBQU9vRyxNQUFNcEcsS0FBS2dGLGdCQUNiaEYsS0FBTSxDQUNQLE1BQU1JLEtBQU9MLElBQUksR0FBR0gsT0FBTyxHQUMzQixNQUFPLENBQ0hZLEtBQU0sT0FDTlAsSUFBS0csS0FDTEEsVUFFUixDQUNBLE9BQU9OLFdBQVdDLElBQUtDLEtBQU1ELElBQUksR0FBSWdCLEtBQUtiLE1BQzlDLENBQ0osQ0FDQSxRQUFBb0csQ0FBU3JGLElBQUtzRixVQUFXQyxTQUFXLElBQ2hDLElBQUk3SCxNQUFRb0MsS0FBS0YsTUFBTW1CLE9BQU9zRSxTQUFTRyxPQUFPbkksS0FBSzJDLEtBQ25ELElBQUt0QyxNQUNELE9BRUosR0FBSUEsTUFBTSxJQUFNNkgsU0FBUzdILE1BQU0saUJBQzNCLE9BRUosS0FEaUJBLE1BQU0sSUFBTUEsTUFBTSxJQUFNLE1BQ3ZCNkgsVUFBWXpGLEtBQUtGLE1BQU1tQixPQUFPMEUsWUFBWXBJLEtBQUtrSSxVQUFXLENBRXhFLE1BQU1HLFFBQVUsSUFBSWhJLE1BQU0sSUFBSXJELE9BQVMsRUFDdkMsSUFBSXNMLE9BQVFDLFFBQVNDLFdBQWFILFFBQVNJLGNBQWdCLEVBQzNELE1BQU1DLE9BQXlCLE1BQWhCckksTUFBTSxHQUFHLEdBQWFvQyxLQUFLRixNQUFNbUIsT0FBT3NFLFNBQVNXLFVBQVlsRyxLQUFLRixNQUFNbUIsT0FBT3NFLFNBQVNZLFVBSXZHLElBSEFGLE9BQU9HLFVBQVksRUFFbkJaLFVBQVlBLFVBQVUxRyxPQUFPLEVBQUlvQixJQUFJM0YsT0FBU3FMLFNBQ0gsT0FBbkNoSSxNQUFRcUksT0FBTzFJLEtBQUtpSSxhQUFxQixDQUU3QyxHQURBSyxPQUFTakksTUFBTSxJQUFNQSxNQUFNLElBQU1BLE1BQU0sSUFBTUEsTUFBTSxJQUFNQSxNQUFNLElBQU1BLE1BQU0sSUFDdEVpSSxPQUNELFNBRUosR0FEQUMsUUFBVSxJQUFJRCxRQUFRdEwsT0FDbEJxRCxNQUFNLElBQU1BLE1BQU0sR0FBSSxDQUN0Qm1JLFlBQWNELFFBQ2QsUUFDSixDQUNLLElBQUlsSSxNQUFNLElBQU1BLE1BQU0sS0FDbkJnSSxRQUFVLE1BQVFBLFFBQVVFLFNBQVcsR0FBSSxDQUMzQ0UsZUFBaUJGLFFBQ2pCLFFBQ0osQ0FHSixHQURBQyxZQUFjRCxRQUNWQyxXQUFhLEVBQ2IsU0FFSkQsUUFBVS9DLEtBQUtDLElBQUk4QyxRQUFTQSxRQUFVQyxXQUFhQyxlQUNuRCxNQUFNOUcsSUFBTSxJQUFJZ0IsS0FBS3BCLE1BQU0sRUFBRzhHLFFBQVVoSSxNQUFNeUksTUFBUVAsUUFBVSxHQUFHL0UsS0FBSyxJQUV4RSxHQUFJZ0MsS0FBS0MsSUFBSTRDLFFBQVNFLFNBQVcsRUFBRyxDQUNoQyxNQUFNekcsS0FBT0gsSUFBSUosTUFBTSxHQUFJLEdBQzNCLE1BQU8sQ0FDSFcsS0FBTSxLQUNOUCxRQUNBRyxVQUNBSyxPQUFRTSxLQUFLYixNQUFNUSxhQUFhTixNQUV4QyxDQUVBLE1BQU1BLEtBQU9ILElBQUlKLE1BQU0sR0FBSSxHQUMzQixNQUFPLENBQ0hXLEtBQU0sU0FDTlAsUUFDQUcsVUFDQUssT0FBUU0sS0FBS2IsTUFBTVEsYUFBYU4sTUFFeEMsQ0FDSixDQUNKLENBQ0EsUUFBQWlILENBQVNwRyxLQUNMLE1BQU1sQixJQUFNZ0IsS0FBS0YsTUFBTW1CLE9BQU9aLEtBQUs5QyxLQUFLMkMsS0FDeEMsR0FBSWxCLElBQUssQ0FDTCxJQUFJSyxLQUFPTCxJQUFJLEdBQUd4QyxRQUFRLE1BQU8sS0FDakMsTUFBTStKLGlCQUFtQixPQUFPaEssS0FBSzhDLE1BQy9CbUgsd0JBQTBCLEtBQUtqSyxLQUFLOEMsT0FBUyxLQUFLOUMsS0FBSzhDLE1BSzdELE9BSklrSCxrQkFBb0JDLDBCQUNwQm5ILEtBQU9BLEtBQUtnRCxVQUFVLEVBQUdoRCxLQUFLOUUsT0FBUyxJQUUzQzhFLEtBQU9qRCxPQUFPaUQsTUFBTSxHQUNiLENBQ0hJLEtBQU0sV0FDTlAsSUFBS0YsSUFBSSxHQUNUSyxVQUVSLENBQ0osQ0FDQSxFQUFBb0gsQ0FBR3ZHLEtBQ0MsTUFBTWxCLElBQU1nQixLQUFLRixNQUFNbUIsT0FBT3dGLEdBQUdsSixLQUFLMkMsS0FDdEMsR0FBSWxCLElBQ0EsTUFBTyxDQUNIUyxLQUFNLEtBQ05QLElBQUtGLElBQUksR0FHckIsQ0FDQSxHQUFBMEgsQ0FBSXhHLEtBQ0EsTUFBTWxCLElBQU1nQixLQUFLRixNQUFNbUIsT0FBT3lGLElBQUluSixLQUFLMkMsS0FDdkMsR0FBSWxCLElBQ0EsTUFBTyxDQUNIUyxLQUFNLE1BQ05QLElBQUtGLElBQUksR0FDVEssS0FBTUwsSUFBSSxHQUNWVSxPQUFRTSxLQUFLYixNQUFNUSxhQUFhWCxJQUFJLElBR2hELENBQ0EsUUFBQTJILENBQVN6RyxLQUNMLE1BQU1sQixJQUFNZ0IsS0FBS0YsTUFBTW1CLE9BQU8wRixTQUFTcEosS0FBSzJDLEtBQzVDLEdBQUlsQixJQUFLLENBQ0wsSUFBSUssS0FBTWxDLEtBU1YsTUFSZSxNQUFYNkIsSUFBSSxJQUNKSyxLQUFPakQsT0FBTzRDLElBQUksSUFDbEI3QixLQUFPLFVBQVlrQyxPQUduQkEsS0FBT2pELE9BQU80QyxJQUFJLElBQ2xCN0IsS0FBT2tDLE1BRUosQ0FDSEksS0FBTSxPQUNOUCxJQUFLRixJQUFJLEdBQ1RLLFVBQ0FsQyxVQUNBdUMsT0FBUSxDQUNKLENBQ0lELEtBQU0sT0FDTlAsSUFBS0csS0FDTEEsWUFJaEIsQ0FDSixDQUNBLEdBQUF1SCxDQUFJMUcsS0FDQSxJQUFJbEIsSUFDSixHQUFJQSxJQUFNZ0IsS0FBS0YsTUFBTW1CLE9BQU8yRixJQUFJckosS0FBSzJDLEtBQU0sQ0FDdkMsSUFBSWIsS0FBTWxDLEtBQ1YsR0FBZSxNQUFYNkIsSUFBSSxHQUNKSyxLQUFPakQsT0FBTzRDLElBQUksSUFDbEI3QixLQUFPLFVBQVlrQyxTQUVsQixDQUVELElBQUl3SCxZQUNKLEdBQ0lBLFlBQWM3SCxJQUFJLEdBQ2xCQSxJQUFJLEdBQUtnQixLQUFLRixNQUFNbUIsT0FBTzZGLFdBQVd2SixLQUFLeUIsSUFBSSxJQUFJLFNBQzlDNkgsY0FBZ0I3SCxJQUFJLElBQzdCSyxLQUFPakQsT0FBTzRDLElBQUksSUFFZDdCLEtBRFcsU0FBWDZCLElBQUksR0FDRyxVQUFZQSxJQUFJLEdBR2hCQSxJQUFJLEVBRW5CLENBQ0EsTUFBTyxDQUNIUyxLQUFNLE9BQ05QLElBQUtGLElBQUksR0FDVEssVUFDQWxDLFVBQ0F1QyxPQUFRLENBQ0osQ0FDSUQsS0FBTSxPQUNOUCxJQUFLRyxLQUNMQSxZQUloQixDQUNKLENBQ0EsVUFBQTBILENBQVc3RyxLQUNQLE1BQU1sQixJQUFNZ0IsS0FBS0YsTUFBTW1CLE9BQU81QixLQUFLOUIsS0FBSzJDLEtBQ3hDLEdBQUlsQixJQUFLLENBQ0wsSUFBSUssS0FPSixPQUxJQSxLQURBVyxLQUFLYixNQUFNRyxNQUFNc0YsV0FDVjVGLElBQUksR0FHSjVDLE9BQU80QyxJQUFJLElBRWYsQ0FDSFMsS0FBTSxPQUNOUCxJQUFLRixJQUFJLEdBQ1RLLFVBRVIsQ0FDSixFQVFKLE1BQU1jLE1BQVEsQ0FDVkMsUUFBUyxtQkFDVEMsS0FBTSx1Q0FDTkUsT0FBUSw4R0FDUmUsR0FBSSxxRUFDSkgsUUFBUyx1Q0FDVEksV0FBWSwwQ0FDWkcsS0FBTSx1Q0FDTnJGLEtBQU0sbWRBVU4wSCxJQUFLLGtHQUNMRyxNQUFPNUcsU0FDUG9ILFNBQVUsZ0VBR1ZzQyxXQUFZLHVGQUNaM0gsS0FBTSxVQUVWYyxPQUFlLDhCQUNmQSxPQUFlLGdFQUNmQSxNQUFNNEQsSUFBTXBILEtBQUt3RCxNQUFNNEQsS0FDbEJ2SCxRQUFRLFFBQVMyRCxNQUFNOEcsUUFDdkJ6SyxRQUFRLFFBQVMyRCxNQUFNK0csUUFDdkJqSyxXQUNMa0QsTUFBTWdILE9BQVMsd0JBQ2ZoSCxNQUFNaUgsY0FBZ0J6SyxLQUFLLGlCQUN0QkgsUUFBUSxPQUFRMkQsTUFBTWdILFFBQ3RCbEssV0FDTGtELE1BQU11QixLQUFPL0UsS0FBS3dELE1BQU11QixNQUNuQmxGLFFBQVEsUUFBUzJELE1BQU1nSCxRQUN2QjNLLFFBQVEsS0FBTSxtRUFDZEEsUUFBUSxNQUFPLFVBQVkyRCxNQUFNNEQsSUFBSWpLLE9BQVMsS0FDOUNtRCxXQUNMa0QsTUFBTWtILEtBQU8sZ1dBTWJsSCxNQUFNbUgsU0FBVywrQkFDakJuSCxNQUFNOUQsS0FBT00sS0FBS3dELE1BQU05RCxLQUFNLEtBQ3pCRyxRQUFRLFVBQVcyRCxNQUFNbUgsVUFDekI5SyxRQUFRLE1BQU8yRCxNQUFNa0gsTUFDckI3SyxRQUFRLFlBQWEsNEVBQ3JCUyxXQUNMa0QsTUFBTXVFLFNBQVcvSCxLQUFLd0QsTUFBTXVFLFVBQ3ZCbEksUUFBUSxRQUFTMkQsTUFBTWdILFFBQ3ZCbEssV0FDTGtELE1BQU13RSxVQUFZaEksS0FBS3dELE1BQU02RyxZQUN4QnhLLFFBQVEsS0FBTTJELE1BQU1tQixJQUNwQjlFLFFBQVEsVUFBVyxpQkFDbkJBLFFBQVEsWUFBYSxJQUNyQkEsUUFBUSxTQUFVLElBQ2xCQSxRQUFRLGFBQWMsV0FDdEJBLFFBQVEsU0FBVSxrREFDbEJBLFFBQVEsT0FBUSwwQkFDaEJBLFFBQVEsT0FBUSwrREFDaEJBLFFBQVEsTUFBTzJELE1BQU1rSCxNQUNyQnBLLFdBQ0xrRCxNQUFNb0IsV0FBYTVFLEtBQUt3RCxNQUFNb0IsWUFDekIvRSxRQUFRLFlBQWEyRCxNQUFNd0UsV0FDM0IxSCxXQUlMa0QsTUFBTW9ILE9BQVMsSUFBS3BILE9BSXBCQSxNQUFNakYsSUFBTSxJQUNMaUYsTUFBTW9ILE9BQ1RyRCxNQUFPLG9LQUlYL0QsTUFBTWpGLElBQUlnSixNQUFRdkgsS0FBS3dELE1BQU1qRixJQUFJZ0osT0FDNUIxSCxRQUFRLEtBQU0yRCxNQUFNbUIsSUFDcEI5RSxRQUFRLFVBQVcsaUJBQ25CQSxRQUFRLGFBQWMsV0FDdEJBLFFBQVEsT0FBUSxjQUNoQkEsUUFBUSxTQUFVLGtEQUNsQkEsUUFBUSxPQUFRLDBCQUNoQkEsUUFBUSxPQUFRLCtEQUNoQkEsUUFBUSxNQUFPMkQsTUFBTWtILE1BQ3JCcEssV0FDTGtELE1BQU1qRixJQUFJeUosVUFBWWhJLEtBQUt3RCxNQUFNNkcsWUFDNUJ4SyxRQUFRLEtBQU0yRCxNQUFNbUIsSUFDcEI5RSxRQUFRLFVBQVcsaUJBQ25CQSxRQUFRLFlBQWEsSUFDckJBLFFBQVEsUUFBUzJELE1BQU1qRixJQUFJZ0osT0FDM0IxSCxRQUFRLGFBQWMsV0FDdEJBLFFBQVEsU0FBVSxrREFDbEJBLFFBQVEsT0FBUSwwQkFDaEJBLFFBQVEsT0FBUSwrREFDaEJBLFFBQVEsTUFBTzJELE1BQU1rSCxNQUNyQnBLLFdBSUxrRCxNQUFNL0UsU0FBVyxJQUNWK0UsTUFBTW9ILE9BQ1RsTCxLQUFNTSxLQUFLLDhJQUdOSCxRQUFRLFVBQVcyRCxNQUFNbUgsVUFDekI5SyxRQUFRLE9BQVEscUtBSWhCUyxXQUNMOEcsSUFBSyxvRUFDTDVDLFFBQVMseUJBQ1RaLE9BQVFqRCxTQUNSb0gsU0FBVSxtQ0FDVkMsVUFBV2hJLEtBQUt3RCxNQUFNb0gsT0FBT1AsWUFDeEJ4SyxRQUFRLEtBQU0yRCxNQUFNbUIsSUFDcEI5RSxRQUFRLFVBQVcsbUJBQ25CQSxRQUFRLFdBQVkyRCxNQUFNdUUsVUFDMUJsSSxRQUFRLGFBQWMsV0FDdEJBLFFBQVEsVUFBVyxJQUNuQkEsUUFBUSxRQUFTLElBQ2pCQSxRQUFRLFFBQVMsSUFDakJTLFlBT1QsTUFBTWdFLE9BQVMsQ0FDWDdFLE9BQVEsOENBQ1J1SyxTQUFVLHNDQUNWQyxJQUFLdEosU0FDTDBHLElBQUssMkpBTUwvRSxLQUFNLGdEQUNObUcsUUFBUywwQkFDVEUsT0FBUSx3QkFDUmtDLGNBQWUsd0JBQ2ZqQyxTQUFVLENBQ05HLE9BQVEsb0VBR1JRLFVBQVcsbVBBQ1hDLFVBQVcsOE1BRWY5RixLQUFNLHNDQUNOb0csR0FBSSx3QkFDSkMsSUFBS3BKLFNBQ0wrQixLQUFNLDhFQUNOc0csWUFBYSw2QkFHakIxRSxhQUFzQixtQkFDdEJBLE9BQU8wRSxZQUFjaEosS0FBS3NFLE9BQU8wRSxZQUFhLEtBQUtuSixRQUFRLGVBQWdCeUUsT0FBT3dHLGNBQWN4SyxXQUVoR2dFLE9BQU95RyxVQUFZLGdEQUNuQnpHLE9BQU8wRyxlQUFpQixhQUN4QjFHLE9BQU9DLFNBQVcsZUFDbEJELE9BQU9xRyxTQUFXM0ssS0FBS3dELE1BQU1tSCxVQUFVOUssUUFBUSxlQUFhLFVBQU9TLFdBQ25FZ0UsT0FBT3NFLFNBQVNHLE9BQVMvSSxLQUFLc0UsT0FBT3NFLFNBQVNHLE9BQVEsS0FDakRsSixRQUFRLFNBQVV5RSxPQUFPd0csY0FDekJ4SyxXQUNMZ0UsT0FBT3NFLFNBQVNXLFVBQVl2SixLQUFLc0UsT0FBT3NFLFNBQVNXLFVBQVcsTUFDdkQxSixRQUFRLFNBQVV5RSxPQUFPd0csY0FDekJ4SyxXQUNMZ0UsT0FBT3NFLFNBQVNZLFVBQVl4SixLQUFLc0UsT0FBT3NFLFNBQVNZLFVBQVcsTUFDdkQzSixRQUFRLFNBQVV5RSxPQUFPd0csY0FDekJ4SyxXQUNMZ0UsT0FBTzBHLGVBQWlCaEwsS0FBS3NFLE9BQU8wRyxlQUFnQixNQUMvQ25MLFFBQVEsU0FBVXlFLE9BQU93RyxjQUN6QnhLLFdBQ0xnRSxPQUFPQyxTQUFXdkUsS0FBS3NFLE9BQU9DLFNBQVUsTUFDbkMxRSxRQUFRLFNBQVV5RSxPQUFPd0csY0FDekJ4SyxXQUNMZ0UsT0FBTzJHLFFBQVUsK0JBQ2pCM0csT0FBTzRHLE9BQVMsK0lBQ2hCNUcsT0FBTzBGLFNBQVdoSyxLQUFLc0UsT0FBTzBGLFVBQ3pCbkssUUFBUSxTQUFVeUUsT0FBTzJHLFNBQ3pCcEwsUUFBUSxRQUFTeUUsT0FBTzRHLFFBQ3hCNUssV0FDTGdFLE9BQU82RyxXQUFhLDhFQUNwQjdHLE9BQU8rQyxJQUFNckgsS0FBS3NFLE9BQU8rQyxLQUNwQnhILFFBQVEsVUFBV3lFLE9BQU9xRyxVQUMxQjlLLFFBQVEsWUFBYXlFLE9BQU82RyxZQUM1QjdLLFdBQ0xnRSxPQUFPZ0csT0FBUyxzREFDaEJoRyxPQUFPOEcsTUFBUSx1Q0FDZjlHLE9BQU9pRyxPQUFTLDhEQUNoQmpHLE9BQU9oQyxLQUFPdEMsS0FBS3NFLE9BQU9oQyxNQUNyQnpDLFFBQVEsUUFBU3lFLE9BQU9nRyxRQUN4QnpLLFFBQVEsT0FBUXlFLE9BQU84RyxPQUN2QnZMLFFBQVEsUUFBU3lFLE9BQU9pRyxRQUN4QmpLLFdBQ0xnRSxPQUFPbUUsUUFBVXpJLEtBQUtzRSxPQUFPbUUsU0FDeEI1SSxRQUFRLFFBQVN5RSxPQUFPZ0csUUFDeEJ6SyxRQUFRLE1BQU8yRCxNQUFNOEcsUUFDckJoSyxXQUNMZ0UsT0FBT3FFLE9BQVMzSSxLQUFLc0UsT0FBT3FFLFFBQ3ZCOUksUUFBUSxNQUFPMkQsTUFBTThHLFFBQ3JCaEssV0FDTGdFLE9BQU91RyxjQUFnQjdLLEtBQUtzRSxPQUFPdUcsY0FBZSxLQUM3Q2hMLFFBQVEsVUFBV3lFLE9BQU9tRSxTQUMxQjVJLFFBQVEsU0FBVXlFLE9BQU9xRSxRQUN6QnJJLFdBSUxnRSxPQUFPc0csT0FBUyxJQUFLdEcsUUFJckJBLE9BQU83RixTQUFXLElBQ1g2RixPQUFPc0csT0FDVlMsT0FBUSxDQUNKbEcsTUFBTyxXQUNQbUcsT0FBUSxpRUFDUkMsT0FBUSxjQUNSQyxPQUFRLFlBRVpDLEdBQUksQ0FDQXRHLE1BQU8sUUFDUG1HLE9BQVEsNkRBQ1JDLE9BQVEsWUFDUkMsT0FBUSxXQUVabEosS0FBTXRDLEtBQUssMkJBQ05ILFFBQVEsUUFBU3lFLE9BQU9nRyxRQUN4QmhLLFdBQ0xtSSxRQUFTekksS0FBSyxpQ0FDVEgsUUFBUSxRQUFTeUUsT0FBT2dHLFFBQ3hCaEssWUFLVGdFLE9BQU8vRixJQUFNLElBQ04rRixPQUFPc0csT0FDVm5MLE9BQVFPLEtBQUtzRSxPQUFPN0UsUUFBUUksUUFBUSxLQUFNLFFBQVFTLFdBQ2xEb0wsZ0JBQWlCLDRFQUNqQnpCLElBQUssbUVBQ0xFLFdBQVksNkVBQ1pKLElBQUssK0NBQ0xySCxLQUFNLDhOQUVWNEIsT0FBTy9GLElBQUkwTCxJQUFNakssS0FBS3NFLE9BQU8vRixJQUFJMEwsSUFBSyxLQUNqQ3BLLFFBQVEsUUFBU3lFLE9BQU8vRixJQUFJbU4saUJBQzVCcEwsV0FJTGdFLE9BQU9qRyxPQUFTLElBQ1RpRyxPQUFPL0YsSUFDVnVMLEdBQUk5SixLQUFLc0UsT0FBT3dGLElBQUlqSyxRQUFRLE9BQVEsS0FBS1MsV0FDekNvQyxLQUFNMUMsS0FBS3NFLE9BQU8vRixJQUFJbUUsTUFDakI3QyxRQUFRLE9BQVEsaUJBQ2hCQSxRQUFRLFVBQVcsS0FDbkJTLFlBTVQsTUFBTXFMLE9BQ0Y1SSxPQUNBRyxRQUNBUCxNQUNBL0QsVUFDQWdOLFlBQ0EsV0FBQXhJLENBQVlGLFNBR1JHLEtBQUtOLE9BQVMsR0FDZE0sS0FBS04sT0FBTzJGLE1BQVFoTCxPQUFPbU8sT0FBTyxNQUNsQ3hJLEtBQUtILFFBQVVBLFNBQVdwRSxVQUMxQnVFLEtBQUtILFFBQVF0RSxVQUFZeUUsS0FBS0gsUUFBUXRFLFdBQWEsSUFBSXFFLFdBQ3ZESSxLQUFLekUsVUFBWXlFLEtBQUtILFFBQVF0RSxVQUM5QnlFLEtBQUt6RSxVQUFVc0UsUUFBVUcsS0FBS0gsUUFDOUJHLEtBQUt6RSxVQUFVNEQsTUFBUWEsS0FDdkJBLEtBQUt1SSxZQUFjLEdBQ25CdkksS0FBS1YsTUFBUSxDQUNUQyxRQUFRLEVBQ1JxRixZQUFZLEVBQ1pwRCxLQUFLLEdBRVQsTUFBTTFCLE1BQVEsQ0FDVkssTUFBT0EsTUFBTW9ILE9BQ2J0RyxPQUFRQSxPQUFPc0csUUFFZnZILEtBQUtILFFBQVF6RSxVQUNiMEUsTUFBTUssTUFBUUEsTUFBTS9FLFNBQ3BCMEUsTUFBTW1CLE9BQVNBLE9BQU83RixVQUVqQjRFLEtBQUtILFFBQVEzRSxNQUNsQjRFLE1BQU1LLE1BQVFBLE1BQU1qRixJQUNoQjhFLEtBQUtILFFBQVE3RSxPQUNiOEUsTUFBTW1CLE9BQVNBLE9BQU9qRyxPQUd0QjhFLE1BQU1tQixPQUFTQSxPQUFPL0YsS0FHOUI4RSxLQUFLekUsVUFBVXVFLE1BQVFBLEtBQzNCLENBSUEsZ0JBQVdBLEdBQ1AsTUFBTyxDQUNISyxZQUNBYyxjQUVSLENBSUEsVUFBT3dILENBQUl2SSxJQUFLTCxTQUVaLE9BRGMsSUFBSXlJLE9BQU96SSxTQUNaNEksSUFBSXZJLElBQ3JCLENBSUEsZ0JBQU93SSxDQUFVeEksSUFBS0wsU0FFbEIsT0FEYyxJQUFJeUksT0FBT3pJLFNBQ1pGLGFBQWFPLElBQzlCLENBSUEsR0FBQXVJLENBQUl2SSxLQUlBLElBQUl5SSxLQUNKLElBSkF6SSxJQUFNQSxJQUNEMUQsUUFBUSxXQUFZLE1BQ3pCd0QsS0FBS3lCLFlBQVl2QixJQUFLRixLQUFLTixRQUVwQmlKLEtBQU8zSSxLQUFLdUksWUFBWXBLLFNBQzNCNkIsS0FBS0wsYUFBYWdKLEtBQUt6SSxJQUFLeUksS0FBS2pKLFFBRXJDLE9BQU9NLEtBQUtOLE1BQ2hCLENBQ0EsV0FBQStCLENBQVl2QixJQUFLUixPQUFTLElBU3RCLElBQUlGLE1BQ0FvSixVQUNBQyxPQUNBQyxxQkFDSixJQVhJNUksSUFEQUYsS0FBS0gsUUFBUXpFLFNBQ1A4RSxJQUFJMUQsUUFBUSxNQUFPLFFBQVFBLFFBQVEsU0FBVSxJQUc3QzBELElBQUkxRCxRQUFRLGdCQUFnQixDQUFDdU0sRUFBR0MsUUFBU0MsT0FDcENELFFBQVUsT0FBT3hHLE9BQU95RyxLQUFLMU8sVUFPckMyRixLQUNILEtBQUlGLEtBQUtILFFBQVE1RSxZQUNWK0UsS0FBS0gsUUFBUTVFLFdBQVdrRixPQUN4QkgsS0FBS0gsUUFBUTVFLFdBQVdrRixNQUFNMEQsTUFBTXFGLGlCQUMvQjFKLE1BQVEwSixhQUFhck8sS0FBSyxDQUFFc0UsTUFBT2EsTUFBUUUsSUFBS1IsV0FDaERRLElBQU1BLElBQUltQyxVQUFVN0MsTUFBTU4sSUFBSTNFLFFBQzlCbUYsT0FBT3BCLEtBQUtrQixRQUNMLE1BT25CLEdBQUlBLE1BQVFRLEtBQUt6RSxVQUFVMEUsTUFBTUMsS0FDN0JBLElBQU1BLElBQUltQyxVQUFVN0MsTUFBTU4sSUFBSTNFLFFBQ0wsSUFBckJpRixNQUFNTixJQUFJM0UsUUFBZ0JtRixPQUFPbkYsT0FBUyxFQUcxQ21GLE9BQU9BLE9BQU9uRixPQUFTLEdBQUcyRSxLQUFPLEtBR2pDUSxPQUFPcEIsS0FBS2tCLFlBS3BCLEdBQUlBLE1BQVFRLEtBQUt6RSxVQUFVOEUsS0FBS0gsS0FDNUJBLElBQU1BLElBQUltQyxVQUFVN0MsTUFBTU4sSUFBSTNFLFFBQzlCcU8sVUFBWWxKLE9BQU9BLE9BQU9uRixPQUFTLElBRS9CcU8sV0FBaUMsY0FBbkJBLFVBQVVuSixNQUEyQyxTQUFuQm1KLFVBQVVuSixLQU0xREMsT0FBT3BCLEtBQUtrQixRQUxab0osVUFBVTFKLEtBQU8sS0FBT00sTUFBTU4sSUFDOUIwSixVQUFVdkosTUFBUSxLQUFPRyxNQUFNSCxLQUMvQlcsS0FBS3VJLFlBQVl2SSxLQUFLdUksWUFBWWhPLE9BQVMsR0FBRzJGLElBQU0wSSxVQUFVdkosV0FRdEUsR0FBSUcsTUFBUVEsS0FBS3pFLFVBQVVnRixPQUFPTCxLQUM5QkEsSUFBTUEsSUFBSW1DLFVBQVU3QyxNQUFNTixJQUFJM0UsUUFDOUJtRixPQUFPcEIsS0FBS2tCLFlBSWhCLEdBQUlBLE1BQVFRLEtBQUt6RSxVQUFVNEYsUUFBUWpCLEtBQy9CQSxJQUFNQSxJQUFJbUMsVUFBVTdDLE1BQU1OLElBQUkzRSxRQUM5Qm1GLE9BQU9wQixLQUFLa0IsWUFJaEIsR0FBSUEsTUFBUVEsS0FBS3pFLFVBQVUrRixHQUFHcEIsS0FDMUJBLElBQU1BLElBQUltQyxVQUFVN0MsTUFBTU4sSUFBSTNFLFFBQzlCbUYsT0FBT3BCLEtBQUtrQixZQUloQixHQUFJQSxNQUFRUSxLQUFLekUsVUFBVWdHLFdBQVdyQixLQUNsQ0EsSUFBTUEsSUFBSW1DLFVBQVU3QyxNQUFNTixJQUFJM0UsUUFDOUJtRixPQUFPcEIsS0FBS2tCLFlBSWhCLEdBQUlBLE1BQVFRLEtBQUt6RSxVQUFVbUcsS0FBS3hCLEtBQzVCQSxJQUFNQSxJQUFJbUMsVUFBVTdDLE1BQU1OLElBQUkzRSxRQUM5Qm1GLE9BQU9wQixLQUFLa0IsWUFJaEIsR0FBSUEsTUFBUVEsS0FBS3pFLFVBQVVjLEtBQUs2RCxLQUM1QkEsSUFBTUEsSUFBSW1DLFVBQVU3QyxNQUFNTixJQUFJM0UsUUFDOUJtRixPQUFPcEIsS0FBS2tCLFlBSWhCLEdBQUlBLE1BQVFRLEtBQUt6RSxVQUFVd0ksSUFBSTdELEtBQzNCQSxJQUFNQSxJQUFJbUMsVUFBVTdDLE1BQU1OLElBQUkzRSxRQUM5QnFPLFVBQVlsSixPQUFPQSxPQUFPbkYsT0FBUyxJQUMvQnFPLFdBQWlDLGNBQW5CQSxVQUFVbkosTUFBMkMsU0FBbkJtSixVQUFVbkosS0FLcERPLEtBQUtOLE9BQU8yRixNQUFNN0YsTUFBTXdFLE9BQzlCaEUsS0FBS04sT0FBTzJGLE1BQU03RixNQUFNd0UsS0FBTyxDQUMzQjdHLEtBQU1xQyxNQUFNckMsS0FDWmlDLE1BQU9JLE1BQU1KLFNBUGpCd0osVUFBVTFKLEtBQU8sS0FBT00sTUFBTU4sSUFDOUIwSixVQUFVdkosTUFBUSxLQUFPRyxNQUFNTixJQUMvQmMsS0FBS3VJLFlBQVl2SSxLQUFLdUksWUFBWWhPLE9BQVMsR0FBRzJGLElBQU0wSSxVQUFVdkosV0FXdEUsR0FBSUcsTUFBUVEsS0FBS3pFLFVBQVUySSxNQUFNaEUsS0FDN0JBLElBQU1BLElBQUltQyxVQUFVN0MsTUFBTU4sSUFBSTNFLFFBQzlCbUYsT0FBT3BCLEtBQUtrQixZQUloQixHQUFJQSxNQUFRUSxLQUFLekUsVUFBVW1KLFNBQVN4RSxLQUNoQ0EsSUFBTUEsSUFBSW1DLFVBQVU3QyxNQUFNTixJQUFJM0UsUUFDOUJtRixPQUFPcEIsS0FBS2tCLFdBRmhCLENBUUEsR0FEQXFKLE9BQVMzSSxJQUNMRixLQUFLSCxRQUFRNUUsWUFBYytFLEtBQUtILFFBQVE1RSxXQUFXa08sV0FBWSxDQUMvRCxJQUFJQyxXQUFhQyxJQUNqQixNQUFNQyxRQUFVcEosSUFBSXBCLE1BQU0sR0FDMUIsSUFBSXlLLFVBQ0p2SixLQUFLSCxRQUFRNUUsV0FBV2tPLFdBQVdLLFNBQVNDLGdCQUN4Q0YsVUFBWUUsY0FBYzVPLEtBQUssQ0FBRXNFLE1BQU9hLE1BQVFzSixTQUN2QixpQkFBZEMsV0FBMEJBLFdBQWEsSUFDOUNILFdBQWFyRyxLQUFLQyxJQUFJb0csV0FBWUcsV0FDdEMsSUFFQUgsV0FBYUMsS0FBWUQsWUFBYyxJQUN2Q1AsT0FBUzNJLElBQUltQyxVQUFVLEVBQUcrRyxXQUFhLEdBRS9DLENBQ0EsR0FBSXBKLEtBQUtWLE1BQU1rQyxNQUFRaEMsTUFBUVEsS0FBS3pFLFVBQVVvSixVQUFVa0UsU0FDcERELFVBQVlsSixPQUFPQSxPQUFPbkYsT0FBUyxHQUMvQnVPLHNCQUEyQyxjQUFuQkYsVUFBVW5KLE1BQ2xDbUosVUFBVTFKLEtBQU8sS0FBT00sTUFBTU4sSUFDOUIwSixVQUFVdkosTUFBUSxLQUFPRyxNQUFNSCxLQUMvQlcsS0FBS3VJLFlBQVluSyxNQUNqQjRCLEtBQUt1SSxZQUFZdkksS0FBS3VJLFlBQVloTyxPQUFTLEdBQUcyRixJQUFNMEksVUFBVXZKLE1BRzlESyxPQUFPcEIsS0FBS2tCLE9BRWhCc0oscUJBQXdCRCxPQUFPdE8sU0FBVzJGLElBQUkzRixPQUM5QzJGLElBQU1BLElBQUltQyxVQUFVN0MsTUFBTU4sSUFBSTNFLGFBSWxDLEdBQUlpRixNQUFRUSxLQUFLekUsVUFBVThELEtBQUthLEtBQzVCQSxJQUFNQSxJQUFJbUMsVUFBVTdDLE1BQU1OLElBQUkzRSxRQUM5QnFPLFVBQVlsSixPQUFPQSxPQUFPbkYsT0FBUyxHQUMvQnFPLFdBQWdDLFNBQW5CQSxVQUFVbkosTUFDdkJtSixVQUFVMUosS0FBTyxLQUFPTSxNQUFNTixJQUM5QjBKLFVBQVV2SixNQUFRLEtBQU9HLE1BQU1ILEtBQy9CVyxLQUFLdUksWUFBWW5LLE1BQ2pCNEIsS0FBS3VJLFlBQVl2SSxLQUFLdUksWUFBWWhPLE9BQVMsR0FBRzJGLElBQU0wSSxVQUFVdkosTUFHOURLLE9BQU9wQixLQUFLa0IsWUFJcEIsR0FBSVUsSUFBSyxDQUNMLE1BQU13SixPQUFTLDBCQUE0QnhKLElBQUl5SixXQUFXLEdBQzFELEdBQUkzSixLQUFLSCxRQUFRdkUsT0FBUSxDQUNyQnNPLFFBQVFDLE1BQU1ILFFBQ2QsS0FDSixDQUVJLE1BQU0sSUFBSUksTUFBTUosT0FFeEIsQ0F6REEsQ0E0REosT0FEQTFKLEtBQUtWLE1BQU1rQyxLQUFNLEVBQ1Y5QixNQUNYLENBQ0EsTUFBQXVCLENBQU9mLElBQUtSLE9BQVMsSUFFakIsT0FEQU0sS0FBS3VJLFlBQVlqSyxLQUFLLENBQUU0QixRQUFLUixnQkFDdEJBLE1BQ1gsQ0FJQSxZQUFBQyxDQUFhTyxJQUFLUixPQUFTLElBQ3ZCLElBQUlGLE1BQU9vSixVQUFXQyxPQUdsQmpMLE1BQ0FtTSxhQUFjdEUsU0FGZEQsVUFBWXRGLElBSWhCLEdBQUlGLEtBQUtOLE9BQU8yRixNQUFPLENBQ25CLE1BQU1BLE1BQVFoTCxPQUFPQyxLQUFLMEYsS0FBS04sT0FBTzJGLE9BQ3RDLEdBQUlBLE1BQU05SyxPQUFTLEVBQ2YsS0FBOEUsT0FBdEVxRCxNQUFRb0MsS0FBS3pFLFVBQVV1RSxNQUFNbUIsT0FBT3VHLGNBQWNqSyxLQUFLaUksYUFDdkRILE1BQU0yRSxTQUFTcE0sTUFBTSxHQUFHa0IsTUFBTWxCLE1BQU0sR0FBR3FNLFlBQVksS0FBTyxHQUFJLE1BQzlEekUsVUFBWUEsVUFBVTFHLE1BQU0sRUFBR2xCLE1BQU15SSxPQUFTLElBQU0sSUFBSTdELE9BQU81RSxNQUFNLEdBQUdyRCxPQUFTLEdBQUssSUFBTWlMLFVBQVUxRyxNQUFNa0IsS0FBS3pFLFVBQVV1RSxNQUFNbUIsT0FBT3VHLGNBQWNwQixXQUl0SyxDQUVBLEtBQTBFLE9BQWxFeEksTUFBUW9DLEtBQUt6RSxVQUFVdUUsTUFBTW1CLE9BQU95RyxVQUFVbkssS0FBS2lJLGFBQ3ZEQSxVQUFZQSxVQUFVMUcsTUFBTSxFQUFHbEIsTUFBTXlJLE9BQVMsSUFBTSxJQUFJN0QsT0FBTzVFLE1BQU0sR0FBR3JELE9BQVMsR0FBSyxJQUFNaUwsVUFBVTFHLE1BQU1rQixLQUFLekUsVUFBVXVFLE1BQU1tQixPQUFPeUcsVUFBVXRCLFdBR3RKLEtBQStFLE9BQXZFeEksTUFBUW9DLEtBQUt6RSxVQUFVdUUsTUFBTW1CLE9BQU8wRyxlQUFlcEssS0FBS2lJLGFBQzVEQSxVQUFZQSxVQUFVMUcsTUFBTSxFQUFHbEIsTUFBTXlJLE9BQVMsS0FBT2IsVUFBVTFHLE1BQU1rQixLQUFLekUsVUFBVXVFLE1BQU1tQixPQUFPMEcsZUFBZXZCLFdBRXBILEtBQU9sRyxLQU1ILEdBTEs2SixlQUNEdEUsU0FBVyxJQUVmc0UsY0FBZSxJQUVYL0osS0FBS0gsUUFBUTVFLFlBQ1YrRSxLQUFLSCxRQUFRNUUsV0FBV2dHLFFBQ3hCakIsS0FBS0gsUUFBUTVFLFdBQVdnRyxPQUFPNEMsTUFBTXFGLGlCQUNoQzFKLE1BQVEwSixhQUFhck8sS0FBSyxDQUFFc0UsTUFBT2EsTUFBUUUsSUFBS1IsV0FDaERRLElBQU1BLElBQUltQyxVQUFVN0MsTUFBTU4sSUFBSTNFLFFBQzlCbUYsT0FBT3BCLEtBQUtrQixRQUNMLE1BT25CLEdBQUlBLE1BQVFRLEtBQUt6RSxVQUFVYSxPQUFPOEQsS0FDOUJBLElBQU1BLElBQUltQyxVQUFVN0MsTUFBTU4sSUFBSTNFLFFBQzlCbUYsT0FBT3BCLEtBQUtrQixZQUloQixHQUFJQSxNQUFRUSxLQUFLekUsVUFBVXlJLElBQUk5RCxLQUMzQkEsSUFBTUEsSUFBSW1DLFVBQVU3QyxNQUFNTixJQUFJM0UsUUFDOUJxTyxVQUFZbEosT0FBT0EsT0FBT25GLE9BQVMsR0FDL0JxTyxXQUE0QixTQUFmcEosTUFBTUMsTUFBc0MsU0FBbkJtSixVQUFVbkosTUFDaERtSixVQUFVMUosS0FBT00sTUFBTU4sSUFDdkIwSixVQUFVdkosTUFBUUcsTUFBTUgsTUFHeEJLLE9BQU9wQixLQUFLa0IsWUFLcEIsR0FBSUEsTUFBUVEsS0FBS3pFLFVBQVUwRCxLQUFLaUIsS0FDNUJBLElBQU1BLElBQUltQyxVQUFVN0MsTUFBTU4sSUFBSTNFLFFBQzlCbUYsT0FBT3BCLEtBQUtrQixZQUloQixHQUFJQSxNQUFRUSxLQUFLekUsVUFBVTZKLFFBQVFsRixJQUFLRixLQUFLTixPQUFPMkYsT0FDaERuRixJQUFNQSxJQUFJbUMsVUFBVTdDLE1BQU1OLElBQUkzRSxRQUM5QnFPLFVBQVlsSixPQUFPQSxPQUFPbkYsT0FBUyxHQUMvQnFPLFdBQTRCLFNBQWZwSixNQUFNQyxNQUFzQyxTQUFuQm1KLFVBQVVuSixNQUNoRG1KLFVBQVUxSixLQUFPTSxNQUFNTixJQUN2QjBKLFVBQVV2SixNQUFRRyxNQUFNSCxNQUd4QkssT0FBT3BCLEtBQUtrQixZQUtwQixHQUFJQSxNQUFRUSxLQUFLekUsVUFBVWdLLFNBQVNyRixJQUFLc0YsVUFBV0MsVUFDaER2RixJQUFNQSxJQUFJbUMsVUFBVTdDLE1BQU1OLElBQUkzRSxRQUM5Qm1GLE9BQU9wQixLQUFLa0IsWUFJaEIsR0FBSUEsTUFBUVEsS0FBS3pFLFVBQVUrSyxTQUFTcEcsS0FDaENBLElBQU1BLElBQUltQyxVQUFVN0MsTUFBTU4sSUFBSTNFLFFBQzlCbUYsT0FBT3BCLEtBQUtrQixZQUloQixHQUFJQSxNQUFRUSxLQUFLekUsVUFBVWtMLEdBQUd2RyxLQUMxQkEsSUFBTUEsSUFBSW1DLFVBQVU3QyxNQUFNTixJQUFJM0UsUUFDOUJtRixPQUFPcEIsS0FBS2tCLFlBSWhCLEdBQUlBLE1BQVFRLEtBQUt6RSxVQUFVbUwsSUFBSXhHLEtBQzNCQSxJQUFNQSxJQUFJbUMsVUFBVTdDLE1BQU1OLElBQUkzRSxRQUM5Qm1GLE9BQU9wQixLQUFLa0IsWUFJaEIsR0FBSUEsTUFBUVEsS0FBS3pFLFVBQVVvTCxTQUFTekcsS0FDaENBLElBQU1BLElBQUltQyxVQUFVN0MsTUFBTU4sSUFBSTNFLFFBQzlCbUYsT0FBT3BCLEtBQUtrQixZQUloQixHQUFLUSxLQUFLVixNQUFNQyxVQUFXQyxNQUFRUSxLQUFLekUsVUFBVXFMLElBQUkxRyxNQUF0RCxDQVFBLEdBREEySSxPQUFTM0ksSUFDTEYsS0FBS0gsUUFBUTVFLFlBQWMrRSxLQUFLSCxRQUFRNUUsV0FBV2lQLFlBQWEsQ0FDaEUsSUFBSWQsV0FBYUMsSUFDakIsTUFBTUMsUUFBVXBKLElBQUlwQixNQUFNLEdBQzFCLElBQUl5SyxVQUNKdkosS0FBS0gsUUFBUTVFLFdBQVdpUCxZQUFZVixTQUFTQyxnQkFDekNGLFVBQVlFLGNBQWM1TyxLQUFLLENBQUVzRSxNQUFPYSxNQUFRc0osU0FDdkIsaUJBQWRDLFdBQTBCQSxXQUFhLElBQzlDSCxXQUFhckcsS0FBS0MsSUFBSW9HLFdBQVlHLFdBQ3RDLElBRUFILFdBQWFDLEtBQVlELFlBQWMsSUFDdkNQLE9BQVMzSSxJQUFJbUMsVUFBVSxFQUFHK0csV0FBYSxHQUUvQyxDQUNBLEdBQUk1SixNQUFRUSxLQUFLekUsVUFBVXdMLFdBQVc4QixRQUNsQzNJLElBQU1BLElBQUltQyxVQUFVN0MsTUFBTU4sSUFBSTNFLFFBQ0YsTUFBeEJpRixNQUFNTixJQUFJSixPQUFPLEtBQ2pCMkcsU0FBV2pHLE1BQU1OLElBQUlKLE9BQU8sSUFFaENpTCxjQUFlLEVBQ2ZuQixVQUFZbEosT0FBT0EsT0FBT25GLE9BQVMsR0FDL0JxTyxXQUFnQyxTQUFuQkEsVUFBVW5KLE1BQ3ZCbUosVUFBVTFKLEtBQU9NLE1BQU1OLElBQ3ZCMEosVUFBVXZKLE1BQVFHLE1BQU1ILE1BR3hCSyxPQUFPcEIsS0FBS2tCLFlBSXBCLEdBQUlVLElBQUssQ0FDTCxNQUFNd0osT0FBUywwQkFBNEJ4SixJQUFJeUosV0FBVyxHQUMxRCxHQUFJM0osS0FBS0gsUUFBUXZFLE9BQVEsQ0FDckJzTyxRQUFRQyxNQUFNSCxRQUNkLEtBQ0osQ0FFSSxNQUFNLElBQUlJLE1BQU1KLE9BRXhCLENBM0NBLE1BSEl4SixJQUFNQSxJQUFJbUMsVUFBVTdDLE1BQU1OLElBQUkzRSxRQUM5Qm1GLE9BQU9wQixLQUFLa0IsT0ErQ3BCLE9BQU9FLE1BQ1gsRUFNSixNQUFNeUssVUFDRnRLLFFBQ0EsV0FBQUUsQ0FBWUYsU0FDUkcsS0FBS0gsUUFBVUEsU0FBV3BFLFNBQzlCLENBQ0EsSUFBQTRFLENBQUtBLEtBQU0rSixXQUFZck0sU0FDbkIsTUFBTWlELE1BQVFvSixZQUFjLElBQUl4TSxNQUFNLFVBQVUsR0FFaEQsT0FEQXlDLEtBQU9BLEtBQUs3RCxRQUFRLE1BQU8sSUFBTSxLQUM1QndFLEtBS0UsOEJBQ0Q1RSxPQUFPNEUsTUFDUCxNQUNDakQsUUFBVXNDLEtBQU9qRSxPQUFPaUUsTUFBTSxJQUMvQixrQkFSSyxlQUNBdEMsUUFBVXNDLEtBQU9qRSxPQUFPaUUsTUFBTSxJQUMvQixpQkFPZCxDQUNBLFVBQUFrQixDQUFXOEksT0FDUCxNQUFPLGlCQUFpQkEsc0JBQzVCLENBQ0EsSUFBQWhPLENBQUtBLEtBQU04RCxPQUNQLE9BQU85RCxJQUNYLENBQ0EsT0FBQThFLENBQVE5QixLQUFNNkYsTUFBT2hHLEtBRWpCLE1BQU8sS0FBS2dHLFNBQVM3RixVQUFVNkYsVUFDbkMsQ0FDQSxFQUFBNUQsR0FDSSxNQUFPLFFBQ1gsQ0FDQSxJQUFBSSxDQUFLNEksS0FBTXpJLFFBQVNDLE9BQ2hCLE1BQU1yQyxLQUFPb0MsUUFBVSxLQUFPLEtBRTlCLE1BQU8sSUFBTXBDLE1BREtvQyxTQUFxQixJQUFWQyxNQUFnQixXQUFhQSxNQUFRLElBQU8sSUFDMUMsTUFBUXdJLEtBQU8sS0FBTzdLLEtBQU8sS0FDaEUsQ0FDQSxRQUFBOEssQ0FBU2xMLEtBQU1rRSxLQUFNQyxTQUNqQixNQUFPLE9BQU9uRSxhQUNsQixDQUNBLFFBQUFtTCxDQUFTaEgsU0FDTCxNQUFPLFdBQ0FBLFFBQVUsY0FBZ0IsSUFDM0IsOEJBQ1YsQ0FDQSxTQUFBbUIsQ0FBVXRGLE1BQ04sTUFBTyxNQUFNQSxZQUNqQixDQUNBLEtBQUE2RSxDQUFNRSxPQUFRa0csTUFHVixPQUZJQSxPQUNBQSxLQUFPLFVBQVVBLGdCQUNkLHFCQUVEbEcsT0FDQSxhQUNBa0csS0FDQSxZQUNWLENBQ0EsUUFBQUcsQ0FBU0MsU0FDTCxNQUFPLFNBQVNBLGdCQUNwQixDQUNBLFNBQUFDLENBQVVELFFBQVNFLE9BQ2YsTUFBTW5MLEtBQU9tTCxNQUFNeEcsT0FBUyxLQUFPLEtBSW5DLE9BSFl3RyxNQUFNdkcsTUFDWixJQUFJNUUsZUFBZW1MLE1BQU12RyxVQUN6QixJQUFJNUUsU0FDR2lMLFFBQVUsS0FBS2pMLFNBQ2hDLENBSUEsTUFBQXVJLENBQU8zSSxNQUNILE1BQU8sV0FBV0EsZUFDdEIsQ0FDQSxFQUFBK0ksQ0FBRy9JLE1BQ0MsTUFBTyxPQUFPQSxXQUNsQixDQUNBLFFBQUFpSCxDQUFTakgsTUFDTCxNQUFPLFNBQVNBLGFBQ3BCLENBQ0EsRUFBQW9ILEdBQ0ksTUFBTyxNQUNYLENBQ0EsR0FBQUMsQ0FBSXJILE1BQ0EsTUFBTyxRQUFRQSxZQUNuQixDQUNBLElBQUFKLENBQUs5QixLQUFNaUMsTUFBT0MsTUFDZCxNQUFNd0wsVUFBWTNOLFNBQVNDLE1BQzNCLEdBQWtCLE9BQWQwTixVQUNBLE9BQU94TCxLQUdYLElBQUl5TCxJQUFNLGFBRFYzTixLQUFPME4sV0FDd0IsSUFLL0IsT0FKSXpMLFFBQ0EwTCxLQUFPLFdBQWExTCxNQUFRLEtBRWhDMEwsS0FBTyxJQUFNekwsS0FBTyxPQUNieUwsR0FDWCxDQUNBLEtBQUFDLENBQU01TixLQUFNaUMsTUFBT0MsTUFDZixNQUFNd0wsVUFBWTNOLFNBQVNDLE1BQzNCLEdBQWtCLE9BQWQwTixVQUNBLE9BQU94TCxLQUdYLElBQUl5TCxJQUFNLGFBRFYzTixLQUFPME4sbUJBQzhCeEwsUUFLckMsT0FKSUQsUUFDQTBMLEtBQU8sV0FBVzFMLFVBRXRCMEwsS0FBTyxJQUNBQSxHQUNYLENBQ0EsSUFBQXpMLENBQUtBLE1BQ0QsT0FBT0EsSUFDWCxFQU9KLE1BQU0yTCxjQUVGLE1BQUFoRCxDQUFPM0ksTUFDSCxPQUFPQSxJQUNYLENBQ0EsRUFBQStJLENBQUcvSSxNQUNDLE9BQU9BLElBQ1gsQ0FDQSxRQUFBaUgsQ0FBU2pILE1BQ0wsT0FBT0EsSUFDWCxDQUNBLEdBQUFxSCxDQUFJckgsTUFDQSxPQUFPQSxJQUNYLENBQ0EsSUFBQWhELENBQUtnRCxNQUNELE9BQU9BLElBQ1gsQ0FDQSxJQUFBQSxDQUFLQSxNQUNELE9BQU9BLElBQ1gsQ0FDQSxJQUFBSixDQUFLOUIsS0FBTWlDLE1BQU9DLE1BQ2QsTUFBTyxHQUFLQSxJQUNoQixDQUNBLEtBQUEwTCxDQUFNNU4sS0FBTWlDLE1BQU9DLE1BQ2YsTUFBTyxHQUFLQSxJQUNoQixDQUNBLEVBQUFvSCxHQUNJLE1BQU8sRUFDWCxFQU1KLE1BQU13RSxRQUNGcEwsUUFDQXhFLFNBQ0E2UCxhQUNBLFdBQUFuTCxDQUFZRixTQUNSRyxLQUFLSCxRQUFVQSxTQUFXcEUsVUFDMUJ1RSxLQUFLSCxRQUFReEUsU0FBVzJFLEtBQUtILFFBQVF4RSxVQUFZLElBQUk4TyxVQUNyRG5LLEtBQUszRSxTQUFXMkUsS0FBS0gsUUFBUXhFLFNBQzdCMkUsS0FBSzNFLFNBQVN3RSxRQUFVRyxLQUFLSCxRQUM3QkcsS0FBS2tMLGFBQWUsSUFBSUYsYUFDNUIsQ0FJQSxZQUFPRyxDQUFNekwsT0FBUUcsU0FFakIsT0FEZSxJQUFJb0wsUUFBUXBMLFNBQ2JzTCxNQUFNekwsT0FDeEIsQ0FJQSxrQkFBTzBMLENBQVkxTCxPQUFRRyxTQUV2QixPQURlLElBQUlvTCxRQUFRcEwsU0FDYnVMLFlBQVkxTCxPQUM5QixDQUlBLEtBQUF5TCxDQUFNekwsT0FBUThCLEtBQU0sR0FDaEIsSUFBSXNKLElBQU0sR0FDVixJQUFLLElBQUk3USxFQUFJLEVBQUdBLEVBQUl5RixPQUFPbkYsT0FBUU4sSUFBSyxDQUNwQyxNQUFNdUYsTUFBUUUsT0FBT3pGLEdBRXJCLEdBQUkrRixLQUFLSCxRQUFRNUUsWUFBYytFLEtBQUtILFFBQVE1RSxXQUFXb1EsV0FBYXJMLEtBQUtILFFBQVE1RSxXQUFXb1EsVUFBVTdMLE1BQU1DLE1BQU8sQ0FDL0csTUFBTTZMLGFBQWU5TCxNQUNmK0wsSUFBTXZMLEtBQUtILFFBQVE1RSxXQUFXb1EsVUFBVUMsYUFBYTdMLE1BQU01RSxLQUFLLENBQUUyUSxPQUFReEwsTUFBUXNMLGNBQ3hGLElBQVksSUFBUkMsTUFBa0IsQ0FBQyxRQUFTLEtBQU0sVUFBVyxPQUFRLFFBQVMsYUFBYyxPQUFRLE9BQVEsWUFBYSxRQUFRdkIsU0FBU3NCLGFBQWE3TCxNQUFPLENBQzlJcUwsS0FBT1MsS0FBTyxHQUNkLFFBQ0osQ0FDSixDQUNBLE9BQVEvTCxNQUFNQyxNQUNWLElBQUssUUFDRCxTQUVKLElBQUssS0FDRHFMLEtBQU85SyxLQUFLM0UsU0FBU2lHLEtBQ3JCLFNBRUosSUFBSyxVQUFXLENBQ1osTUFBTW1LLGFBQWVqTSxNQUNyQnNMLEtBQU85SyxLQUFLM0UsU0FBUzhGLFFBQVFuQixLQUFLb0wsWUFBWUssYUFBYS9MLFFBQVMrTCxhQUFhcEssTUFBZ0JyQixLQUFLb0wsWUFBWUssYUFBYS9MLE9BQVFNLEtBQUtrTCxjQXJ1RGhKMU8sUUFBUUMsY0FBYyxDQUFDc00sRUFBRzJDLElBRXhCLFdBRFZBLEVBQUlBLEVBQUV6SCxlQUVLLElBQ1MsTUFBaEJ5SCxFQUFFN00sT0FBTyxHQUNjLE1BQWhCNk0sRUFBRTdNLE9BQU8sR0FDVjhNLE9BQU9DLGFBQWFDLFNBQVNILEVBQUVySixVQUFVLEdBQUksS0FDN0NzSixPQUFPQyxjQUFjRixFQUFFckosVUFBVSxJQUVwQyxNQTZ0REssUUFDSixDQUNBLElBQUssT0FBUSxDQUNULE1BQU15SixVQUFZdE0sTUFDbEJzTCxLQUFPOUssS0FBSzNFLFNBQVNnRixLQUFLeUwsVUFBVXpNLEtBQU15TSxVQUFVOUssT0FBUThLLFVBQVUvTixTQUN0RSxRQUNKLENBQ0EsSUFBSyxRQUFTLENBQ1YsTUFBTWdPLFdBQWF2TSxNQUNuQixJQUFJNEUsT0FBUyxHQUVUNEgsS0FBTyxHQUNYLElBQUssSUFBSXpILEVBQUksRUFBR0EsRUFBSXdILFdBQVczSCxPQUFPN0osT0FBUWdLLElBQzFDeUgsTUFBUWhNLEtBQUszRSxTQUFTc1AsVUFBVTNLLEtBQUtvTCxZQUFZVyxXQUFXM0gsT0FBT0csR0FBRzdFLFFBQVMsQ0FBRTBFLFFBQVEsRUFBTUMsTUFBTzBILFdBQVcxSCxNQUFNRSxLQUUzSEgsUUFBVXBFLEtBQUszRSxTQUFTb1AsU0FBU3VCLE1BQ2pDLElBQUkxQixLQUFPLEdBQ1gsSUFBSyxJQUFJL0YsRUFBSSxFQUFHQSxFQUFJd0gsV0FBV3pILEtBQUsvSixPQUFRZ0ssSUFBSyxDQUM3QyxNQUFNRSxJQUFNc0gsV0FBV3pILEtBQUtDLEdBQzVCeUgsS0FBTyxHQUNQLElBQUssSUFBSXhILEVBQUksRUFBR0EsRUFBSUMsSUFBSWxLLE9BQVFpSyxJQUM1QndILE1BQVFoTSxLQUFLM0UsU0FBU3NQLFVBQVUzSyxLQUFLb0wsWUFBWTNHLElBQUlELEdBQUc5RSxRQUFTLENBQUUwRSxRQUFRLEVBQU9DLE1BQU8wSCxXQUFXMUgsTUFBTUcsS0FFOUc4RixNQUFRdEssS0FBSzNFLFNBQVNvUCxTQUFTdUIsS0FDbkMsQ0FDQWxCLEtBQU85SyxLQUFLM0UsU0FBUzZJLE1BQU1FLE9BQVFrRyxNQUNuQyxRQUNKLENBQ0EsSUFBSyxhQUFjLENBQ2YsTUFBTTJCLGdCQUFrQnpNLE1BQ2xCOEssS0FBT3RLLEtBQUttTCxNQUFNYyxnQkFBZ0J2TSxRQUN4Q29MLEtBQU85SyxLQUFLM0UsU0FBU2tHLFdBQVcrSSxNQUNoQyxRQUNKLENBQ0EsSUFBSyxPQUFRLENBQ1QsTUFBTTRCLFVBQVkxTSxNQUNacUMsUUFBVXFLLFVBQVVySyxRQUNwQkMsTUFBUW9LLFVBQVVwSyxNQUNsQkMsTUFBUW1LLFVBQVVuSyxNQUN4QixJQUFJdUksS0FBTyxHQUNYLElBQUssSUFBSS9GLEVBQUksRUFBR0EsRUFBSTJILFVBQVVsSyxNQUFNekgsT0FBUWdLLElBQUssQ0FDN0MsTUFBTUosS0FBTytILFVBQVVsSyxNQUFNdUMsR0FDdkJmLFFBQVVXLEtBQUtYLFFBQ2ZELEtBQU9ZLEtBQUtaLEtBQ2xCLElBQUk0SSxTQUFXLEdBQ2YsR0FBSWhJLEtBQUtaLEtBQU0sQ0FDWCxNQUFNaUgsU0FBV3hLLEtBQUszRSxTQUFTbVAsV0FBV2hILFNBQ3RDekIsTUFDSW9DLEtBQUt6RSxPQUFPbkYsT0FBUyxHQUE2QixjQUF4QjRKLEtBQUt6RSxPQUFPLEdBQUdELE1BQ3pDMEUsS0FBS3pFLE9BQU8sR0FBR0wsS0FBT21MLFNBQVcsSUFBTXJHLEtBQUt6RSxPQUFPLEdBQUdMLEtBQ2xEOEUsS0FBS3pFLE9BQU8sR0FBR0EsUUFBVXlFLEtBQUt6RSxPQUFPLEdBQUdBLE9BQU9uRixPQUFTLEdBQXVDLFNBQWxDNEosS0FBS3pFLE9BQU8sR0FBR0EsT0FBTyxHQUFHRCxPQUN0RjBFLEtBQUt6RSxPQUFPLEdBQUdBLE9BQU8sR0FBR0wsS0FBT21MLFNBQVcsSUFBTXJHLEtBQUt6RSxPQUFPLEdBQUdBLE9BQU8sR0FBR0wsT0FJOUU4RSxLQUFLekUsT0FBTzBNLFFBQVEsQ0FDaEIzTSxLQUFNLE9BQ05KLEtBQU1tTCxTQUFXLE1BS3pCMkIsVUFBWTNCLFNBQVcsR0FFL0IsQ0FDQTJCLFVBQVluTSxLQUFLbUwsTUFBTWhILEtBQUt6RSxPQUFRcUMsT0FDcEN1SSxNQUFRdEssS0FBSzNFLFNBQVNrUCxTQUFTNEIsU0FBVTVJLE9BQVFDLFFBQ3JELENBQ0FzSCxLQUFPOUssS0FBSzNFLFNBQVNxRyxLQUFLNEksS0FBTXpJLFFBQVNDLE9BQ3pDLFFBQ0osQ0FDQSxJQUFLLE9BQVEsQ0FDVCxNQUFNdUssVUFBWTdNLE1BQ2xCc0wsS0FBTzlLLEtBQUszRSxTQUFTZ0IsS0FBS2dRLFVBQVVoTixLQUFNZ04sVUFBVWxNLE9BQ3BELFFBQ0osQ0FDQSxJQUFLLFlBQWEsQ0FDZCxNQUFNbU0sZUFBaUI5TSxNQUN2QnNMLEtBQU85SyxLQUFLM0UsU0FBU3NKLFVBQVUzRSxLQUFLb0wsWUFBWWtCLGVBQWU1TSxTQUMvRCxRQUNKLENBQ0EsSUFBSyxPQUFRLENBQ1QsSUFBSTZNLFVBQVkvTSxNQUNaOEssS0FBT2lDLFVBQVU3TSxPQUFTTSxLQUFLb0wsWUFBWW1CLFVBQVU3TSxRQUFVNk0sVUFBVWxOLEtBQzdFLEtBQU9wRixFQUFJLEVBQUl5RixPQUFPbkYsUUFBaUMsU0FBdkJtRixPQUFPekYsRUFBSSxHQUFHd0YsTUFDMUM4TSxVQUFZN00sU0FBU3pGLEdBQ3JCcVEsTUFBUSxNQUFRaUMsVUFBVTdNLE9BQVNNLEtBQUtvTCxZQUFZbUIsVUFBVTdNLFFBQVU2TSxVQUFVbE4sTUFFdEZ5TCxLQUFPdEosSUFBTXhCLEtBQUszRSxTQUFTc0osVUFBVTJGLE1BQVFBLEtBQzdDLFFBQ0osQ0FDQSxRQUFTLENBQ0wsTUFBTVosT0FBUyxlQUFpQmxLLE1BQU1DLEtBQU8sd0JBQzdDLEdBQUlPLEtBQUtILFFBQVF2RSxPQUViLE9BREFzTyxRQUFRQyxNQUFNSCxRQUNQLEdBR1AsTUFBTSxJQUFJSSxNQUFNSixPQUV4QixFQUVSLENBQ0EsT0FBT29CLEdBQ1gsQ0FJQSxXQUFBTSxDQUFZMUwsT0FBUXJFLFVBQ2hCQSxTQUFXQSxVQUFZMkUsS0FBSzNFLFNBQzVCLElBQUl5UCxJQUFNLEdBQ1YsSUFBSyxJQUFJN1EsRUFBSSxFQUFHQSxFQUFJeUYsT0FBT25GLE9BQVFOLElBQUssQ0FDcEMsTUFBTXVGLE1BQVFFLE9BQU96RixHQUVyQixHQUFJK0YsS0FBS0gsUUFBUTVFLFlBQWMrRSxLQUFLSCxRQUFRNUUsV0FBV29RLFdBQWFyTCxLQUFLSCxRQUFRNUUsV0FBV29RLFVBQVU3TCxNQUFNQyxNQUFPLENBQy9HLE1BQU04TCxJQUFNdkwsS0FBS0gsUUFBUTVFLFdBQVdvUSxVQUFVN0wsTUFBTUMsTUFBTTVFLEtBQUssQ0FBRTJRLE9BQVF4TCxNQUFRUixPQUNqRixJQUFZLElBQVIrTCxNQUFrQixDQUFDLFNBQVUsT0FBUSxPQUFRLFFBQVMsU0FBVSxLQUFNLFdBQVksS0FBTSxNQUFPLFFBQVF2QixTQUFTeEssTUFBTUMsTUFBTyxDQUM3SHFMLEtBQU9TLEtBQU8sR0FDZCxRQUNKLENBQ0osQ0FDQSxPQUFRL0wsTUFBTUMsTUFDVixJQUFLLFNBQVUsQ0FDWCxNQUFNK00sWUFBY2hOLE1BQ3BCc0wsS0FBT3pQLFNBQVNnRSxLQUFLbU4sWUFBWW5OLE1BQ2pDLEtBQ0osQ0FDQSxJQUFLLE9BQVEsQ0FDVCxNQUFNb04sU0FBV2pOLE1BQ2pCc0wsS0FBT3pQLFNBQVNnQixLQUFLb1EsU0FBU3BOLE1BQzlCLEtBQ0osQ0FDQSxJQUFLLE9BQVEsQ0FDVCxNQUFNcU4sVUFBWWxOLE1BQ2xCc0wsS0FBT3pQLFNBQVM0RCxLQUFLeU4sVUFBVXZQLEtBQU11UCxVQUFVdE4sTUFBT1ksS0FBS29MLFlBQVlzQixVQUFVaE4sT0FBUXJFLFdBQ3pGLEtBQ0osQ0FDQSxJQUFLLFFBQVMsQ0FDVixNQUFNc1IsV0FBYW5OLE1BQ25Cc0wsS0FBT3pQLFNBQVMwUCxNQUFNNEIsV0FBV3hQLEtBQU13UCxXQUFXdk4sTUFBT3VOLFdBQVd0TixNQUNwRSxLQUNKLENBQ0EsSUFBSyxTQUFVLENBQ1gsTUFBTXVOLFlBQWNwTixNQUNwQnNMLEtBQU96UCxTQUFTMk0sT0FBT2hJLEtBQUtvTCxZQUFZd0IsWUFBWWxOLE9BQVFyRSxXQUM1RCxLQUNKLENBQ0EsSUFBSyxLQUFNLENBQ1AsTUFBTXdSLFFBQVVyTixNQUNoQnNMLEtBQU96UCxTQUFTK00sR0FBR3BJLEtBQUtvTCxZQUFZeUIsUUFBUW5OLE9BQVFyRSxXQUNwRCxLQUNKLENBQ0EsSUFBSyxXQUFZLENBQ2IsTUFBTXlSLGNBQWdCdE4sTUFDdEJzTCxLQUFPelAsU0FBU2lMLFNBQVN3RyxjQUFjek4sTUFDdkMsS0FDSixDQUNBLElBQUssS0FDRHlMLEtBQU96UCxTQUFTb0wsS0FDaEIsTUFFSixJQUFLLE1BQU8sQ0FDUixNQUFNc0csU0FBV3ZOLE1BQ2pCc0wsS0FBT3pQLFNBQVNxTCxJQUFJMUcsS0FBS29MLFlBQVkyQixTQUFTck4sT0FBUXJFLFdBQ3RELEtBQ0osQ0FDQSxJQUFLLE9BQVEsQ0FDVCxNQUFNa1IsVUFBWS9NLE1BQ2xCc0wsS0FBT3pQLFNBQVNnRSxLQUFLa04sVUFBVWxOLE1BQy9CLEtBQ0osQ0FDQSxRQUFTLENBQ0wsTUFBTXFLLE9BQVMsZUFBaUJsSyxNQUFNQyxLQUFPLHdCQUM3QyxHQUFJTyxLQUFLSCxRQUFRdkUsT0FFYixPQURBc08sUUFBUUMsTUFBTUgsUUFDUCxHQUdQLE1BQU0sSUFBSUksTUFBTUosT0FFeEIsRUFFUixDQUNBLE9BQU9vQixHQUNYLEVBR0osTUFBTWtDLE9BQ0ZuTixRQUNBLFdBQUFFLENBQVlGLFNBQ1JHLEtBQUtILFFBQVVBLFNBQVdwRSxTQUM5QixDQUNBd1Isd0JBQTBCLElBQUlDLElBQUksQ0FDOUIsYUFDQSxnQkFLSixVQUFBQyxDQUFXQyxVQUNQLE9BQU9BLFFBQ1gsQ0FJQSxXQUFBQyxDQUFZaFIsTUFDUixPQUFPQSxJQUNYLEVBd1JKLE1BQU1pUixlQUFpQixJQXJSdkIsTUFBTUMsT0FDRkMsU0ExK0RPLENBQ0h6UyxPQUFPLEVBQ1BDLFFBQVEsRUFDUkMsV0FBWSxLQUNaQyxLQUFLLEVBQ0xDLE1BQU8sS0FDUEMsVUFBVSxFQUNWQyxTQUFVLEtBQ1ZDLFFBQVEsRUFDUkMsVUFBVyxLQUNYQyxXQUFZLE1BaStEaEJxRSxRQUFVRyxLQUFLeU4sV0FDZnRDLE1BQVFuTCxNQUFLLGNBQWVzSSxPQUFPRyxJQUFLd0MsUUFBUUUsT0FDaERDLFlBQWNwTCxNQUFLLGNBQWVzSSxPQUFPSSxVQUFXdUMsUUFBUUcsYUFDNURzQyxPQUFTekMsUUFDVE8sT0FBU1AsUUFBUUUsTUFDakJ3QyxTQUFXeEQsVUFDWHlELGFBQWU1QyxjQUNmNkMsTUFBUXZGLE9BQ1JuSixNQUFRbUosT0FBT0csSUFDZnFGLFVBQVlsTyxXQUNabU8sTUFBUWYsT0FDUixXQUFBak4sSUFBZWlPLE1BQ1hoTyxLQUFLaU8sT0FBT0QsS0FDaEIsQ0FJQSxVQUFBeFMsQ0FBV2tFLE9BQVF3TyxVQUNmLElBQUlDLE9BQVMsR0FDYixJQUFLLE1BQU0zTyxTQUFTRSxPQUVoQixPQURBeU8sT0FBU0EsT0FBT0MsT0FBT0YsU0FBU3JULEtBQUttRixLQUFNUixRQUNuQ0EsTUFBTUMsTUFDVixJQUFLLFFBQVMsQ0FDVixNQUFNc00sV0FBYXZNLE1BQ25CLElBQUssTUFBTXdNLFFBQVFELFdBQVczSCxPQUMxQitKLE9BQVNBLE9BQU9DLE9BQU9wTyxLQUFLeEUsV0FBV3dRLEtBQUt0TSxPQUFRd08sV0FFeEQsSUFBSyxNQUFNekosT0FBT3NILFdBQVd6SCxLQUN6QixJQUFLLE1BQU0wSCxRQUFRdkgsSUFDZjBKLE9BQVNBLE9BQU9DLE9BQU9wTyxLQUFLeEUsV0FBV3dRLEtBQUt0TSxPQUFRd08sV0FHNUQsS0FDSixDQUNBLElBQUssT0FBUSxDQUNULE1BQU1oQyxVQUFZMU0sTUFDbEIyTyxPQUFTQSxPQUFPQyxPQUFPcE8sS0FBS3hFLFdBQVcwUSxVQUFVbEssTUFBT2tNLFdBQ3hELEtBQ0osQ0FDQSxRQUFTLENBQ0wsTUFBTTVDLGFBQWU5TCxNQUNqQlEsS0FBS3dOLFNBQVN2UyxZQUFZb1QsY0FBYy9DLGFBQWE3TCxNQUNyRE8sS0FBS3dOLFNBQVN2UyxXQUFXb1QsWUFBWS9DLGFBQWE3TCxNQUFNK0osU0FBUzZFLGNBQzdERixPQUFTQSxPQUFPQyxPQUFPcE8sS0FBS3hFLFdBQVc4UCxhQUFhK0MsYUFBY0gsVUFBVSxJQUczRTVDLGFBQWE1TCxTQUNsQnlPLE9BQVNBLE9BQU9DLE9BQU9wTyxLQUFLeEUsV0FBVzhQLGFBQWE1TCxPQUFRd08sV0FFcEUsRUFHUixPQUFPQyxNQUNYLENBQ0EsR0FBQUYsSUFBT0QsTUFDSCxNQUFNL1MsV0FBYStFLEtBQUt3TixTQUFTdlMsWUFBYyxDQUFFb1EsVUFBVyxDQUFDLEVBQUdnRCxZQUFhLENBQUMsR0FnSjlFLE9BL0lBTCxLQUFLeEUsU0FBUzhFLE9BRVYsTUFBTUMsS0FBTyxJQUFLRCxNQThEbEIsR0E1REFDLEtBQUt4VCxNQUFRaUYsS0FBS3dOLFNBQVN6UyxPQUFTd1QsS0FBS3hULFFBQVMsRUFFOUN1VCxLQUFLclQsYUFDTHFULEtBQUtyVCxXQUFXdU8sU0FBU2dGLE1BQ3JCLElBQUtBLElBQUl6UixLQUNMLE1BQU0sSUFBSStNLE1BQU0sMkJBRXBCLEdBQUksYUFBYzBFLElBQUssQ0FDbkIsTUFBTUMsYUFBZXhULFdBQVdvUSxVQUFVbUQsSUFBSXpSLE1BRzFDOUIsV0FBV29RLFVBQVVtRCxJQUFJelIsTUFGekIwUixhQUVpQyxZQUFhVCxNQUMxQyxJQUFJekMsSUFBTWlELElBQUluVCxTQUFTcVQsTUFBTTFPLEtBQU1nTyxNQUluQyxPQUhZLElBQVJ6QyxNQUNBQSxJQUFNa0QsYUFBYUMsTUFBTTFPLEtBQU1nTyxPQUU1QnpDLEdBQ1gsRUFHaUNpRCxJQUFJblQsUUFFN0MsQ0FDQSxHQUFJLGNBQWVtVCxJQUFLLENBQ3BCLElBQUtBLElBQUl0SixPQUF3QixVQUFkc0osSUFBSXRKLE9BQW1DLFdBQWRzSixJQUFJdEosTUFDNUMsTUFBTSxJQUFJNEUsTUFBTSwrQ0FFcEIsTUFBTTZFLFNBQVcxVCxXQUFXdVQsSUFBSXRKLE9BQzVCeUosU0FDQUEsU0FBU3ZDLFFBQVFvQyxJQUFJalQsV0FHckJOLFdBQVd1VCxJQUFJdEosT0FBUyxDQUFDc0osSUFBSWpULFdBRTdCaVQsSUFBSTFNLFFBQ2MsVUFBZDBNLElBQUl0SixNQUNBakssV0FBV2tPLFdBQ1hsTyxXQUFXa08sV0FBVzdLLEtBQUtrUSxJQUFJMU0sT0FHL0I3RyxXQUFXa08sV0FBYSxDQUFDcUYsSUFBSTFNLE9BR2QsV0FBZDBNLElBQUl0SixRQUNMakssV0FBV2lQLFlBQ1hqUCxXQUFXaVAsWUFBWTVMLEtBQUtrUSxJQUFJMU0sT0FHaEM3RyxXQUFXaVAsWUFBYyxDQUFDc0UsSUFBSTFNLFFBSTlDLENBQ0ksZ0JBQWlCME0sS0FBT0EsSUFBSUgsY0FDNUJwVCxXQUFXb1QsWUFBWUcsSUFBSXpSLE1BQVF5UixJQUFJSCxZQUMzQyxJQUVKRSxLQUFLdFQsV0FBYUEsWUFHbEJxVCxLQUFLalQsU0FBVSxDQUNmLE1BQU1BLFNBQVcyRSxLQUFLd04sU0FBU25TLFVBQVksSUFBSThPLFVBQVVuSyxLQUFLd04sVUFDOUQsSUFBSyxNQUFNb0IsUUFBUU4sS0FBS2pULFNBQVUsQ0FDOUIsTUFBTXdULGFBQWVQLEtBQUtqVCxTQUFTdVQsTUFDN0JFLFlBQWNGLEtBQ2RILGFBQWVwVCxTQUFTeVQsYUFFOUJ6VCxTQUFTeVQsYUFBZSxJQUFJZCxRQUN4QixJQUFJekMsSUFBTXNELGFBQWFILE1BQU1yVCxTQUFVMlMsTUFJdkMsT0FIWSxJQUFSekMsTUFDQUEsSUFBTWtELGFBQWFDLE1BQU1yVCxTQUFVMlMsT0FFaEN6QyxLQUFPLEVBQUUsQ0FFeEIsQ0FDQWdELEtBQUtsVCxTQUFXQSxRQUNwQixDQUNBLEdBQUlpVCxLQUFLL1MsVUFBVyxDQUNoQixNQUFNQSxVQUFZeUUsS0FBS3dOLFNBQVNqUyxXQUFhLElBQUlxRSxXQUFXSSxLQUFLd04sVUFDakUsSUFBSyxNQUFNb0IsUUFBUU4sS0FBSy9TLFVBQVcsQ0FDL0IsTUFBTXdULGNBQWdCVCxLQUFLL1MsVUFBVXFULE1BQy9CSSxhQUFlSixLQUNmSyxjQUFnQjFULFVBQVV5VCxjQUVoQ3pULFVBQVV5VCxjQUFnQixJQUFJaEIsUUFDMUIsSUFBSXpDLElBQU13RCxjQUFjTCxNQUFNblQsVUFBV3lTLE1BSXpDLE9BSFksSUFBUnpDLE1BQ0FBLElBQU0wRCxjQUFjUCxNQUFNblQsVUFBV3lTLE9BRWxDekMsR0FBRyxDQUVsQixDQUNBZ0QsS0FBS2hULFVBQVlBLFNBQ3JCLENBRUEsR0FBSStTLEtBQUtuVCxNQUFPLENBQ1osTUFBTUEsTUFBUTZFLEtBQUt3TixTQUFTclMsT0FBUyxJQUFJNlIsT0FDekMsSUFBSyxNQUFNNEIsUUFBUU4sS0FBS25ULE1BQU8sQ0FDM0IsTUFBTStULFVBQVlaLEtBQUtuVCxNQUFNeVQsTUFDdkJPLFNBQVdQLEtBQ1hRLFNBQVdqVSxNQUFNZ1UsVUFDbkJuQyxPQUFPcUMsaUJBQWlCQyxJQUFJVixNQUM1QnpULE1BQU1nVSxVQUFhSSxNQUNmLEdBQUl2UCxLQUFLd04sU0FBU3pTLE1BQ2QsT0FBT3lVLFFBQVFDLFFBQVFQLFVBQVVyVSxLQUFLTSxNQUFPb1UsTUFBTUcsTUFBS25FLEtBQzdDNkQsU0FBU3ZVLEtBQUtNLE1BQU9vUSxPQUdwQyxNQUFNQSxJQUFNMkQsVUFBVXJVLEtBQUtNLE1BQU9vVSxLQUNsQyxPQUFPSCxTQUFTdlUsS0FBS00sTUFBT29RLElBQUksRUFJcENwUSxNQUFNZ1UsVUFBWSxJQUFJbkIsUUFDbEIsSUFBSXpDLElBQU0yRCxVQUFVUixNQUFNdlQsTUFBTzZTLE1BSWpDLE9BSFksSUFBUnpDLE1BQ0FBLElBQU02RCxTQUFTVixNQUFNdlQsTUFBTzZTLE9BRXpCekMsR0FBRyxDQUd0QixDQUNBZ0QsS0FBS3BULE1BQVFBLEtBQ2pCLENBRUEsR0FBSW1ULEtBQUs5UyxXQUFZLENBQ2pCLE1BQU1BLFdBQWF3RSxLQUFLd04sU0FBU2hTLFdBQzNCbVUsZUFBaUJyQixLQUFLOVMsV0FDNUIrUyxLQUFLL1MsV0FBYSxTQUFVZ0UsT0FDeEIsSUFBSTJPLE9BQVMsR0FLYixPQUpBQSxPQUFPN1AsS0FBS3FSLGVBQWU5VSxLQUFLbUYsS0FBTVIsUUFDbENoRSxhQUNBMlMsT0FBU0EsT0FBT0MsT0FBTzVTLFdBQVdYLEtBQUttRixLQUFNUixTQUUxQzJPLE1BQ1gsQ0FDSixDQUNBbk8sS0FBS3dOLFNBQVcsSUFBS3hOLEtBQUt3TixZQUFhZSxLQUFNLElBRTFDdk8sSUFDWCxDQUNBLFVBQUF5TixDQUFXNVEsS0FFUCxPQURBbUQsS0FBS3dOLFNBQVcsSUFBS3hOLEtBQUt3TixZQUFhM1EsS0FDaENtRCxJQUNYLENBQ0EsZUFBZWIsTUFBT3FNLFFBQ2xCLE1BQU8sQ0FBQ3RMLElBQUtMLFdBQ1QsTUFBTStQLFFBQVUsSUFBSy9QLFNBQ2ZoRCxJQUFNLElBQUttRCxLQUFLd04sWUFBYW9DLFVBRVAsSUFBeEI1UCxLQUFLd04sU0FBU3pTLFFBQW9DLElBQWxCNlUsUUFBUTdVLFFBQ25DOEIsSUFBSXZCLFFBQ0xzTyxRQUFRaUcsS0FBSyxzSEFFakJoVCxJQUFJOUIsT0FBUSxHQUVoQixNQUFNK1UsV0FBYTlQLE1BQUssVUFBV25ELElBQUl2QixTQUFVdUIsSUFBSTlCLE9BRXJELEdBQUksTUFBT21GLElBQ1AsT0FBTzRQLFdBQVcsSUFBSWhHLE1BQU0sbURBRWhDLEdBQW1CLGlCQUFSNUosSUFDUCxPQUFPNFAsV0FBVyxJQUFJaEcsTUFBTSx3Q0FDdEJ6UCxPQUFPTSxVQUFVb1YsU0FBU2xWLEtBQUtxRixLQUFPLHNCQUtoRCxHQUhJckQsSUFBSTFCLFFBQ0owQixJQUFJMUIsTUFBTTBFLFFBQVVoRCxLQUVwQkEsSUFBSTlCLE1BQ0osT0FBT3lVLFFBQVFDLFFBQVE1UyxJQUFJMUIsTUFBUTBCLElBQUkxQixNQUFNZ1MsV0FBV2pOLEtBQU9BLEtBQzFEd1AsTUFBS3hQLEtBQU9mLE1BQU1lLElBQUtyRCxPQUN2QjZTLE1BQUtoUSxRQUFVN0MsSUFBSXJCLFdBQWFnVSxRQUFRUSxJQUFJaFEsS0FBS3hFLFdBQVdrRSxPQUFRN0MsSUFBSXJCLGFBQWFrVSxNQUFLLElBQU1oUSxTQUFVQSxTQUMxR2dRLE1BQUtoUSxRQUFVOEwsT0FBTzlMLE9BQVE3QyxPQUM5QjZTLE1BQUtyVCxNQUFRUSxJQUFJMUIsTUFBUTBCLElBQUkxQixNQUFNa1MsWUFBWWhSLE1BQVFBLE9BQ3ZENFQsTUFBTUgsWUFFZixJQUNRalQsSUFBSTFCLFFBQ0orRSxJQUFNckQsSUFBSTFCLE1BQU1nUyxXQUFXak4sTUFFL0IsTUFBTVIsT0FBU1AsTUFBTWUsSUFBS3JELEtBQ3RCQSxJQUFJckIsWUFDSndFLEtBQUt4RSxXQUFXa0UsT0FBUTdDLElBQUlyQixZQUVoQyxJQUFJYSxLQUFPbVAsT0FBTzlMLE9BQVE3QyxLQUkxQixPQUhJQSxJQUFJMUIsUUFDSmtCLEtBQU9RLElBQUkxQixNQUFNa1MsWUFBWWhSLE9BRTFCQSxJQUNYLENBQ0EsTUFBT2dCLEdBQ0gsT0FBT3lTLFdBQVd6UyxFQUN0QixFQUVSLENBQ0EsU0FBUy9CLE9BQVFQLE9BQ2IsT0FBUXNDLElBRUosR0FEQUEsRUFBRTZTLFNBQVcsOERBQ1Q1VSxPQUFRLENBQ1IsTUFBTTZVLElBQU0saUNBQ04vVCxPQUFPaUIsRUFBRTZTLFFBQVUsSUFBSSxHQUN2QixTQUNOLE9BQUluVixNQUNPeVUsUUFBUUMsUUFBUVUsS0FFcEJBLEdBQ1gsQ0FDQSxHQUFJcFYsTUFDQSxPQUFPeVUsUUFBUVksT0FBTy9TLEdBRTFCLE1BQU1BLENBQUMsQ0FFZixHQUlKLFNBQVNnVCxPQUFPblEsSUFBS3JELEtBQ2pCLE9BQU95USxlQUFlbkMsTUFBTWpMLElBQUtyRCxJQUNyQyxDQU1Bd1QsT0FBT3hRLFFBQ0h3USxPQUFPNUMsV0FBYSxTQUFVNU4sU0FJMUIsT0FIQXlOLGVBQWVHLFdBQVc1TixTQUMxQndRLE9BQU83QyxTQUFXRixlQUFlRSxTQUNqQzlSLGVBQWUyVSxPQUFPN0MsVUFDZjZDLE1BQ1gsRUFJSkEsT0FBT0MsWUFBY3hWLGFBQ3JCdVYsT0FBTzdDLFNBQVcvUixVQUlsQjRVLE9BQU9wQyxJQUFNLFlBQWFELE1BSXRCLE9BSEFWLGVBQWVXLE9BQU9ELE1BQ3RCcUMsT0FBTzdDLFNBQVdGLGVBQWVFLFNBQ2pDOVIsZUFBZTJVLE9BQU83QyxVQUNmNkMsTUFDWCxFQUlBQSxPQUFPN1UsV0FBYSxTQUFVa0UsT0FBUXdPLFVBQ2xDLE9BQU9aLGVBQWU5UixXQUFXa0UsT0FBUXdPLFNBQzdDLEVBUUFtQyxPQUFPakYsWUFBY2tDLGVBQWVsQyxZQUlwQ2lGLE9BQU8zQyxPQUFTekMsUUFDaEJvRixPQUFPN0UsT0FBU1AsUUFBUUUsTUFDeEJrRixPQUFPMUMsU0FBV3hELFVBQ2xCa0csT0FBT3pDLGFBQWU1QyxjQUN0QnFGLE9BQU94QyxNQUFRdkYsT0FDZitILE9BQU9sUixNQUFRbUosT0FBT0csSUFDdEI0SCxPQUFPdkMsVUFBWWxPLFdBQ25CeVEsT0FBT3RDLE1BQVFmLE9BQ2ZxRCxPQUFPbEYsTUFBUWtGLE9BQ0NBLE9BQU94USxRQUNKd1EsT0FBTzVDLFdBQ2Q0QyxPQUFPcEMsSUFDQW9DLE9BQU83VSxXQUNONlUsT0FBT2pGLFciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9xdWVzdGlvbmFibGUtY29udGVudC1zcGEvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXMuanMiLCJ3ZWJwYWNrOi8vcXVlc3Rpb25hYmxlLWNvbnRlbnQtc3BhLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UuanMiLCJ3ZWJwYWNrOi8vcXVlc3Rpb25hYmxlLWNvbnRlbnQtc3BhLy4vbm9kZV9tb2R1bGVzL21hcmtlZC9saWIvbWFya2VkLmVzbS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSBmcm9tIFwiLi9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IG9iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7XG4gIHZhciBrZXksIGk7XG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7XG4gICAgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07XG4gICAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTtcbiAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgfVxuICB9XG4gIHJldHVybiB0YXJnZXQ7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBrZXksIGk7XG4gIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gIH1cbiAgcmV0dXJuIHRhcmdldDtcbn0iLCIvKipcbiAqIG1hcmtlZCB2OC4wLjEgLSBhIG1hcmtkb3duIHBhcnNlclxuICogQ29weXJpZ2h0IChjKSAyMDExLTIwMjMsIENocmlzdG9waGVyIEplZmZyZXkuIChNSVQgTGljZW5zZWQpXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbWFya2VkanMvbWFya2VkXG4gKi9cblxuLyoqXG4gKiBETyBOT1QgRURJVCBUSElTIEZJTEVcbiAqIFRoZSBjb2RlIGluIHRoaXMgZmlsZSBpcyBnZW5lcmF0ZWQgZnJvbSBmaWxlcyBpbiAuL3NyYy9cbiAqL1xuXG4vKipcbiAqIEdldHMgdGhlIG9yaWdpbmFsIG1hcmtlZCBkZWZhdWx0IG9wdGlvbnMuXG4gKi9cbmZ1bmN0aW9uIF9nZXREZWZhdWx0cygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgIGJyZWFrczogZmFsc2UsXG4gICAgICAgIGV4dGVuc2lvbnM6IG51bGwsXG4gICAgICAgIGdmbTogdHJ1ZSxcbiAgICAgICAgaG9va3M6IG51bGwsXG4gICAgICAgIHBlZGFudGljOiBmYWxzZSxcbiAgICAgICAgcmVuZGVyZXI6IG51bGwsXG4gICAgICAgIHNpbGVudDogZmFsc2UsXG4gICAgICAgIHRva2VuaXplcjogbnVsbCxcbiAgICAgICAgd2Fsa1Rva2VuczogbnVsbFxuICAgIH07XG59XG5sZXQgX2RlZmF1bHRzID0gX2dldERlZmF1bHRzKCk7XG5mdW5jdGlvbiBjaGFuZ2VEZWZhdWx0cyhuZXdEZWZhdWx0cykge1xuICAgIF9kZWZhdWx0cyA9IG5ld0RlZmF1bHRzO1xufVxuXG4vKipcbiAqIEhlbHBlcnNcbiAqL1xuY29uc3QgZXNjYXBlVGVzdCA9IC9bJjw+XCInXS87XG5jb25zdCBlc2NhcGVSZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVUZXN0LnNvdXJjZSwgJ2cnKTtcbmNvbnN0IGVzY2FwZVRlc3ROb0VuY29kZSA9IC9bPD5cIiddfCYoPyEoI1xcZHsxLDd9fCNbWHhdW2EtZkEtRjAtOV17MSw2fXxcXHcrKTspLztcbmNvbnN0IGVzY2FwZVJlcGxhY2VOb0VuY29kZSA9IG5ldyBSZWdFeHAoZXNjYXBlVGVzdE5vRW5jb2RlLnNvdXJjZSwgJ2cnKTtcbmNvbnN0IGVzY2FwZVJlcGxhY2VtZW50cyA9IHtcbiAgICAnJic6ICcmYW1wOycsXG4gICAgJzwnOiAnJmx0OycsXG4gICAgJz4nOiAnJmd0OycsXG4gICAgJ1wiJzogJyZxdW90OycsXG4gICAgXCInXCI6ICcmIzM5Oydcbn07XG5jb25zdCBnZXRFc2NhcGVSZXBsYWNlbWVudCA9IChjaCkgPT4gZXNjYXBlUmVwbGFjZW1lbnRzW2NoXTtcbmZ1bmN0aW9uIGVzY2FwZShodG1sLCBlbmNvZGUpIHtcbiAgICBpZiAoZW5jb2RlKSB7XG4gICAgICAgIGlmIChlc2NhcGVUZXN0LnRlc3QoaHRtbCkpIHtcbiAgICAgICAgICAgIHJldHVybiBodG1sLnJlcGxhY2UoZXNjYXBlUmVwbGFjZSwgZ2V0RXNjYXBlUmVwbGFjZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoZXNjYXBlVGVzdE5vRW5jb2RlLnRlc3QoaHRtbCkpIHtcbiAgICAgICAgICAgIHJldHVybiBodG1sLnJlcGxhY2UoZXNjYXBlUmVwbGFjZU5vRW5jb2RlLCBnZXRFc2NhcGVSZXBsYWNlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGh0bWw7XG59XG5jb25zdCB1bmVzY2FwZVRlc3QgPSAvJigjKD86XFxkKyl8KD86I3hbMC05QS1GYS1mXSspfCg/OlxcdyspKTs/L2lnO1xuZnVuY3Rpb24gdW5lc2NhcGUoaHRtbCkge1xuICAgIC8vIGV4cGxpY2l0bHkgbWF0Y2ggZGVjaW1hbCwgaGV4LCBhbmQgbmFtZWQgSFRNTCBlbnRpdGllc1xuICAgIHJldHVybiBodG1sLnJlcGxhY2UodW5lc2NhcGVUZXN0LCAoXywgbikgPT4ge1xuICAgICAgICBuID0gbi50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAobiA9PT0gJ2NvbG9uJylcbiAgICAgICAgICAgIHJldHVybiAnOic7XG4gICAgICAgIGlmIChuLmNoYXJBdCgwKSA9PT0gJyMnKSB7XG4gICAgICAgICAgICByZXR1cm4gbi5jaGFyQXQoMSkgPT09ICd4J1xuICAgICAgICAgICAgICAgID8gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChuLnN1YnN0cmluZygyKSwgMTYpKVxuICAgICAgICAgICAgICAgIDogU3RyaW5nLmZyb21DaGFyQ29kZSgrbi5zdWJzdHJpbmcoMSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9KTtcbn1cbmNvbnN0IGNhcmV0ID0gLyhefFteXFxbXSlcXF4vZztcbmZ1bmN0aW9uIGVkaXQocmVnZXgsIG9wdCkge1xuICAgIHJlZ2V4ID0gdHlwZW9mIHJlZ2V4ID09PSAnc3RyaW5nJyA/IHJlZ2V4IDogcmVnZXguc291cmNlO1xuICAgIG9wdCA9IG9wdCB8fCAnJztcbiAgICBjb25zdCBvYmogPSB7XG4gICAgICAgIHJlcGxhY2U6IChuYW1lLCB2YWwpID0+IHtcbiAgICAgICAgICAgIHZhbCA9IHR5cGVvZiB2YWwgPT09ICdvYmplY3QnICYmICdzb3VyY2UnIGluIHZhbCA/IHZhbC5zb3VyY2UgOiB2YWw7XG4gICAgICAgICAgICB2YWwgPSB2YWwucmVwbGFjZShjYXJldCwgJyQxJyk7XG4gICAgICAgICAgICByZWdleCA9IHJlZ2V4LnJlcGxhY2UobmFtZSwgdmFsKTtcbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFJlZ2V4OiAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChyZWdleCwgb3B0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIG9iajtcbn1cbmZ1bmN0aW9uIGNsZWFuVXJsKGhyZWYpIHtcbiAgICB0cnkge1xuICAgICAgICBocmVmID0gZW5jb2RlVVJJKGhyZWYpLnJlcGxhY2UoLyUyNS9nLCAnJScpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGhyZWY7XG59XG5jb25zdCBub29wVGVzdCA9IHsgZXhlYzogKCkgPT4gbnVsbCB9O1xuZnVuY3Rpb24gc3BsaXRDZWxscyh0YWJsZVJvdywgY291bnQpIHtcbiAgICAvLyBlbnN1cmUgdGhhdCBldmVyeSBjZWxsLWRlbGltaXRpbmcgcGlwZSBoYXMgYSBzcGFjZVxuICAgIC8vIGJlZm9yZSBpdCB0byBkaXN0aW5ndWlzaCBpdCBmcm9tIGFuIGVzY2FwZWQgcGlwZVxuICAgIGNvbnN0IHJvdyA9IHRhYmxlUm93LnJlcGxhY2UoL1xcfC9nLCAobWF0Y2gsIG9mZnNldCwgc3RyKSA9PiB7XG4gICAgICAgIGxldCBlc2NhcGVkID0gZmFsc2U7XG4gICAgICAgIGxldCBjdXJyID0gb2Zmc2V0O1xuICAgICAgICB3aGlsZSAoLS1jdXJyID49IDAgJiYgc3RyW2N1cnJdID09PSAnXFxcXCcpXG4gICAgICAgICAgICBlc2NhcGVkID0gIWVzY2FwZWQ7XG4gICAgICAgIGlmIChlc2NhcGVkKSB7XG4gICAgICAgICAgICAvLyBvZGQgbnVtYmVyIG9mIHNsYXNoZXMgbWVhbnMgfCBpcyBlc2NhcGVkXG4gICAgICAgICAgICAvLyBzbyB3ZSBsZWF2ZSBpdCBhbG9uZVxuICAgICAgICAgICAgcmV0dXJuICd8JztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGFkZCBzcGFjZSBiZWZvcmUgdW5lc2NhcGVkIHxcbiAgICAgICAgICAgIHJldHVybiAnIHwnO1xuICAgICAgICB9XG4gICAgfSksIGNlbGxzID0gcm93LnNwbGl0KC8gXFx8Lyk7XG4gICAgbGV0IGkgPSAwO1xuICAgIC8vIEZpcnN0L2xhc3QgY2VsbCBpbiBhIHJvdyBjYW5ub3QgYmUgZW1wdHkgaWYgaXQgaGFzIG5vIGxlYWRpbmcvdHJhaWxpbmcgcGlwZVxuICAgIGlmICghY2VsbHNbMF0udHJpbSgpKSB7XG4gICAgICAgIGNlbGxzLnNoaWZ0KCk7XG4gICAgfVxuICAgIGlmIChjZWxscy5sZW5ndGggPiAwICYmICFjZWxsc1tjZWxscy5sZW5ndGggLSAxXS50cmltKCkpIHtcbiAgICAgICAgY2VsbHMucG9wKCk7XG4gICAgfVxuICAgIGlmIChjb3VudCkge1xuICAgICAgICBpZiAoY2VsbHMubGVuZ3RoID4gY291bnQpIHtcbiAgICAgICAgICAgIGNlbGxzLnNwbGljZShjb3VudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB3aGlsZSAoY2VsbHMubGVuZ3RoIDwgY291bnQpXG4gICAgICAgICAgICAgICAgY2VsbHMucHVzaCgnJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yICg7IGkgPCBjZWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBsZWFkaW5nIG9yIHRyYWlsaW5nIHdoaXRlc3BhY2UgaXMgaWdub3JlZCBwZXIgdGhlIGdmbSBzcGVjXG4gICAgICAgIGNlbGxzW2ldID0gY2VsbHNbaV0udHJpbSgpLnJlcGxhY2UoL1xcXFxcXHwvZywgJ3wnKTtcbiAgICB9XG4gICAgcmV0dXJuIGNlbGxzO1xufVxuLyoqXG4gKiBSZW1vdmUgdHJhaWxpbmcgJ2Mncy4gRXF1aXZhbGVudCB0byBzdHIucmVwbGFjZSgvYyokLywgJycpLlxuICogL2MqJC8gaXMgdnVsbmVyYWJsZSB0byBSRURPUy5cbiAqXG4gKiBAcGFyYW0gc3RyXG4gKiBAcGFyYW0gY1xuICogQHBhcmFtIGludmVydCBSZW1vdmUgc3VmZml4IG9mIG5vbi1jIGNoYXJzIGluc3RlYWQuIERlZmF1bHQgZmFsc2V5LlxuICovXG5mdW5jdGlvbiBydHJpbShzdHIsIGMsIGludmVydCkge1xuICAgIGNvbnN0IGwgPSBzdHIubGVuZ3RoO1xuICAgIGlmIChsID09PSAwKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgLy8gTGVuZ3RoIG9mIHN1ZmZpeCBtYXRjaGluZyB0aGUgaW52ZXJ0IGNvbmRpdGlvbi5cbiAgICBsZXQgc3VmZkxlbiA9IDA7XG4gICAgLy8gU3RlcCBsZWZ0IHVudGlsIHdlIGZhaWwgdG8gbWF0Y2ggdGhlIGludmVydCBjb25kaXRpb24uXG4gICAgd2hpbGUgKHN1ZmZMZW4gPCBsKSB7XG4gICAgICAgIGNvbnN0IGN1cnJDaGFyID0gc3RyLmNoYXJBdChsIC0gc3VmZkxlbiAtIDEpO1xuICAgICAgICBpZiAoY3VyckNoYXIgPT09IGMgJiYgIWludmVydCkge1xuICAgICAgICAgICAgc3VmZkxlbisrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGN1cnJDaGFyICE9PSBjICYmIGludmVydCkge1xuICAgICAgICAgICAgc3VmZkxlbisrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0ci5zbGljZSgwLCBsIC0gc3VmZkxlbik7XG59XG5mdW5jdGlvbiBmaW5kQ2xvc2luZ0JyYWNrZXQoc3RyLCBiKSB7XG4gICAgaWYgKHN0ci5pbmRleE9mKGJbMV0pID09PSAtMSkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGxldCBsZXZlbCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHN0cltpXSA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3RyW2ldID09PSBiWzBdKSB7XG4gICAgICAgICAgICBsZXZlbCsrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0cltpXSA9PT0gYlsxXSkge1xuICAgICAgICAgICAgbGV2ZWwtLTtcbiAgICAgICAgICAgIGlmIChsZXZlbCA8IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG5cbmZ1bmN0aW9uIG91dHB1dExpbmsoY2FwLCBsaW5rLCByYXcsIGxleGVyKSB7XG4gICAgY29uc3QgaHJlZiA9IGxpbmsuaHJlZjtcbiAgICBjb25zdCB0aXRsZSA9IGxpbmsudGl0bGUgPyBlc2NhcGUobGluay50aXRsZSkgOiBudWxsO1xuICAgIGNvbnN0IHRleHQgPSBjYXBbMV0ucmVwbGFjZSgvXFxcXChbXFxbXFxdXSkvZywgJyQxJyk7XG4gICAgaWYgKGNhcFswXS5jaGFyQXQoMCkgIT09ICchJykge1xuICAgICAgICBsZXhlci5zdGF0ZS5pbkxpbmsgPSB0cnVlO1xuICAgICAgICBjb25zdCB0b2tlbiA9IHtcbiAgICAgICAgICAgIHR5cGU6ICdsaW5rJyxcbiAgICAgICAgICAgIHJhdyxcbiAgICAgICAgICAgIGhyZWYsXG4gICAgICAgICAgICB0aXRsZSxcbiAgICAgICAgICAgIHRleHQsXG4gICAgICAgICAgICB0b2tlbnM6IGxleGVyLmlubGluZVRva2Vucyh0ZXh0KVxuICAgICAgICB9O1xuICAgICAgICBsZXhlci5zdGF0ZS5pbkxpbmsgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnaW1hZ2UnLFxuICAgICAgICByYXcsXG4gICAgICAgIGhyZWYsXG4gICAgICAgIHRpdGxlLFxuICAgICAgICB0ZXh0OiBlc2NhcGUodGV4dClcbiAgICB9O1xufVxuZnVuY3Rpb24gaW5kZW50Q29kZUNvbXBlbnNhdGlvbihyYXcsIHRleHQpIHtcbiAgICBjb25zdCBtYXRjaEluZGVudFRvQ29kZSA9IHJhdy5tYXRjaCgvXihcXHMrKSg/OmBgYCkvKTtcbiAgICBpZiAobWF0Y2hJbmRlbnRUb0NvZGUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuICAgIGNvbnN0IGluZGVudFRvQ29kZSA9IG1hdGNoSW5kZW50VG9Db2RlWzFdO1xuICAgIHJldHVybiB0ZXh0XG4gICAgICAgIC5zcGxpdCgnXFxuJylcbiAgICAgICAgLm1hcChub2RlID0+IHtcbiAgICAgICAgY29uc3QgbWF0Y2hJbmRlbnRJbk5vZGUgPSBub2RlLm1hdGNoKC9eXFxzKy8pO1xuICAgICAgICBpZiAobWF0Y2hJbmRlbnRJbk5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFtpbmRlbnRJbk5vZGVdID0gbWF0Y2hJbmRlbnRJbk5vZGU7XG4gICAgICAgIGlmIChpbmRlbnRJbk5vZGUubGVuZ3RoID49IGluZGVudFRvQ29kZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlLnNsaWNlKGluZGVudFRvQ29kZS5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH0pXG4gICAgICAgIC5qb2luKCdcXG4nKTtcbn1cbi8qKlxuICogVG9rZW5pemVyXG4gKi9cbmNsYXNzIF9Ub2tlbml6ZXIge1xuICAgIG9wdGlvbnM7XG4gICAgLy8gVE9ETzogRml4IHRoaXMgcnVsZXMgdHlwZVxuICAgIHJ1bGVzO1xuICAgIGxleGVyO1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCBfZGVmYXVsdHM7XG4gICAgfVxuICAgIHNwYWNlKHNyYykge1xuICAgICAgICBjb25zdCBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLm5ld2xpbmUuZXhlYyhzcmMpO1xuICAgICAgICBpZiAoY2FwICYmIGNhcFswXS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdzcGFjZScsXG4gICAgICAgICAgICAgICAgcmF3OiBjYXBbMF1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29kZShzcmMpIHtcbiAgICAgICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5ibG9jay5jb2RlLmV4ZWMoc3JjKTtcbiAgICAgICAgaWYgKGNhcCkge1xuICAgICAgICAgICAgY29uc3QgdGV4dCA9IGNhcFswXS5yZXBsYWNlKC9eIHsxLDR9L2dtLCAnJyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdjb2RlJyxcbiAgICAgICAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICAgICAgICBjb2RlQmxvY2tTdHlsZTogJ2luZGVudGVkJyxcbiAgICAgICAgICAgICAgICB0ZXh0OiAhdGhpcy5vcHRpb25zLnBlZGFudGljXG4gICAgICAgICAgICAgICAgICAgID8gcnRyaW0odGV4dCwgJ1xcbicpXG4gICAgICAgICAgICAgICAgICAgIDogdGV4dFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmZW5jZXMoc3JjKSB7XG4gICAgICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuYmxvY2suZmVuY2VzLmV4ZWMoc3JjKTtcbiAgICAgICAgaWYgKGNhcCkge1xuICAgICAgICAgICAgY29uc3QgcmF3ID0gY2FwWzBdO1xuICAgICAgICAgICAgY29uc3QgdGV4dCA9IGluZGVudENvZGVDb21wZW5zYXRpb24ocmF3LCBjYXBbM10gfHwgJycpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnY29kZScsXG4gICAgICAgICAgICAgICAgcmF3LFxuICAgICAgICAgICAgICAgIGxhbmc6IGNhcFsyXSA/IGNhcFsyXS50cmltKCkucmVwbGFjZSh0aGlzLnJ1bGVzLmlubGluZS5fZXNjYXBlcywgJyQxJykgOiBjYXBbMl0sXG4gICAgICAgICAgICAgICAgdGV4dFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoZWFkaW5nKHNyYykge1xuICAgICAgICBjb25zdCBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLmhlYWRpbmcuZXhlYyhzcmMpO1xuICAgICAgICBpZiAoY2FwKSB7XG4gICAgICAgICAgICBsZXQgdGV4dCA9IGNhcFsyXS50cmltKCk7XG4gICAgICAgICAgICAvLyByZW1vdmUgdHJhaWxpbmcgI3NcbiAgICAgICAgICAgIGlmICgvIyQvLnRlc3QodGV4dCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmltbWVkID0gcnRyaW0odGV4dCwgJyMnKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnBlZGFudGljKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSB0cmltbWVkLnRyaW0oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXRyaW1tZWQgfHwgLyAkLy50ZXN0KHRyaW1tZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENvbW1vbk1hcmsgcmVxdWlyZXMgc3BhY2UgYmVmb3JlIHRyYWlsaW5nICNzXG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSB0cmltbWVkLnRyaW0oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdoZWFkaW5nJyxcbiAgICAgICAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICAgICAgICBkZXB0aDogY2FwWzFdLmxlbmd0aCxcbiAgICAgICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgICAgIHRva2VuczogdGhpcy5sZXhlci5pbmxpbmUodGV4dClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgaHIoc3JjKSB7XG4gICAgICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuYmxvY2suaHIuZXhlYyhzcmMpO1xuICAgICAgICBpZiAoY2FwKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdocicsXG4gICAgICAgICAgICAgICAgcmF3OiBjYXBbMF1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgYmxvY2txdW90ZShzcmMpIHtcbiAgICAgICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5ibG9jay5ibG9ja3F1b3RlLmV4ZWMoc3JjKTtcbiAgICAgICAgaWYgKGNhcCkge1xuICAgICAgICAgICAgY29uc3QgdGV4dCA9IGNhcFswXS5yZXBsYWNlKC9eICo+WyBcXHRdPy9nbSwgJycpO1xuICAgICAgICAgICAgY29uc3QgdG9wID0gdGhpcy5sZXhlci5zdGF0ZS50b3A7XG4gICAgICAgICAgICB0aGlzLmxleGVyLnN0YXRlLnRvcCA9IHRydWU7XG4gICAgICAgICAgICBjb25zdCB0b2tlbnMgPSB0aGlzLmxleGVyLmJsb2NrVG9rZW5zKHRleHQpO1xuICAgICAgICAgICAgdGhpcy5sZXhlci5zdGF0ZS50b3AgPSB0b3A7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdibG9ja3F1b3RlJyxcbiAgICAgICAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICAgICAgICB0b2tlbnMsXG4gICAgICAgICAgICAgICAgdGV4dFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsaXN0KHNyYykge1xuICAgICAgICBsZXQgY2FwID0gdGhpcy5ydWxlcy5ibG9jay5saXN0LmV4ZWMoc3JjKTtcbiAgICAgICAgaWYgKGNhcCkge1xuICAgICAgICAgICAgbGV0IGJ1bGwgPSBjYXBbMV0udHJpbSgpO1xuICAgICAgICAgICAgY29uc3QgaXNvcmRlcmVkID0gYnVsbC5sZW5ndGggPiAxO1xuICAgICAgICAgICAgY29uc3QgbGlzdCA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnbGlzdCcsXG4gICAgICAgICAgICAgICAgcmF3OiAnJyxcbiAgICAgICAgICAgICAgICBvcmRlcmVkOiBpc29yZGVyZWQsXG4gICAgICAgICAgICAgICAgc3RhcnQ6IGlzb3JkZXJlZCA/ICtidWxsLnNsaWNlKDAsIC0xKSA6ICcnLFxuICAgICAgICAgICAgICAgIGxvb3NlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpdGVtczogW11cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBidWxsID0gaXNvcmRlcmVkID8gYFxcXFxkezEsOX1cXFxcJHtidWxsLnNsaWNlKC0xKX1gIDogYFxcXFwke2J1bGx9YDtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucGVkYW50aWMpIHtcbiAgICAgICAgICAgICAgICBidWxsID0gaXNvcmRlcmVkID8gYnVsbCA6ICdbKistXSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBHZXQgbmV4dCBsaXN0IGl0ZW1cbiAgICAgICAgICAgIGNvbnN0IGl0ZW1SZWdleCA9IG5ldyBSZWdFeHAoYF4oIHswLDN9JHtidWxsfSkoKD86W1xcdCBdW15cXFxcbl0qKT8oPzpcXFxcbnwkKSlgKTtcbiAgICAgICAgICAgIGxldCByYXcgPSAnJztcbiAgICAgICAgICAgIGxldCBpdGVtQ29udGVudHMgPSAnJztcbiAgICAgICAgICAgIGxldCBlbmRzV2l0aEJsYW5rTGluZSA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgY3VycmVudCBidWxsZXQgcG9pbnQgY2FuIHN0YXJ0IGEgbmV3IExpc3QgSXRlbVxuICAgICAgICAgICAgd2hpbGUgKHNyYykge1xuICAgICAgICAgICAgICAgIGxldCBlbmRFYXJseSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmICghKGNhcCA9IGl0ZW1SZWdleC5leGVjKHNyYykpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ydWxlcy5ibG9jay5oci50ZXN0KHNyYykpIHsgLy8gRW5kIGxpc3QgaWYgYnVsbGV0IHdhcyBhY3R1YWxseSBIUiAocG9zc2libHkgbW92ZSBpbnRvIGl0ZW1SZWdleD8pXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByYXcgPSBjYXBbMF07XG4gICAgICAgICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhyYXcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBsZXQgbGluZSA9IGNhcFsyXS5zcGxpdCgnXFxuJywgMSlbMF0ucmVwbGFjZSgvXlxcdCsvLCAodCkgPT4gJyAnLnJlcGVhdCgzICogdC5sZW5ndGgpKTtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dExpbmUgPSBzcmMuc3BsaXQoJ1xcbicsIDEpWzBdO1xuICAgICAgICAgICAgICAgIGxldCBpbmRlbnQgPSAwO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucGVkYW50aWMpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZW50ID0gMjtcbiAgICAgICAgICAgICAgICAgICAgaXRlbUNvbnRlbnRzID0gbGluZS50cmltU3RhcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGVudCA9IGNhcFsyXS5zZWFyY2goL1teIF0vKTsgLy8gRmluZCBmaXJzdCBub24tc3BhY2UgY2hhclxuICAgICAgICAgICAgICAgICAgICBpbmRlbnQgPSBpbmRlbnQgPiA0ID8gMSA6IGluZGVudDsgLy8gVHJlYXQgaW5kZW50ZWQgY29kZSBibG9ja3MgKD4gNCBzcGFjZXMpIGFzIGhhdmluZyBvbmx5IDEgaW5kZW50XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1Db250ZW50cyA9IGxpbmUuc2xpY2UoaW5kZW50KTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZW50ICs9IGNhcFsxXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBibGFua0xpbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoIWxpbmUgJiYgL14gKiQvLnRlc3QobmV4dExpbmUpKSB7IC8vIEl0ZW1zIGJlZ2luIHdpdGggYXQgbW9zdCBvbmUgYmxhbmsgbGluZVxuICAgICAgICAgICAgICAgICAgICByYXcgKz0gbmV4dExpbmUgKyAnXFxuJztcbiAgICAgICAgICAgICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhuZXh0TGluZS5sZW5ndGggKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgZW5kRWFybHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWVuZEVhcmx5KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRCdWxsZXRSZWdleCA9IG5ldyBSZWdFeHAoYF4gezAsJHtNYXRoLm1pbigzLCBpbmRlbnQgLSAxKX19KD86WyorLV18XFxcXGR7MSw5fVsuKV0pKCg/OlsgXFx0XVteXFxcXG5dKik/KD86XFxcXG58JCkpYCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhyUmVnZXggPSBuZXcgUmVnRXhwKGBeIHswLCR7TWF0aC5taW4oMywgaW5kZW50IC0gMSl9fSgoPzotICopezMsfXwoPzpfICopezMsfXwoPzpcXFxcKiAqKXszLH0pKD86XFxcXG4rfCQpYCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZlbmNlc0JlZ2luUmVnZXggPSBuZXcgUmVnRXhwKGBeIHswLCR7TWF0aC5taW4oMywgaW5kZW50IC0gMSl9fSg/OlxcYFxcYFxcYHx+fn4pYCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRpbmdCZWdpblJlZ2V4ID0gbmV3IFJlZ0V4cChgXiB7MCwke01hdGgubWluKDMsIGluZGVudCAtIDEpfX0jYCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGZvbGxvd2luZyBsaW5lcyBzaG91bGQgYmUgaW5jbHVkZWQgaW4gTGlzdCBJdGVtXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChzcmMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd0xpbmUgPSBzcmMuc3BsaXQoJ1xcbicsIDEpWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dExpbmUgPSByYXdMaW5lO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmUtYWxpZ24gdG8gZm9sbG93IGNvbW1vbm1hcmsgbmVzdGluZyBydWxlc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wZWRhbnRpYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRMaW5lID0gbmV4dExpbmUucmVwbGFjZSgvXiB7MSw0fSg/PSggezR9KSpbXiBdKS9nLCAnICAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVuZCBsaXN0IGl0ZW0gaWYgZm91bmQgY29kZSBmZW5jZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmZW5jZXNCZWdpblJlZ2V4LnRlc3QobmV4dExpbmUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFbmQgbGlzdCBpdGVtIGlmIGZvdW5kIHN0YXJ0IG9mIG5ldyBoZWFkaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGVhZGluZ0JlZ2luUmVnZXgudGVzdChuZXh0TGluZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVuZCBsaXN0IGl0ZW0gaWYgZm91bmQgc3RhcnQgb2YgbmV3IGJ1bGxldFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRCdWxsZXRSZWdleC50ZXN0KG5leHRMaW5lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSG9yaXpvbnRhbCBydWxlIGZvdW5kXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaHJSZWdleC50ZXN0KHNyYykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0TGluZS5zZWFyY2goL1teIF0vKSA+PSBpbmRlbnQgfHwgIW5leHRMaW5lLnRyaW0oKSkgeyAvLyBEZWRlbnQgaWYgcG9zc2libGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtQ29udGVudHMgKz0gJ1xcbicgKyBuZXh0TGluZS5zbGljZShpbmRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm90IGVub3VnaCBpbmRlbnRhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChibGFua0xpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBhcmFncmFwaCBjb250aW51YXRpb24gdW5sZXNzIGxhc3QgbGluZSB3YXMgYSBkaWZmZXJlbnQgYmxvY2sgbGV2ZWwgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW5lLnNlYXJjaCgvW14gXS8pID49IDQpIHsgLy8gaW5kZW50ZWQgY29kZSBibG9ja1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZlbmNlc0JlZ2luUmVnZXgudGVzdChsaW5lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhlYWRpbmdCZWdpblJlZ2V4LnRlc3QobGluZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoclJlZ2V4LnRlc3QobGluZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1Db250ZW50cyArPSAnXFxuJyArIG5leHRMaW5lO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFibGFua0xpbmUgJiYgIW5leHRMaW5lLnRyaW0oKSkgeyAvLyBDaGVjayBpZiBjdXJyZW50IGxpbmUgaXMgYmxhbmtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFua0xpbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmF3ICs9IHJhd0xpbmUgKyAnXFxuJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcocmF3TGluZS5sZW5ndGggKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgPSBuZXh0TGluZS5zbGljZShpbmRlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghbGlzdC5sb29zZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcHJldmlvdXMgaXRlbSBlbmRlZCB3aXRoIGEgYmxhbmsgbGluZSwgdGhlIGxpc3QgaXMgbG9vc2VcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVuZHNXaXRoQmxhbmtMaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0Lmxvb3NlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgvXFxuICpcXG4gKiQvLnRlc3QocmF3KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5kc1dpdGhCbGFua0xpbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBpc3Rhc2sgPSBudWxsO1xuICAgICAgICAgICAgICAgIGxldCBpc2NoZWNrZWQ7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHRhc2sgbGlzdCBpdGVtc1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZ2ZtKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzdGFzayA9IC9eXFxbWyB4WF1cXF0gLy5leGVjKGl0ZW1Db250ZW50cyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc3Rhc2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzY2hlY2tlZCA9IGlzdGFza1swXSAhPT0gJ1sgXSAnO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbUNvbnRlbnRzID0gaXRlbUNvbnRlbnRzLnJlcGxhY2UoL15cXFtbIHhYXVxcXSArLywgJycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxpc3QuaXRlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdsaXN0X2l0ZW0nLFxuICAgICAgICAgICAgICAgICAgICByYXcsXG4gICAgICAgICAgICAgICAgICAgIHRhc2s6ICEhaXN0YXNrLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkOiBpc2NoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgIGxvb3NlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogaXRlbUNvbnRlbnRzLFxuICAgICAgICAgICAgICAgICAgICB0b2tlbnM6IFtdXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbGlzdC5yYXcgKz0gcmF3O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRG8gbm90IGNvbnN1bWUgbmV3bGluZXMgYXQgZW5kIG9mIGZpbmFsIGl0ZW0uIEFsdGVybmF0aXZlbHksIG1ha2UgaXRlbVJlZ2V4ICpzdGFydCogd2l0aCBhbnkgbmV3bGluZXMgdG8gc2ltcGxpZnkvc3BlZWQgdXAgZW5kc1dpdGhCbGFua0xpbmUgbG9naWNcbiAgICAgICAgICAgIGxpc3QuaXRlbXNbbGlzdC5pdGVtcy5sZW5ndGggLSAxXS5yYXcgPSByYXcudHJpbUVuZCgpO1xuICAgICAgICAgICAgbGlzdC5pdGVtc1tsaXN0Lml0ZW1zLmxlbmd0aCAtIDFdLnRleHQgPSBpdGVtQ29udGVudHMudHJpbUVuZCgpO1xuICAgICAgICAgICAgbGlzdC5yYXcgPSBsaXN0LnJhdy50cmltRW5kKCk7XG4gICAgICAgICAgICAvLyBJdGVtIGNoaWxkIHRva2VucyBoYW5kbGVkIGhlcmUgYXQgZW5kIGJlY2F1c2Ugd2UgbmVlZGVkIHRvIGhhdmUgdGhlIGZpbmFsIGl0ZW0gdG8gdHJpbSBpdCBmaXJzdFxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sZXhlci5zdGF0ZS50b3AgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBsaXN0Lml0ZW1zW2ldLnRva2VucyA9IHRoaXMubGV4ZXIuYmxvY2tUb2tlbnMobGlzdC5pdGVtc1tpXS50ZXh0LCBbXSk7XG4gICAgICAgICAgICAgICAgaWYgKCFsaXN0Lmxvb3NlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGxpc3Qgc2hvdWxkIGJlIGxvb3NlXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwYWNlcnMgPSBsaXN0Lml0ZW1zW2ldLnRva2Vucy5maWx0ZXIodCA9PiB0LnR5cGUgPT09ICdzcGFjZScpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoYXNNdWx0aXBsZUxpbmVCcmVha3MgPSBzcGFjZXJzLmxlbmd0aCA+IDAgJiYgc3BhY2Vycy5zb21lKHQgPT4gL1xcbi4qXFxuLy50ZXN0KHQucmF3KSk7XG4gICAgICAgICAgICAgICAgICAgIGxpc3QubG9vc2UgPSBoYXNNdWx0aXBsZUxpbmVCcmVha3M7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2V0IGFsbCBpdGVtcyB0byBsb29zZSBpZiBsaXN0IGlzIGxvb3NlXG4gICAgICAgICAgICBpZiAobGlzdC5sb29zZSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBsaXN0Lml0ZW1zW2ldLmxvb3NlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbGlzdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBodG1sKHNyYykge1xuICAgICAgICBjb25zdCBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLmh0bWwuZXhlYyhzcmMpO1xuICAgICAgICBpZiAoY2FwKSB7XG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnaHRtbCcsXG4gICAgICAgICAgICAgICAgYmxvY2s6IHRydWUsXG4gICAgICAgICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgICAgICAgcHJlOiBjYXBbMV0gPT09ICdwcmUnIHx8IGNhcFsxXSA9PT0gJ3NjcmlwdCcgfHwgY2FwWzFdID09PSAnc3R5bGUnLFxuICAgICAgICAgICAgICAgIHRleHQ6IGNhcFswXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZWYoc3JjKSB7XG4gICAgICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuYmxvY2suZGVmLmV4ZWMoc3JjKTtcbiAgICAgICAgaWYgKGNhcCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gY2FwWzFdLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzKy9nLCAnICcpO1xuICAgICAgICAgICAgY29uc3QgaHJlZiA9IGNhcFsyXSA/IGNhcFsyXS5yZXBsYWNlKC9ePCguKik+JC8sICckMScpLnJlcGxhY2UodGhpcy5ydWxlcy5pbmxpbmUuX2VzY2FwZXMsICckMScpIDogJyc7XG4gICAgICAgICAgICBjb25zdCB0aXRsZSA9IGNhcFszXSA/IGNhcFszXS5zdWJzdHJpbmcoMSwgY2FwWzNdLmxlbmd0aCAtIDEpLnJlcGxhY2UodGhpcy5ydWxlcy5pbmxpbmUuX2VzY2FwZXMsICckMScpIDogY2FwWzNdO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZGVmJyxcbiAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgICAgICAgaHJlZixcbiAgICAgICAgICAgICAgICB0aXRsZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0YWJsZShzcmMpIHtcbiAgICAgICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5ibG9jay50YWJsZS5leGVjKHNyYyk7XG4gICAgICAgIGlmIChjYXApIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3RhYmxlJyxcbiAgICAgICAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICAgICAgICBoZWFkZXI6IHNwbGl0Q2VsbHMoY2FwWzFdKS5tYXAoYyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHRleHQ6IGMsIHRva2VuczogW10gfTtcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBhbGlnbjogY2FwWzJdLnJlcGxhY2UoL14gKnxcXHwgKiQvZywgJycpLnNwbGl0KC8gKlxcfCAqLyksXG4gICAgICAgICAgICAgICAgcm93czogY2FwWzNdICYmIGNhcFszXS50cmltKCkgPyBjYXBbM10ucmVwbGFjZSgvXFxuWyBcXHRdKiQvLCAnJykuc3BsaXQoJ1xcbicpIDogW11cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoaXRlbS5oZWFkZXIubGVuZ3RoID09PSBpdGVtLmFsaWduLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGxldCBsID0gaXRlbS5hbGlnbi5sZW5ndGg7XG4gICAgICAgICAgICAgICAgbGV0IGksIGosIGssIHJvdztcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsaWduID0gaXRlbS5hbGlnbltpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFsaWduKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoL14gKi0rOiAqJC8udGVzdChhbGlnbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ3JpZ2h0JztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKC9eICo6LSs6ICokLy50ZXN0KGFsaWduKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSAnY2VudGVyJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKC9eICo6LSsgKiQvLnRlc3QoYWxpZ24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdsZWZ0JztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGwgPSBpdGVtLnJvd3MubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5yb3dzW2ldID0gc3BsaXRDZWxscyhpdGVtLnJvd3NbaV0sIGl0ZW0uaGVhZGVyLmxlbmd0aCkubWFwKGMgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdGV4dDogYywgdG9rZW5zOiBbXSB9O1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gcGFyc2UgY2hpbGQgdG9rZW5zIGluc2lkZSBoZWFkZXJzIGFuZCBjZWxsc1xuICAgICAgICAgICAgICAgIC8vIGhlYWRlciBjaGlsZCB0b2tlbnNcbiAgICAgICAgICAgICAgICBsID0gaXRlbS5oZWFkZXIubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBsOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5oZWFkZXJbal0udG9rZW5zID0gdGhpcy5sZXhlci5pbmxpbmUoaXRlbS5oZWFkZXJbal0udGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGNlbGwgY2hpbGQgdG9rZW5zXG4gICAgICAgICAgICAgICAgbCA9IGl0ZW0ucm93cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGw7IGorKykge1xuICAgICAgICAgICAgICAgICAgICByb3cgPSBpdGVtLnJvd3Nbal07XG4gICAgICAgICAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCByb3cubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd1trXS50b2tlbnMgPSB0aGlzLmxleGVyLmlubGluZShyb3dba10udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGhlYWRpbmcoc3JjKSB7XG4gICAgICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuYmxvY2subGhlYWRpbmcuZXhlYyhzcmMpO1xuICAgICAgICBpZiAoY2FwKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdoZWFkaW5nJyxcbiAgICAgICAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICAgICAgICBkZXB0aDogY2FwWzJdLmNoYXJBdCgwKSA9PT0gJz0nID8gMSA6IDIsXG4gICAgICAgICAgICAgICAgdGV4dDogY2FwWzFdLFxuICAgICAgICAgICAgICAgIHRva2VuczogdGhpcy5sZXhlci5pbmxpbmUoY2FwWzFdKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwYXJhZ3JhcGgoc3JjKSB7XG4gICAgICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuYmxvY2sucGFyYWdyYXBoLmV4ZWMoc3JjKTtcbiAgICAgICAgaWYgKGNhcCkge1xuICAgICAgICAgICAgY29uc3QgdGV4dCA9IGNhcFsxXS5jaGFyQXQoY2FwWzFdLmxlbmd0aCAtIDEpID09PSAnXFxuJ1xuICAgICAgICAgICAgICAgID8gY2FwWzFdLnNsaWNlKDAsIC0xKVxuICAgICAgICAgICAgICAgIDogY2FwWzFdO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAncGFyYWdyYXBoJyxcbiAgICAgICAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgICAgIHRva2VuczogdGhpcy5sZXhlci5pbmxpbmUodGV4dClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGV4dChzcmMpIHtcbiAgICAgICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5ibG9jay50ZXh0LmV4ZWMoc3JjKTtcbiAgICAgICAgaWYgKGNhcCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgICAgICAgdGV4dDogY2FwWzBdLFxuICAgICAgICAgICAgICAgIHRva2VuczogdGhpcy5sZXhlci5pbmxpbmUoY2FwWzBdKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlc2NhcGUoc3JjKSB7XG4gICAgICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuaW5saW5lLmVzY2FwZS5leGVjKHNyYyk7XG4gICAgICAgIGlmIChjYXApIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2VzY2FwZScsXG4gICAgICAgICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgICAgICAgdGV4dDogZXNjYXBlKGNhcFsxXSlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGFnKHNyYykge1xuICAgICAgICBjb25zdCBjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS50YWcuZXhlYyhzcmMpO1xuICAgICAgICBpZiAoY2FwKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMubGV4ZXIuc3RhdGUuaW5MaW5rICYmIC9ePGEgL2kudGVzdChjYXBbMF0pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sZXhlci5zdGF0ZS5pbkxpbmsgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5sZXhlci5zdGF0ZS5pbkxpbmsgJiYgL148XFwvYT4vaS50ZXN0KGNhcFswXSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxleGVyLnN0YXRlLmluTGluayA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmxleGVyLnN0YXRlLmluUmF3QmxvY2sgJiYgL148KHByZXxjb2RlfGtiZHxzY3JpcHQpKFxcc3w+KS9pLnRlc3QoY2FwWzBdKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubGV4ZXIuc3RhdGUuaW5SYXdCbG9jayA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmxleGVyLnN0YXRlLmluUmF3QmxvY2sgJiYgL148XFwvKHByZXxjb2RlfGtiZHxzY3JpcHQpKFxcc3w+KS9pLnRlc3QoY2FwWzBdKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubGV4ZXIuc3RhdGUuaW5SYXdCbG9jayA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnaHRtbCcsXG4gICAgICAgICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgICAgICAgaW5MaW5rOiB0aGlzLmxleGVyLnN0YXRlLmluTGluayxcbiAgICAgICAgICAgICAgICBpblJhd0Jsb2NrOiB0aGlzLmxleGVyLnN0YXRlLmluUmF3QmxvY2ssXG4gICAgICAgICAgICAgICAgYmxvY2s6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRleHQ6IGNhcFswXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsaW5rKHNyYykge1xuICAgICAgICBjb25zdCBjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS5saW5rLmV4ZWMoc3JjKTtcbiAgICAgICAgaWYgKGNhcCkge1xuICAgICAgICAgICAgY29uc3QgdHJpbW1lZFVybCA9IGNhcFsyXS50cmltKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5wZWRhbnRpYyAmJiAvXjwvLnRlc3QodHJpbW1lZFVybCkpIHtcbiAgICAgICAgICAgICAgICAvLyBjb21tb25tYXJrIHJlcXVpcmVzIG1hdGNoaW5nIGFuZ2xlIGJyYWNrZXRzXG4gICAgICAgICAgICAgICAgaWYgKCEoLz4kLy50ZXN0KHRyaW1tZWRVcmwpKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGVuZGluZyBhbmdsZSBicmFja2V0IGNhbm5vdCBiZSBlc2NhcGVkXG4gICAgICAgICAgICAgICAgY29uc3QgcnRyaW1TbGFzaCA9IHJ0cmltKHRyaW1tZWRVcmwuc2xpY2UoMCwgLTEpLCAnXFxcXCcpO1xuICAgICAgICAgICAgICAgIGlmICgodHJpbW1lZFVybC5sZW5ndGggLSBydHJpbVNsYXNoLmxlbmd0aCkgJSAyID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBmaW5kIGNsb3NpbmcgcGFyZW50aGVzaXNcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0UGFyZW5JbmRleCA9IGZpbmRDbG9zaW5nQnJhY2tldChjYXBbMl0sICcoKScpO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0UGFyZW5JbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gY2FwWzBdLmluZGV4T2YoJyEnKSA9PT0gMCA/IDUgOiA0O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5rTGVuID0gc3RhcnQgKyBjYXBbMV0ubGVuZ3RoICsgbGFzdFBhcmVuSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIGNhcFsyXSA9IGNhcFsyXS5zdWJzdHJpbmcoMCwgbGFzdFBhcmVuSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBjYXBbMF0gPSBjYXBbMF0uc3Vic3RyaW5nKDAsIGxpbmtMZW4pLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgY2FwWzNdID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGhyZWYgPSBjYXBbMl07XG4gICAgICAgICAgICBsZXQgdGl0bGUgPSAnJztcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucGVkYW50aWMpIHtcbiAgICAgICAgICAgICAgICAvLyBzcGxpdCBwZWRhbnRpYyBocmVmIGFuZCB0aXRsZVxuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmsgPSAvXihbXidcIl0qW15cXHNdKVxccysoWydcIl0pKC4qKVxcMi8uZXhlYyhocmVmKTtcbiAgICAgICAgICAgICAgICBpZiAobGluaykge1xuICAgICAgICAgICAgICAgICAgICBocmVmID0gbGlua1sxXTtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSBsaW5rWzNdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRpdGxlID0gY2FwWzNdID8gY2FwWzNdLnNsaWNlKDEsIC0xKSA6ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaHJlZiA9IGhyZWYudHJpbSgpO1xuICAgICAgICAgICAgaWYgKC9ePC8udGVzdChocmVmKSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucGVkYW50aWMgJiYgISgvPiQvLnRlc3QodHJpbW1lZFVybCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHBlZGFudGljIGFsbG93cyBzdGFydGluZyBhbmdsZSBicmFja2V0IHdpdGhvdXQgZW5kaW5nIGFuZ2xlIGJyYWNrZXRcbiAgICAgICAgICAgICAgICAgICAgaHJlZiA9IGhyZWYuc2xpY2UoMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBocmVmID0gaHJlZi5zbGljZSgxLCAtMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dExpbmsoY2FwLCB7XG4gICAgICAgICAgICAgICAgaHJlZjogaHJlZiA/IGhyZWYucmVwbGFjZSh0aGlzLnJ1bGVzLmlubGluZS5fZXNjYXBlcywgJyQxJykgOiBocmVmLFxuICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSA/IHRpdGxlLnJlcGxhY2UodGhpcy5ydWxlcy5pbmxpbmUuX2VzY2FwZXMsICckMScpIDogdGl0bGVcbiAgICAgICAgICAgIH0sIGNhcFswXSwgdGhpcy5sZXhlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVmbGluayhzcmMsIGxpbmtzKSB7XG4gICAgICAgIGxldCBjYXA7XG4gICAgICAgIGlmICgoY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUucmVmbGluay5leGVjKHNyYykpXG4gICAgICAgICAgICB8fCAoY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUubm9saW5rLmV4ZWMoc3JjKSkpIHtcbiAgICAgICAgICAgIGxldCBsaW5rID0gKGNhcFsyXSB8fCBjYXBbMV0pLnJlcGxhY2UoL1xccysvZywgJyAnKTtcbiAgICAgICAgICAgIGxpbmsgPSBsaW5rc1tsaW5rLnRvTG93ZXJDYXNlKCldO1xuICAgICAgICAgICAgaWYgKCFsaW5rKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGNhcFswXS5jaGFyQXQoMCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgICAgICByYXc6IHRleHQsXG4gICAgICAgICAgICAgICAgICAgIHRleHRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dExpbmsoY2FwLCBsaW5rLCBjYXBbMF0sIHRoaXMubGV4ZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVtU3Ryb25nKHNyYywgbWFza2VkU3JjLCBwcmV2Q2hhciA9ICcnKSB7XG4gICAgICAgIGxldCBtYXRjaCA9IHRoaXMucnVsZXMuaW5saW5lLmVtU3Ryb25nLmxEZWxpbS5leGVjKHNyYyk7XG4gICAgICAgIGlmICghbWF0Y2gpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIC8vIF8gY2FuJ3QgYmUgYmV0d2VlbiB0d28gYWxwaGFudW1lcmljcy4gXFxwe0x9XFxwe059IGluY2x1ZGVzIG5vbi1lbmdsaXNoIGFscGhhYmV0L251bWJlcnMgYXMgd2VsbFxuICAgICAgICBpZiAobWF0Y2hbM10gJiYgcHJldkNoYXIubWF0Y2goL1tcXHB7TH1cXHB7Tn1dL3UpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBuZXh0Q2hhciA9IG1hdGNoWzFdIHx8IG1hdGNoWzJdIHx8ICcnO1xuICAgICAgICBpZiAoIW5leHRDaGFyIHx8ICFwcmV2Q2hhciB8fCB0aGlzLnJ1bGVzLmlubGluZS5wdW5jdHVhdGlvbi5leGVjKHByZXZDaGFyKSkge1xuICAgICAgICAgICAgLy8gdW5pY29kZSBSZWdleCBjb3VudHMgZW1vamkgYXMgMSBjaGFyOyBzcHJlYWQgaW50byBhcnJheSBmb3IgcHJvcGVyIGNvdW50ICh1c2VkIG11bHRpcGxlIHRpbWVzIGJlbG93KVxuICAgICAgICAgICAgY29uc3QgbExlbmd0aCA9IFsuLi5tYXRjaFswXV0ubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGxldCByRGVsaW0sIHJMZW5ndGgsIGRlbGltVG90YWwgPSBsTGVuZ3RoLCBtaWREZWxpbVRvdGFsID0gMDtcbiAgICAgICAgICAgIGNvbnN0IGVuZFJlZyA9IG1hdGNoWzBdWzBdID09PSAnKicgPyB0aGlzLnJ1bGVzLmlubGluZS5lbVN0cm9uZy5yRGVsaW1Bc3QgOiB0aGlzLnJ1bGVzLmlubGluZS5lbVN0cm9uZy5yRGVsaW1VbmQ7XG4gICAgICAgICAgICBlbmRSZWcubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgIC8vIENsaXAgbWFza2VkU3JjIHRvIHNhbWUgc2VjdGlvbiBvZiBzdHJpbmcgYXMgc3JjIChtb3ZlIHRvIGxleGVyPylcbiAgICAgICAgICAgIG1hc2tlZFNyYyA9IG1hc2tlZFNyYy5zbGljZSgtMSAqIHNyYy5sZW5ndGggKyBsTGVuZ3RoKTtcbiAgICAgICAgICAgIHdoaWxlICgobWF0Y2ggPSBlbmRSZWcuZXhlYyhtYXNrZWRTcmMpKSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgckRlbGltID0gbWF0Y2hbMV0gfHwgbWF0Y2hbMl0gfHwgbWF0Y2hbM10gfHwgbWF0Y2hbNF0gfHwgbWF0Y2hbNV0gfHwgbWF0Y2hbNl07XG4gICAgICAgICAgICAgICAgaWYgKCFyRGVsaW0pXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBza2lwIHNpbmdsZSAqIGluIF9fYWJjKmFiY19fXG4gICAgICAgICAgICAgICAgckxlbmd0aCA9IFsuLi5yRGVsaW1dLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hbM10gfHwgbWF0Y2hbNF0pIHsgLy8gZm91bmQgYW5vdGhlciBMZWZ0IERlbGltXG4gICAgICAgICAgICAgICAgICAgIGRlbGltVG90YWwgKz0gckxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1hdGNoWzVdIHx8IG1hdGNoWzZdKSB7IC8vIGVpdGhlciBMZWZ0IG9yIFJpZ2h0IERlbGltXG4gICAgICAgICAgICAgICAgICAgIGlmIChsTGVuZ3RoICUgMyAmJiAhKChsTGVuZ3RoICsgckxlbmd0aCkgJSAzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWlkRGVsaW1Ub3RhbCArPSByTGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7IC8vIENvbW1vbk1hcmsgRW1waGFzaXMgUnVsZXMgOS0xMFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlbGltVG90YWwgLT0gckxlbmd0aDtcbiAgICAgICAgICAgICAgICBpZiAoZGVsaW1Ub3RhbCA+IDApXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBIYXZlbid0IGZvdW5kIGVub3VnaCBjbG9zaW5nIGRlbGltaXRlcnNcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZXh0cmEgY2hhcmFjdGVycy4gKmEqKiogLT4gKmEqXG4gICAgICAgICAgICAgICAgckxlbmd0aCA9IE1hdGgubWluKHJMZW5ndGgsIHJMZW5ndGggKyBkZWxpbVRvdGFsICsgbWlkRGVsaW1Ub3RhbCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmF3ID0gWy4uLnNyY10uc2xpY2UoMCwgbExlbmd0aCArIG1hdGNoLmluZGV4ICsgckxlbmd0aCArIDEpLmpvaW4oJycpO1xuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBgZW1gIGlmIHNtYWxsZXN0IGRlbGltaXRlciBoYXMgb2RkIGNoYXIgY291bnQuICphKioqXG4gICAgICAgICAgICAgICAgaWYgKE1hdGgubWluKGxMZW5ndGgsIHJMZW5ndGgpICUgMikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gcmF3LnNsaWNlKDEsIC0xKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlbScsXG4gICAgICAgICAgICAgICAgICAgICAgICByYXcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zOiB0aGlzLmxleGVyLmlubGluZVRva2Vucyh0ZXh0KVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgJ3N0cm9uZycgaWYgc21hbGxlc3QgZGVsaW1pdGVyIGhhcyBldmVuIGNoYXIgY291bnQuICoqYSoqKlxuICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSByYXcuc2xpY2UoMiwgLTIpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdHJvbmcnLFxuICAgICAgICAgICAgICAgICAgICByYXcsXG4gICAgICAgICAgICAgICAgICAgIHRleHQsXG4gICAgICAgICAgICAgICAgICAgIHRva2VuczogdGhpcy5sZXhlci5pbmxpbmVUb2tlbnModGV4dClcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvZGVzcGFuKHNyYykge1xuICAgICAgICBjb25zdCBjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS5jb2RlLmV4ZWMoc3JjKTtcbiAgICAgICAgaWYgKGNhcCkge1xuICAgICAgICAgICAgbGV0IHRleHQgPSBjYXBbMl0ucmVwbGFjZSgvXFxuL2csICcgJyk7XG4gICAgICAgICAgICBjb25zdCBoYXNOb25TcGFjZUNoYXJzID0gL1teIF0vLnRlc3QodGV4dCk7XG4gICAgICAgICAgICBjb25zdCBoYXNTcGFjZUNoYXJzT25Cb3RoRW5kcyA9IC9eIC8udGVzdCh0ZXh0KSAmJiAvICQvLnRlc3QodGV4dCk7XG4gICAgICAgICAgICBpZiAoaGFzTm9uU3BhY2VDaGFycyAmJiBoYXNTcGFjZUNoYXJzT25Cb3RoRW5kcykge1xuICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZygxLCB0ZXh0Lmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGV4dCA9IGVzY2FwZSh0ZXh0LCB0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2NvZGVzcGFuJyxcbiAgICAgICAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICAgICAgICB0ZXh0XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGJyKHNyYykge1xuICAgICAgICBjb25zdCBjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS5ici5leGVjKHNyYyk7XG4gICAgICAgIGlmIChjYXApIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2JyJyxcbiAgICAgICAgICAgICAgICByYXc6IGNhcFswXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZWwoc3JjKSB7XG4gICAgICAgIGNvbnN0IGNhcCA9IHRoaXMucnVsZXMuaW5saW5lLmRlbC5leGVjKHNyYyk7XG4gICAgICAgIGlmIChjYXApIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2RlbCcsXG4gICAgICAgICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgICAgICAgdGV4dDogY2FwWzJdLFxuICAgICAgICAgICAgICAgIHRva2VuczogdGhpcy5sZXhlci5pbmxpbmVUb2tlbnMoY2FwWzJdKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhdXRvbGluayhzcmMpIHtcbiAgICAgICAgY29uc3QgY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUuYXV0b2xpbmsuZXhlYyhzcmMpO1xuICAgICAgICBpZiAoY2FwKSB7XG4gICAgICAgICAgICBsZXQgdGV4dCwgaHJlZjtcbiAgICAgICAgICAgIGlmIChjYXBbMl0gPT09ICdAJykge1xuICAgICAgICAgICAgICAgIHRleHQgPSBlc2NhcGUoY2FwWzFdKTtcbiAgICAgICAgICAgICAgICBocmVmID0gJ21haWx0bzonICsgdGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRleHQgPSBlc2NhcGUoY2FwWzFdKTtcbiAgICAgICAgICAgICAgICBocmVmID0gdGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2xpbmsnLFxuICAgICAgICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgICAgICAgIHRleHQsXG4gICAgICAgICAgICAgICAgaHJlZixcbiAgICAgICAgICAgICAgICB0b2tlbnM6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmF3OiB0ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cmwoc3JjKSB7XG4gICAgICAgIGxldCBjYXA7XG4gICAgICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS51cmwuZXhlYyhzcmMpKSB7XG4gICAgICAgICAgICBsZXQgdGV4dCwgaHJlZjtcbiAgICAgICAgICAgIGlmIChjYXBbMl0gPT09ICdAJykge1xuICAgICAgICAgICAgICAgIHRleHQgPSBlc2NhcGUoY2FwWzBdKTtcbiAgICAgICAgICAgICAgICBocmVmID0gJ21haWx0bzonICsgdGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGRvIGV4dGVuZGVkIGF1dG9saW5rIHBhdGggdmFsaWRhdGlvblxuICAgICAgICAgICAgICAgIGxldCBwcmV2Q2FwWmVybztcbiAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgIHByZXZDYXBaZXJvID0gY2FwWzBdO1xuICAgICAgICAgICAgICAgICAgICBjYXBbMF0gPSB0aGlzLnJ1bGVzLmlubGluZS5fYmFja3BlZGFsLmV4ZWMoY2FwWzBdKVswXTtcbiAgICAgICAgICAgICAgICB9IHdoaWxlIChwcmV2Q2FwWmVybyAhPT0gY2FwWzBdKTtcbiAgICAgICAgICAgICAgICB0ZXh0ID0gZXNjYXBlKGNhcFswXSk7XG4gICAgICAgICAgICAgICAgaWYgKGNhcFsxXSA9PT0gJ3d3dy4nKSB7XG4gICAgICAgICAgICAgICAgICAgIGhyZWYgPSAnaHR0cDovLycgKyBjYXBbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBocmVmID0gY2FwWzBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2xpbmsnLFxuICAgICAgICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgICAgICAgIHRleHQsXG4gICAgICAgICAgICAgICAgaHJlZixcbiAgICAgICAgICAgICAgICB0b2tlbnM6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmF3OiB0ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpbmxpbmVUZXh0KHNyYykge1xuICAgICAgICBjb25zdCBjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS50ZXh0LmV4ZWMoc3JjKTtcbiAgICAgICAgaWYgKGNhcCkge1xuICAgICAgICAgICAgbGV0IHRleHQ7XG4gICAgICAgICAgICBpZiAodGhpcy5sZXhlci5zdGF0ZS5pblJhd0Jsb2NrKSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9IGNhcFswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRleHQgPSBlc2NhcGUoY2FwWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgICAgICAgIHRleHRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQmxvY2stTGV2ZWwgR3JhbW1hclxuICovXG4vLyBOb3QgYWxsIHJ1bGVzIGFyZSBkZWZpbmVkIGluIHRoZSBvYmplY3QgbGl0ZXJhbFxuLy8gQHRzLWV4cGVjdC1lcnJvclxuY29uc3QgYmxvY2sgPSB7XG4gICAgbmV3bGluZTogL14oPzogKig/OlxcbnwkKSkrLyxcbiAgICBjb2RlOiAvXiggezR9W15cXG5dKyg/Olxcbig/OiAqKD86XFxufCQpKSopPykrLyxcbiAgICBmZW5jZXM6IC9eIHswLDN9KGB7Myx9KD89W15gXFxuXSooPzpcXG58JCkpfH57Myx9KShbXlxcbl0qKSg/OlxcbnwkKSg/OnwoW1xcc1xcU10qPykoPzpcXG58JCkpKD86IHswLDN9XFwxW35gXSogKig/PVxcbnwkKXwkKS8sXG4gICAgaHI6IC9eIHswLDN9KCg/Oi1bXFx0IF0qKXszLH18KD86X1sgXFx0XSopezMsfXwoPzpcXCpbIFxcdF0qKXszLH0pKD86XFxuK3wkKS8sXG4gICAgaGVhZGluZzogL14gezAsM30oI3sxLDZ9KSg/PVxcc3wkKSguKikoPzpcXG4rfCQpLyxcbiAgICBibG9ja3F1b3RlOiAvXiggezAsM30+ID8ocGFyYWdyYXBofFteXFxuXSopKD86XFxufCQpKSsvLFxuICAgIGxpc3Q6IC9eKCB7MCwzfWJ1bGwpKFsgXFx0XVteXFxuXSs/KT8oPzpcXG58JCkvLFxuICAgIGh0bWw6ICdeIHswLDN9KD86JyAvLyBvcHRpb25hbCBpbmRlbnRhdGlvblxuICAgICAgICArICc8KHNjcmlwdHxwcmV8c3R5bGV8dGV4dGFyZWEpW1xcXFxzPl1bXFxcXHNcXFxcU10qPyg/OjwvXFxcXDE+W15cXFxcbl0qXFxcXG4rfCQpJyAvLyAoMSlcbiAgICAgICAgKyAnfGNvbW1lbnRbXlxcXFxuXSooXFxcXG4rfCQpJyAvLyAoMilcbiAgICAgICAgKyAnfDxcXFxcP1tcXFxcc1xcXFxTXSo/KD86XFxcXD8+XFxcXG4qfCQpJyAvLyAoMylcbiAgICAgICAgKyAnfDwhW0EtWl1bXFxcXHNcXFxcU10qPyg/Oj5cXFxcbip8JCknIC8vICg0KVxuICAgICAgICArICd8PCFcXFxcW0NEQVRBXFxcXFtbXFxcXHNcXFxcU10qPyg/OlxcXFxdXFxcXF0+XFxcXG4qfCQpJyAvLyAoNSlcbiAgICAgICAgKyAnfDwvPyh0YWcpKD86ICt8XFxcXG58Lz8+KVtcXFxcc1xcXFxTXSo/KD86KD86XFxcXG4gKikrXFxcXG58JCknIC8vICg2KVxuICAgICAgICArICd8PCg/IXNjcmlwdHxwcmV8c3R5bGV8dGV4dGFyZWEpKFthLXpdW1xcXFx3LV0qKSg/OmF0dHJpYnV0ZSkqPyAqLz8+KD89WyBcXFxcdF0qKD86XFxcXG58JCkpW1xcXFxzXFxcXFNdKj8oPzooPzpcXFxcbiAqKStcXFxcbnwkKScgLy8gKDcpIG9wZW4gdGFnXG4gICAgICAgICsgJ3w8Lyg/IXNjcmlwdHxwcmV8c3R5bGV8dGV4dGFyZWEpW2Etel1bXFxcXHctXSpcXFxccyo+KD89WyBcXFxcdF0qKD86XFxcXG58JCkpW1xcXFxzXFxcXFNdKj8oPzooPzpcXFxcbiAqKStcXFxcbnwkKScgLy8gKDcpIGNsb3NpbmcgdGFnXG4gICAgICAgICsgJyknLFxuICAgIGRlZjogL14gezAsM31cXFsobGFiZWwpXFxdOiAqKD86XFxuICopPyhbXjxcXHNdW15cXHNdKnw8Lio/PikoPzooPzogKyg/OlxcbiAqKT98ICpcXG4gKikodGl0bGUpKT8gKig/Olxcbit8JCkvLFxuICAgIHRhYmxlOiBub29wVGVzdCxcbiAgICBsaGVhZGluZzogL14oKD86KD8hXmJ1bGwgKS58XFxuKD8hXFxufGJ1bGwgKSkrPylcXG4gezAsM30oPSt8LSspICooPzpcXG4rfCQpLyxcbiAgICAvLyByZWdleCB0ZW1wbGF0ZSwgcGxhY2Vob2xkZXJzIHdpbGwgYmUgcmVwbGFjZWQgYWNjb3JkaW5nIHRvIGRpZmZlcmVudCBwYXJhZ3JhcGhcbiAgICAvLyBpbnRlcnJ1cHRpb24gcnVsZXMgb2YgY29tbW9ubWFyayBhbmQgdGhlIG9yaWdpbmFsIG1hcmtkb3duIHNwZWM6XG4gICAgX3BhcmFncmFwaDogL14oW15cXG5dKyg/Olxcbig/IWhyfGhlYWRpbmd8bGhlYWRpbmd8YmxvY2txdW90ZXxmZW5jZXN8bGlzdHxodG1sfHRhYmxlfCArXFxuKVteXFxuXSspKikvLFxuICAgIHRleHQ6IC9eW15cXG5dKy9cbn07XG5ibG9jay5fbGFiZWwgPSAvKD8hXFxzKlxcXSkoPzpcXFxcLnxbXlxcW1xcXVxcXFxdKSsvO1xuYmxvY2suX3RpdGxlID0gLyg/OlwiKD86XFxcXFwiP3xbXlwiXFxcXF0pKlwifCdbXidcXG5dKig/OlxcblteJ1xcbl0rKSpcXG4/J3xcXChbXigpXSpcXCkpLztcbmJsb2NrLmRlZiA9IGVkaXQoYmxvY2suZGVmKVxuICAgIC5yZXBsYWNlKCdsYWJlbCcsIGJsb2NrLl9sYWJlbClcbiAgICAucmVwbGFjZSgndGl0bGUnLCBibG9jay5fdGl0bGUpXG4gICAgLmdldFJlZ2V4KCk7XG5ibG9jay5idWxsZXQgPSAvKD86WyorLV18XFxkezEsOX1bLildKS87XG5ibG9jay5saXN0SXRlbVN0YXJ0ID0gZWRpdCgvXiggKikoYnVsbCkgKi8pXG4gICAgLnJlcGxhY2UoJ2J1bGwnLCBibG9jay5idWxsZXQpXG4gICAgLmdldFJlZ2V4KCk7XG5ibG9jay5saXN0ID0gZWRpdChibG9jay5saXN0KVxuICAgIC5yZXBsYWNlKC9idWxsL2csIGJsb2NrLmJ1bGxldClcbiAgICAucmVwbGFjZSgnaHInLCAnXFxcXG4rKD89XFxcXDE/KD86KD86LSAqKXszLH18KD86XyAqKXszLH18KD86XFxcXCogKil7Myx9KSg/OlxcXFxuK3wkKSknKVxuICAgIC5yZXBsYWNlKCdkZWYnLCAnXFxcXG4rKD89JyArIGJsb2NrLmRlZi5zb3VyY2UgKyAnKScpXG4gICAgLmdldFJlZ2V4KCk7XG5ibG9jay5fdGFnID0gJ2FkZHJlc3N8YXJ0aWNsZXxhc2lkZXxiYXNlfGJhc2Vmb250fGJsb2NrcXVvdGV8Ym9keXxjYXB0aW9uJ1xuICAgICsgJ3xjZW50ZXJ8Y29sfGNvbGdyb3VwfGRkfGRldGFpbHN8ZGlhbG9nfGRpcnxkaXZ8ZGx8ZHR8ZmllbGRzZXR8ZmlnY2FwdGlvbidcbiAgICArICd8ZmlndXJlfGZvb3Rlcnxmb3JtfGZyYW1lfGZyYW1lc2V0fGhbMS02XXxoZWFkfGhlYWRlcnxocnxodG1sfGlmcmFtZSdcbiAgICArICd8bGVnZW5kfGxpfGxpbmt8bWFpbnxtZW51fG1lbnVpdGVtfG1ldGF8bmF2fG5vZnJhbWVzfG9sfG9wdGdyb3VwfG9wdGlvbidcbiAgICArICd8cHxwYXJhbXxzZWN0aW9ufHNvdXJjZXxzdW1tYXJ5fHRhYmxlfHRib2R5fHRkfHRmb290fHRofHRoZWFkfHRpdGxlfHRyJ1xuICAgICsgJ3x0cmFja3x1bCc7XG5ibG9jay5fY29tbWVudCA9IC88IS0tKD8hLT8+KVtcXHNcXFNdKj8oPzotLT58JCkvO1xuYmxvY2suaHRtbCA9IGVkaXQoYmxvY2suaHRtbCwgJ2knKVxuICAgIC5yZXBsYWNlKCdjb21tZW50JywgYmxvY2suX2NvbW1lbnQpXG4gICAgLnJlcGxhY2UoJ3RhZycsIGJsb2NrLl90YWcpXG4gICAgLnJlcGxhY2UoJ2F0dHJpYnV0ZScsIC8gK1thLXpBLVo6X11bXFx3LjotXSooPzogKj0gKlwiW15cIlxcbl0qXCJ8ICo9IConW14nXFxuXSonfCAqPSAqW15cXHNcIic9PD5gXSspPy8pXG4gICAgLmdldFJlZ2V4KCk7XG5ibG9jay5saGVhZGluZyA9IGVkaXQoYmxvY2subGhlYWRpbmcpXG4gICAgLnJlcGxhY2UoL2J1bGwvZywgYmxvY2suYnVsbGV0KSAvLyBsaXN0cyBjYW4gaW50ZXJydXB0XG4gICAgLmdldFJlZ2V4KCk7XG5ibG9jay5wYXJhZ3JhcGggPSBlZGl0KGJsb2NrLl9wYXJhZ3JhcGgpXG4gICAgLnJlcGxhY2UoJ2hyJywgYmxvY2suaHIpXG4gICAgLnJlcGxhY2UoJ2hlYWRpbmcnLCAnIHswLDN9I3sxLDZ9ICcpXG4gICAgLnJlcGxhY2UoJ3xsaGVhZGluZycsICcnKSAvLyBzZXRleCBoZWFkaW5ncyBkb24ndCBpbnRlcnJ1cHQgY29tbW9ubWFyayBwYXJhZ3JhcGhzXG4gICAgLnJlcGxhY2UoJ3x0YWJsZScsICcnKVxuICAgIC5yZXBsYWNlKCdibG9ja3F1b3RlJywgJyB7MCwzfT4nKVxuICAgIC5yZXBsYWNlKCdmZW5jZXMnLCAnIHswLDN9KD86YHszLH0oPz1bXmBcXFxcbl0qXFxcXG4pfH57Myx9KVteXFxcXG5dKlxcXFxuJylcbiAgICAucmVwbGFjZSgnbGlzdCcsICcgezAsM30oPzpbKistXXwxWy4pXSkgJykgLy8gb25seSBsaXN0cyBzdGFydGluZyBmcm9tIDEgY2FuIGludGVycnVwdFxuICAgIC5yZXBsYWNlKCdodG1sJywgJzwvPyg/OnRhZykoPzogK3xcXFxcbnwvPz4pfDwoPzpzY3JpcHR8cHJlfHN0eWxlfHRleHRhcmVhfCEtLSknKVxuICAgIC5yZXBsYWNlKCd0YWcnLCBibG9jay5fdGFnKSAvLyBwYXJzIGNhbiBiZSBpbnRlcnJ1cHRlZCBieSB0eXBlICg2KSBodG1sIGJsb2Nrc1xuICAgIC5nZXRSZWdleCgpO1xuYmxvY2suYmxvY2txdW90ZSA9IGVkaXQoYmxvY2suYmxvY2txdW90ZSlcbiAgICAucmVwbGFjZSgncGFyYWdyYXBoJywgYmxvY2sucGFyYWdyYXBoKVxuICAgIC5nZXRSZWdleCgpO1xuLyoqXG4gKiBOb3JtYWwgQmxvY2sgR3JhbW1hclxuICovXG5ibG9jay5ub3JtYWwgPSB7IC4uLmJsb2NrIH07XG4vKipcbiAqIEdGTSBCbG9jayBHcmFtbWFyXG4gKi9cbmJsb2NrLmdmbSA9IHtcbiAgICAuLi5ibG9jay5ub3JtYWwsXG4gICAgdGFibGU6ICdeICooW15cXFxcbiBdLipcXFxcfC4qKVxcXFxuJyAvLyBIZWFkZXJcbiAgICAgICAgKyAnIHswLDN9KD86XFxcXHwgKik/KDo/LSs6PyAqKD86XFxcXHwgKjo/LSs6PyAqKSopKD86XFxcXHwgKik/JyAvLyBBbGlnblxuICAgICAgICArICcoPzpcXFxcbigoPzooPyEgKlxcXFxufGhyfGhlYWRpbmd8YmxvY2txdW90ZXxjb2RlfGZlbmNlc3xsaXN0fGh0bWwpLiooPzpcXFxcbnwkKSkqKVxcXFxuKnwkKScgLy8gQ2VsbHNcbn07XG5ibG9jay5nZm0udGFibGUgPSBlZGl0KGJsb2NrLmdmbS50YWJsZSlcbiAgICAucmVwbGFjZSgnaHInLCBibG9jay5ocilcbiAgICAucmVwbGFjZSgnaGVhZGluZycsICcgezAsM30jezEsNn0gJylcbiAgICAucmVwbGFjZSgnYmxvY2txdW90ZScsICcgezAsM30+JylcbiAgICAucmVwbGFjZSgnY29kZScsICcgezR9W15cXFxcbl0nKVxuICAgIC5yZXBsYWNlKCdmZW5jZXMnLCAnIHswLDN9KD86YHszLH0oPz1bXmBcXFxcbl0qXFxcXG4pfH57Myx9KVteXFxcXG5dKlxcXFxuJylcbiAgICAucmVwbGFjZSgnbGlzdCcsICcgezAsM30oPzpbKistXXwxWy4pXSkgJykgLy8gb25seSBsaXN0cyBzdGFydGluZyBmcm9tIDEgY2FuIGludGVycnVwdFxuICAgIC5yZXBsYWNlKCdodG1sJywgJzwvPyg/OnRhZykoPzogK3xcXFxcbnwvPz4pfDwoPzpzY3JpcHR8cHJlfHN0eWxlfHRleHRhcmVhfCEtLSknKVxuICAgIC5yZXBsYWNlKCd0YWcnLCBibG9jay5fdGFnKSAvLyB0YWJsZXMgY2FuIGJlIGludGVycnVwdGVkIGJ5IHR5cGUgKDYpIGh0bWwgYmxvY2tzXG4gICAgLmdldFJlZ2V4KCk7XG5ibG9jay5nZm0ucGFyYWdyYXBoID0gZWRpdChibG9jay5fcGFyYWdyYXBoKVxuICAgIC5yZXBsYWNlKCdocicsIGJsb2NrLmhyKVxuICAgIC5yZXBsYWNlKCdoZWFkaW5nJywgJyB7MCwzfSN7MSw2fSAnKVxuICAgIC5yZXBsYWNlKCd8bGhlYWRpbmcnLCAnJykgLy8gc2V0ZXggaGVhZGluZ3MgZG9uJ3QgaW50ZXJydXB0IGNvbW1vbm1hcmsgcGFyYWdyYXBoc1xuICAgIC5yZXBsYWNlKCd0YWJsZScsIGJsb2NrLmdmbS50YWJsZSkgLy8gaW50ZXJydXB0IHBhcmFncmFwaHMgd2l0aCB0YWJsZVxuICAgIC5yZXBsYWNlKCdibG9ja3F1b3RlJywgJyB7MCwzfT4nKVxuICAgIC5yZXBsYWNlKCdmZW5jZXMnLCAnIHswLDN9KD86YHszLH0oPz1bXmBcXFxcbl0qXFxcXG4pfH57Myx9KVteXFxcXG5dKlxcXFxuJylcbiAgICAucmVwbGFjZSgnbGlzdCcsICcgezAsM30oPzpbKistXXwxWy4pXSkgJykgLy8gb25seSBsaXN0cyBzdGFydGluZyBmcm9tIDEgY2FuIGludGVycnVwdFxuICAgIC5yZXBsYWNlKCdodG1sJywgJzwvPyg/OnRhZykoPzogK3xcXFxcbnwvPz4pfDwoPzpzY3JpcHR8cHJlfHN0eWxlfHRleHRhcmVhfCEtLSknKVxuICAgIC5yZXBsYWNlKCd0YWcnLCBibG9jay5fdGFnKSAvLyBwYXJzIGNhbiBiZSBpbnRlcnJ1cHRlZCBieSB0eXBlICg2KSBodG1sIGJsb2Nrc1xuICAgIC5nZXRSZWdleCgpO1xuLyoqXG4gKiBQZWRhbnRpYyBncmFtbWFyIChvcmlnaW5hbCBKb2huIEdydWJlcidzIGxvb3NlIG1hcmtkb3duIHNwZWNpZmljYXRpb24pXG4gKi9cbmJsb2NrLnBlZGFudGljID0ge1xuICAgIC4uLmJsb2NrLm5vcm1hbCxcbiAgICBodG1sOiBlZGl0KCdeICooPzpjb21tZW50ICooPzpcXFxcbnxcXFxccyokKSdcbiAgICAgICAgKyAnfDwodGFnKVtcXFxcc1xcXFxTXSs/PC9cXFxcMT4gKig/OlxcXFxuezIsfXxcXFxccyokKScgLy8gY2xvc2VkIHRhZ1xuICAgICAgICArICd8PHRhZyg/OlwiW15cIl0qXCJ8XFwnW15cXCddKlxcJ3xcXFxcc1teXFwnXCIvPlxcXFxzXSopKj8vPz4gKig/OlxcXFxuezIsfXxcXFxccyokKSknKVxuICAgICAgICAucmVwbGFjZSgnY29tbWVudCcsIGJsb2NrLl9jb21tZW50KVxuICAgICAgICAucmVwbGFjZSgvdGFnL2csICcoPyEoPzonXG4gICAgICAgICsgJ2F8ZW18c3Ryb25nfHNtYWxsfHN8Y2l0ZXxxfGRmbnxhYmJyfGRhdGF8dGltZXxjb2RlfHZhcnxzYW1wfGtiZHxzdWInXG4gICAgICAgICsgJ3xzdXB8aXxifHV8bWFya3xydWJ5fHJ0fHJwfGJkaXxiZG98c3Bhbnxicnx3YnJ8aW5zfGRlbHxpbWcpJ1xuICAgICAgICArICdcXFxcYilcXFxcdysoPyE6fFteXFxcXHdcXFxcc0BdKkApXFxcXGInKVxuICAgICAgICAuZ2V0UmVnZXgoKSxcbiAgICBkZWY6IC9eICpcXFsoW15cXF1dKylcXF06ICo8PyhbXlxccz5dKyk+Pyg/OiArKFtcIihdW15cXG5dK1tcIildKSk/ICooPzpcXG4rfCQpLyxcbiAgICBoZWFkaW5nOiAvXigjezEsNn0pKC4qKSg/Olxcbit8JCkvLFxuICAgIGZlbmNlczogbm9vcFRlc3QsXG4gICAgbGhlYWRpbmc6IC9eKC4rPylcXG4gezAsM30oPSt8LSspICooPzpcXG4rfCQpLyxcbiAgICBwYXJhZ3JhcGg6IGVkaXQoYmxvY2subm9ybWFsLl9wYXJhZ3JhcGgpXG4gICAgICAgIC5yZXBsYWNlKCdocicsIGJsb2NrLmhyKVxuICAgICAgICAucmVwbGFjZSgnaGVhZGluZycsICcgKiN7MSw2fSAqW15cXG5dJylcbiAgICAgICAgLnJlcGxhY2UoJ2xoZWFkaW5nJywgYmxvY2subGhlYWRpbmcpXG4gICAgICAgIC5yZXBsYWNlKCdibG9ja3F1b3RlJywgJyB7MCwzfT4nKVxuICAgICAgICAucmVwbGFjZSgnfGZlbmNlcycsICcnKVxuICAgICAgICAucmVwbGFjZSgnfGxpc3QnLCAnJylcbiAgICAgICAgLnJlcGxhY2UoJ3xodG1sJywgJycpXG4gICAgICAgIC5nZXRSZWdleCgpXG59O1xuLyoqXG4gKiBJbmxpbmUtTGV2ZWwgR3JhbW1hclxuICovXG4vLyBOb3QgYWxsIHJ1bGVzIGFyZSBkZWZpbmVkIGluIHRoZSBvYmplY3QgbGl0ZXJhbFxuLy8gQHRzLWV4cGVjdC1lcnJvclxuY29uc3QgaW5saW5lID0ge1xuICAgIGVzY2FwZTogL15cXFxcKFshXCIjJCUmJygpKissXFwtLi86Ozw9Pj9AXFxbXFxdXFxcXF5fYHt8fX5dKS8sXG4gICAgYXV0b2xpbms6IC9ePChzY2hlbWU6W15cXHNcXHgwMC1cXHgxZjw+XSp8ZW1haWwpPi8sXG4gICAgdXJsOiBub29wVGVzdCxcbiAgICB0YWc6ICdeY29tbWVudCdcbiAgICAgICAgKyAnfF48L1thLXpBLVpdW1xcXFx3Oi1dKlxcXFxzKj4nIC8vIHNlbGYtY2xvc2luZyB0YWdcbiAgICAgICAgKyAnfF48W2EtekEtWl1bXFxcXHctXSooPzphdHRyaWJ1dGUpKj9cXFxccyovPz4nIC8vIG9wZW4gdGFnXG4gICAgICAgICsgJ3xePFxcXFw/W1xcXFxzXFxcXFNdKj9cXFxcPz4nIC8vIHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb24sIGUuZy4gPD9waHAgPz5cbiAgICAgICAgKyAnfF48IVthLXpBLVpdK1xcXFxzW1xcXFxzXFxcXFNdKj8+JyAvLyBkZWNsYXJhdGlvbiwgZS5nLiA8IURPQ1RZUEUgaHRtbD5cbiAgICAgICAgKyAnfF48IVxcXFxbQ0RBVEFcXFxcW1tcXFxcc1xcXFxTXSo/XFxcXF1cXFxcXT4nLFxuICAgIGxpbms6IC9eIT9cXFsobGFiZWwpXFxdXFwoXFxzKihocmVmKSg/OlxccysodGl0bGUpKT9cXHMqXFwpLyxcbiAgICByZWZsaW5rOiAvXiE/XFxbKGxhYmVsKVxcXVxcWyhyZWYpXFxdLyxcbiAgICBub2xpbms6IC9eIT9cXFsocmVmKVxcXSg/OlxcW1xcXSk/LyxcbiAgICByZWZsaW5rU2VhcmNoOiAncmVmbGlua3xub2xpbmsoPyFcXFxcKCknLFxuICAgIGVtU3Ryb25nOiB7XG4gICAgICAgIGxEZWxpbTogL14oPzpcXCorKD86KCg/IVxcKilbcHVuY3RdKXxbXlxccypdKSl8Xl8rKD86KCg/IV8pW3B1bmN0XSl8KFteXFxzX10pKS8sXG4gICAgICAgIC8vICAgICAgICAgKDEpIGFuZCAoMikgY2FuIG9ubHkgYmUgYSBSaWdodCBEZWxpbWl0ZXIuICgzKSBhbmQgKDQpIGNhbiBvbmx5IGJlIExlZnQuICAoNSkgYW5kICg2KSBjYW4gYmUgZWl0aGVyIExlZnQgb3IgUmlnaHQuXG4gICAgICAgIC8vICAgICAgICAgfCBTa2lwIG9ycGhhbiBpbnNpZGUgc3Ryb25nICAgICAgfCBDb25zdW1lIHRvIGRlbGltIHwgKDEpICMqKiogICAgICAgICAgICAgIHwgKDIpIGEqKiojLCBhKioqICAgICAgICAgICAgICAgICAgICB8ICgzKSAjKioqYSwgKioqYSAgICAgICAgICAgICAgICAgIHwgKDQpICoqKiMgICAgICAgICAgICAgICAgIHwgKDUpICMqKiojICAgICAgICAgICAgICAgICAgICAgICAgIHwgKDYpIGEqKiphXG4gICAgICAgIHJEZWxpbUFzdDogL15bXl8qXSo/X19bXl8qXSo/XFwqW15fKl0qPyg/PV9fKXxbXipdKyg/PVteKl0pfCg/IVxcKilbcHVuY3RdKFxcKispKD89W1xcc118JCl8W15wdW5jdFxcc10oXFwqKykoPyFcXCopKD89W3B1bmN0XFxzXXwkKXwoPyFcXCopW3B1bmN0XFxzXShcXCorKSg/PVtecHVuY3RcXHNdKXxbXFxzXShcXCorKSg/IVxcKikoPz1bcHVuY3RdKXwoPyFcXCopW3B1bmN0XShcXCorKSg/IVxcKikoPz1bcHVuY3RdKXxbXnB1bmN0XFxzXShcXCorKSg/PVtecHVuY3RcXHNdKS8sXG4gICAgICAgIHJEZWxpbVVuZDogL15bXl8qXSo/XFwqXFwqW15fKl0qP19bXl8qXSo/KD89XFwqXFwqKXxbXl9dKyg/PVteX10pfCg/IV8pW3B1bmN0XShfKykoPz1bXFxzXXwkKXxbXnB1bmN0XFxzXShfKykoPyFfKSg/PVtwdW5jdFxcc118JCl8KD8hXylbcHVuY3RcXHNdKF8rKSg/PVtecHVuY3RcXHNdKXxbXFxzXShfKykoPyFfKSg/PVtwdW5jdF0pfCg/IV8pW3B1bmN0XShfKykoPyFfKSg/PVtwdW5jdF0pLyAvLyBeLSBOb3QgYWxsb3dlZCBmb3IgX1xuICAgIH0sXG4gICAgY29kZTogL14oYCspKFteYF18W15gXVtcXHNcXFNdKj9bXmBdKVxcMSg/IWApLyxcbiAgICBicjogL14oIHsyLH18XFxcXClcXG4oPyFcXHMqJCkvLFxuICAgIGRlbDogbm9vcFRlc3QsXG4gICAgdGV4dDogL14oYCt8W15gXSkoPzooPz0gezIsfVxcbil8W1xcc1xcU10qPyg/Oig/PVtcXFxcPCFcXFtgKl9dfFxcYl98JCl8W14gXSg/PSB7Mix9XFxuKSkpLyxcbiAgICBwdW5jdHVhdGlvbjogL14oKD8hWypfXSlbXFxzcHVuY3R1YXRpb25dKS9cbn07XG4vLyBsaXN0IG9mIHVuaWNvZGUgcHVuY3R1YXRpb24gbWFya3MsIHBsdXMgYW55IG1pc3NpbmcgY2hhcmFjdGVycyBmcm9tIENvbW1vbk1hcmsgc3BlY1xuaW5saW5lLl9wdW5jdHVhdGlvbiA9ICdcXFxccHtQfSQrPD0+YF58fic7XG5pbmxpbmUucHVuY3R1YXRpb24gPSBlZGl0KGlubGluZS5wdW5jdHVhdGlvbiwgJ3UnKS5yZXBsYWNlKC9wdW5jdHVhdGlvbi9nLCBpbmxpbmUuX3B1bmN0dWF0aW9uKS5nZXRSZWdleCgpO1xuLy8gc2VxdWVuY2VzIGVtIHNob3VsZCBza2lwIG92ZXIgW3RpdGxlXShsaW5rKSwgYGNvZGVgLCA8aHRtbD5cbmlubGluZS5ibG9ja1NraXAgPSAvXFxbW15bXFxdXSo/XFxdXFwoW15cXChcXCldKj9cXCl8YFteYF0qP2B8PFtePD5dKj8+L2c7XG5pbmxpbmUuYW55UHVuY3R1YXRpb24gPSAvXFxcXFtwdW5jdF0vZztcbmlubGluZS5fZXNjYXBlcyA9IC9cXFxcKFtwdW5jdF0pL2c7XG5pbmxpbmUuX2NvbW1lbnQgPSBlZGl0KGJsb2NrLl9jb21tZW50KS5yZXBsYWNlKCcoPzotLT58JCknLCAnLS0+JykuZ2V0UmVnZXgoKTtcbmlubGluZS5lbVN0cm9uZy5sRGVsaW0gPSBlZGl0KGlubGluZS5lbVN0cm9uZy5sRGVsaW0sICd1JylcbiAgICAucmVwbGFjZSgvcHVuY3QvZywgaW5saW5lLl9wdW5jdHVhdGlvbilcbiAgICAuZ2V0UmVnZXgoKTtcbmlubGluZS5lbVN0cm9uZy5yRGVsaW1Bc3QgPSBlZGl0KGlubGluZS5lbVN0cm9uZy5yRGVsaW1Bc3QsICdndScpXG4gICAgLnJlcGxhY2UoL3B1bmN0L2csIGlubGluZS5fcHVuY3R1YXRpb24pXG4gICAgLmdldFJlZ2V4KCk7XG5pbmxpbmUuZW1TdHJvbmcuckRlbGltVW5kID0gZWRpdChpbmxpbmUuZW1TdHJvbmcuckRlbGltVW5kLCAnZ3UnKVxuICAgIC5yZXBsYWNlKC9wdW5jdC9nLCBpbmxpbmUuX3B1bmN0dWF0aW9uKVxuICAgIC5nZXRSZWdleCgpO1xuaW5saW5lLmFueVB1bmN0dWF0aW9uID0gZWRpdChpbmxpbmUuYW55UHVuY3R1YXRpb24sICdndScpXG4gICAgLnJlcGxhY2UoL3B1bmN0L2csIGlubGluZS5fcHVuY3R1YXRpb24pXG4gICAgLmdldFJlZ2V4KCk7XG5pbmxpbmUuX2VzY2FwZXMgPSBlZGl0KGlubGluZS5fZXNjYXBlcywgJ2d1JylcbiAgICAucmVwbGFjZSgvcHVuY3QvZywgaW5saW5lLl9wdW5jdHVhdGlvbilcbiAgICAuZ2V0UmVnZXgoKTtcbmlubGluZS5fc2NoZW1lID0gL1thLXpBLVpdW2EtekEtWjAtOSsuLV17MSwzMX0vO1xuaW5saW5lLl9lbWFpbCA9IC9bYS16QS1aMC05LiEjJCUmJyorLz0/Xl9ge3x9fi1dKyhAKVthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPyg/OlxcLlthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPykrKD8hWy1fXSkvO1xuaW5saW5lLmF1dG9saW5rID0gZWRpdChpbmxpbmUuYXV0b2xpbmspXG4gICAgLnJlcGxhY2UoJ3NjaGVtZScsIGlubGluZS5fc2NoZW1lKVxuICAgIC5yZXBsYWNlKCdlbWFpbCcsIGlubGluZS5fZW1haWwpXG4gICAgLmdldFJlZ2V4KCk7XG5pbmxpbmUuX2F0dHJpYnV0ZSA9IC9cXHMrW2EtekEtWjpfXVtcXHcuOi1dKig/Olxccyo9XFxzKlwiW15cIl0qXCJ8XFxzKj1cXHMqJ1teJ10qJ3xcXHMqPVxccypbXlxcc1wiJz08PmBdKyk/LztcbmlubGluZS50YWcgPSBlZGl0KGlubGluZS50YWcpXG4gICAgLnJlcGxhY2UoJ2NvbW1lbnQnLCBpbmxpbmUuX2NvbW1lbnQpXG4gICAgLnJlcGxhY2UoJ2F0dHJpYnV0ZScsIGlubGluZS5fYXR0cmlidXRlKVxuICAgIC5nZXRSZWdleCgpO1xuaW5saW5lLl9sYWJlbCA9IC8oPzpcXFsoPzpcXFxcLnxbXlxcW1xcXVxcXFxdKSpcXF18XFxcXC58YFteYF0qYHxbXlxcW1xcXVxcXFxgXSkqPy87XG5pbmxpbmUuX2hyZWYgPSAvPCg/OlxcXFwufFteXFxuPD5cXFxcXSkrPnxbXlxcc1xceDAwLVxceDFmXSovO1xuaW5saW5lLl90aXRsZSA9IC9cIig/OlxcXFxcIj98W15cIlxcXFxdKSpcInwnKD86XFxcXCc/fFteJ1xcXFxdKSonfFxcKCg/OlxcXFxcXCk/fFteKVxcXFxdKSpcXCkvO1xuaW5saW5lLmxpbmsgPSBlZGl0KGlubGluZS5saW5rKVxuICAgIC5yZXBsYWNlKCdsYWJlbCcsIGlubGluZS5fbGFiZWwpXG4gICAgLnJlcGxhY2UoJ2hyZWYnLCBpbmxpbmUuX2hyZWYpXG4gICAgLnJlcGxhY2UoJ3RpdGxlJywgaW5saW5lLl90aXRsZSlcbiAgICAuZ2V0UmVnZXgoKTtcbmlubGluZS5yZWZsaW5rID0gZWRpdChpbmxpbmUucmVmbGluaylcbiAgICAucmVwbGFjZSgnbGFiZWwnLCBpbmxpbmUuX2xhYmVsKVxuICAgIC5yZXBsYWNlKCdyZWYnLCBibG9jay5fbGFiZWwpXG4gICAgLmdldFJlZ2V4KCk7XG5pbmxpbmUubm9saW5rID0gZWRpdChpbmxpbmUubm9saW5rKVxuICAgIC5yZXBsYWNlKCdyZWYnLCBibG9jay5fbGFiZWwpXG4gICAgLmdldFJlZ2V4KCk7XG5pbmxpbmUucmVmbGlua1NlYXJjaCA9IGVkaXQoaW5saW5lLnJlZmxpbmtTZWFyY2gsICdnJylcbiAgICAucmVwbGFjZSgncmVmbGluaycsIGlubGluZS5yZWZsaW5rKVxuICAgIC5yZXBsYWNlKCdub2xpbmsnLCBpbmxpbmUubm9saW5rKVxuICAgIC5nZXRSZWdleCgpO1xuLyoqXG4gKiBOb3JtYWwgSW5saW5lIEdyYW1tYXJcbiAqL1xuaW5saW5lLm5vcm1hbCA9IHsgLi4uaW5saW5lIH07XG4vKipcbiAqIFBlZGFudGljIElubGluZSBHcmFtbWFyXG4gKi9cbmlubGluZS5wZWRhbnRpYyA9IHtcbiAgICAuLi5pbmxpbmUubm9ybWFsLFxuICAgIHN0cm9uZzoge1xuICAgICAgICBzdGFydDogL15fX3xcXCpcXCovLFxuICAgICAgICBtaWRkbGU6IC9eX18oPz1cXFMpKFtcXHNcXFNdKj9cXFMpX18oPyFfKXxeXFwqXFwqKD89XFxTKShbXFxzXFxTXSo/XFxTKVxcKlxcKig/IVxcKikvLFxuICAgICAgICBlbmRBc3Q6IC9cXCpcXCooPyFcXCopL2csXG4gICAgICAgIGVuZFVuZDogL19fKD8hXykvZ1xuICAgIH0sXG4gICAgZW06IHtcbiAgICAgICAgc3RhcnQ6IC9eX3xcXCovLFxuICAgICAgICBtaWRkbGU6IC9eKClcXCooPz1cXFMpKFtcXHNcXFNdKj9cXFMpXFwqKD8hXFwqKXxeXyg/PVxcUykoW1xcc1xcU10qP1xcUylfKD8hXykvLFxuICAgICAgICBlbmRBc3Q6IC9cXCooPyFcXCopL2csXG4gICAgICAgIGVuZFVuZDogL18oPyFfKS9nXG4gICAgfSxcbiAgICBsaW5rOiBlZGl0KC9eIT9cXFsobGFiZWwpXFxdXFwoKC4qPylcXCkvKVxuICAgICAgICAucmVwbGFjZSgnbGFiZWwnLCBpbmxpbmUuX2xhYmVsKVxuICAgICAgICAuZ2V0UmVnZXgoKSxcbiAgICByZWZsaW5rOiBlZGl0KC9eIT9cXFsobGFiZWwpXFxdXFxzKlxcWyhbXlxcXV0qKVxcXS8pXG4gICAgICAgIC5yZXBsYWNlKCdsYWJlbCcsIGlubGluZS5fbGFiZWwpXG4gICAgICAgIC5nZXRSZWdleCgpXG59O1xuLyoqXG4gKiBHRk0gSW5saW5lIEdyYW1tYXJcbiAqL1xuaW5saW5lLmdmbSA9IHtcbiAgICAuLi5pbmxpbmUubm9ybWFsLFxuICAgIGVzY2FwZTogZWRpdChpbmxpbmUuZXNjYXBlKS5yZXBsYWNlKCddKScsICd+fF0pJykuZ2V0UmVnZXgoKSxcbiAgICBfZXh0ZW5kZWRfZW1haWw6IC9bQS1aYS16MC05Ll8rLV0rKEApW2EtekEtWjAtOS1fXSsoPzpcXC5bYS16QS1aMC05LV9dKlthLXpBLVowLTldKSsoPyFbLV9dKS8sXG4gICAgdXJsOiAvXigoPzpmdHB8aHR0cHM/KTpcXC9cXC98d3d3XFwuKSg/OlthLXpBLVowLTlcXC1dK1xcLj8pK1teXFxzPF0qfF5lbWFpbC8sXG4gICAgX2JhY2twZWRhbDogLyg/OltePyEuLDo7Kl8nXCJ+KCkmXSt8XFwoW14pXSpcXCl8Jig/IVthLXpBLVowLTldKzskKXxbPyEuLDo7Kl8nXCJ+KV0rKD8hJCkpKy8sXG4gICAgZGVsOiAvXih+fj8pKD89W15cXHN+XSkoW1xcc1xcU10qP1teXFxzfl0pXFwxKD89W15+XXwkKS8sXG4gICAgdGV4dDogL14oW2B+XSt8W15gfl0pKD86KD89IHsyLH1cXG4pfCg/PVthLXpBLVowLTkuISMkJSYnKitcXC89P19ge1xcfH1+LV0rQCl8W1xcc1xcU10qPyg/Oig/PVtcXFxcPCFcXFtgKn5fXXxcXGJffGh0dHBzPzpcXC9cXC98ZnRwOlxcL1xcL3x3d3dcXC58JCl8W14gXSg/PSB7Mix9XFxuKXxbXmEtekEtWjAtOS4hIyQlJicqK1xcLz0/X2B7XFx8fX4tXSg/PVthLXpBLVowLTkuISMkJSYnKitcXC89P19ge1xcfH1+LV0rQCkpKS9cbn07XG5pbmxpbmUuZ2ZtLnVybCA9IGVkaXQoaW5saW5lLmdmbS51cmwsICdpJylcbiAgICAucmVwbGFjZSgnZW1haWwnLCBpbmxpbmUuZ2ZtLl9leHRlbmRlZF9lbWFpbClcbiAgICAuZ2V0UmVnZXgoKTtcbi8qKlxuICogR0ZNICsgTGluZSBCcmVha3MgSW5saW5lIEdyYW1tYXJcbiAqL1xuaW5saW5lLmJyZWFrcyA9IHtcbiAgICAuLi5pbmxpbmUuZ2ZtLFxuICAgIGJyOiBlZGl0KGlubGluZS5icikucmVwbGFjZSgnezIsfScsICcqJykuZ2V0UmVnZXgoKSxcbiAgICB0ZXh0OiBlZGl0KGlubGluZS5nZm0udGV4dClcbiAgICAgICAgLnJlcGxhY2UoJ1xcXFxiXycsICdcXFxcYl98IHsyLH1cXFxcbicpXG4gICAgICAgIC5yZXBsYWNlKC9cXHsyLFxcfS9nLCAnKicpXG4gICAgICAgIC5nZXRSZWdleCgpXG59O1xuXG4vKipcbiAqIEJsb2NrIExleGVyXG4gKi9cbmNsYXNzIF9MZXhlciB7XG4gICAgdG9rZW5zO1xuICAgIG9wdGlvbnM7XG4gICAgc3RhdGU7XG4gICAgdG9rZW5pemVyO1xuICAgIGlubGluZVF1ZXVlO1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gVG9rZW5MaXN0IGNhbm5vdCBiZSBjcmVhdGVkIGluIG9uZSBnb1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgIHRoaXMudG9rZW5zID0gW107XG4gICAgICAgIHRoaXMudG9rZW5zLmxpbmtzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCBfZGVmYXVsdHM7XG4gICAgICAgIHRoaXMub3B0aW9ucy50b2tlbml6ZXIgPSB0aGlzLm9wdGlvbnMudG9rZW5pemVyIHx8IG5ldyBfVG9rZW5pemVyKCk7XG4gICAgICAgIHRoaXMudG9rZW5pemVyID0gdGhpcy5vcHRpb25zLnRva2VuaXplcjtcbiAgICAgICAgdGhpcy50b2tlbml6ZXIub3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgdGhpcy50b2tlbml6ZXIubGV4ZXIgPSB0aGlzO1xuICAgICAgICB0aGlzLmlubGluZVF1ZXVlID0gW107XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBpbkxpbms6IGZhbHNlLFxuICAgICAgICAgICAgaW5SYXdCbG9jazogZmFsc2UsXG4gICAgICAgICAgICB0b3A6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcnVsZXMgPSB7XG4gICAgICAgICAgICBibG9jazogYmxvY2subm9ybWFsLFxuICAgICAgICAgICAgaW5saW5lOiBpbmxpbmUubm9ybWFsXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucGVkYW50aWMpIHtcbiAgICAgICAgICAgIHJ1bGVzLmJsb2NrID0gYmxvY2sucGVkYW50aWM7XG4gICAgICAgICAgICBydWxlcy5pbmxpbmUgPSBpbmxpbmUucGVkYW50aWM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5vcHRpb25zLmdmbSkge1xuICAgICAgICAgICAgcnVsZXMuYmxvY2sgPSBibG9jay5nZm07XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmJyZWFrcykge1xuICAgICAgICAgICAgICAgIHJ1bGVzLmlubGluZSA9IGlubGluZS5icmVha3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBydWxlcy5pbmxpbmUgPSBpbmxpbmUuZ2ZtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudG9rZW5pemVyLnJ1bGVzID0gcnVsZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4cG9zZSBSdWxlc1xuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgcnVsZXMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBibG9jayxcbiAgICAgICAgICAgIGlubGluZVxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGF0aWMgTGV4IE1ldGhvZFxuICAgICAqL1xuICAgIHN0YXRpYyBsZXgoc3JjLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGxleGVyID0gbmV3IF9MZXhlcihvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGxleGVyLmxleChzcmMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGF0aWMgTGV4IElubGluZSBNZXRob2RcbiAgICAgKi9cbiAgICBzdGF0aWMgbGV4SW5saW5lKHNyYywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBsZXhlciA9IG5ldyBfTGV4ZXIob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBsZXhlci5pbmxpbmVUb2tlbnMoc3JjKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJlcHJvY2Vzc2luZ1xuICAgICAqL1xuICAgIGxleChzcmMpIHtcbiAgICAgICAgc3JjID0gc3JjXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxyXFxufFxcci9nLCAnXFxuJyk7XG4gICAgICAgIHRoaXMuYmxvY2tUb2tlbnMoc3JjLCB0aGlzLnRva2Vucyk7XG4gICAgICAgIGxldCBuZXh0O1xuICAgICAgICB3aGlsZSAobmV4dCA9IHRoaXMuaW5saW5lUXVldWUuc2hpZnQoKSkge1xuICAgICAgICAgICAgdGhpcy5pbmxpbmVUb2tlbnMobmV4dC5zcmMsIG5leHQudG9rZW5zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy50b2tlbnM7XG4gICAgfVxuICAgIGJsb2NrVG9rZW5zKHNyYywgdG9rZW5zID0gW10pIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wZWRhbnRpYykge1xuICAgICAgICAgICAgc3JjID0gc3JjLnJlcGxhY2UoL1xcdC9nLCAnICAgICcpLnJlcGxhY2UoL14gKyQvZ20sICcnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNyYyA9IHNyYy5yZXBsYWNlKC9eKCAqKShcXHQrKS9nbSwgKF8sIGxlYWRpbmcsIHRhYnMpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGVhZGluZyArICcgICAgJy5yZXBlYXQodGFicy5sZW5ndGgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRva2VuO1xuICAgICAgICBsZXQgbGFzdFRva2VuO1xuICAgICAgICBsZXQgY3V0U3JjO1xuICAgICAgICBsZXQgbGFzdFBhcmFncmFwaENsaXBwZWQ7XG4gICAgICAgIHdoaWxlIChzcmMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZXh0ZW5zaW9uc1xuICAgICAgICAgICAgICAgICYmIHRoaXMub3B0aW9ucy5leHRlbnNpb25zLmJsb2NrXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5vcHRpb25zLmV4dGVuc2lvbnMuYmxvY2suc29tZSgoZXh0VG9rZW5pemVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbiA9IGV4dFRva2VuaXplci5jYWxsKHsgbGV4ZXI6IHRoaXMgfSwgc3JjLCB0b2tlbnMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBuZXdsaW5lXG4gICAgICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5zcGFjZShzcmMpKSB7XG4gICAgICAgICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4ucmF3Lmxlbmd0aCA9PT0gMSAmJiB0b2tlbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSdzIGEgc2luZ2xlIFxcbiBhcyBhIHNwYWNlciwgaXQncyB0ZXJtaW5hdGluZyB0aGUgbGFzdCBsaW5lLFxuICAgICAgICAgICAgICAgICAgICAvLyBzbyBtb3ZlIGl0IHRoZXJlIHNvIHRoYXQgd2UgZG9uJ3QgZ2V0IHVuZWNlc3NhcnkgcGFyYWdyYXBoIHRhZ3NcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zW3Rva2Vucy5sZW5ndGggLSAxXS5yYXcgKz0gJ1xcbic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY29kZVxuICAgICAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuY29kZShzcmMpKSB7XG4gICAgICAgICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBsYXN0VG9rZW4gPSB0b2tlbnNbdG9rZW5zLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgIC8vIEFuIGluZGVudGVkIGNvZGUgYmxvY2sgY2Fubm90IGludGVycnVwdCBhIHBhcmFncmFwaC5cbiAgICAgICAgICAgICAgICBpZiAobGFzdFRva2VuICYmIChsYXN0VG9rZW4udHlwZSA9PT0gJ3BhcmFncmFwaCcgfHwgbGFzdFRva2VuLnR5cGUgPT09ICd0ZXh0JykpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFRva2VuLnJhdyArPSAnXFxuJyArIHRva2VuLnJhdztcbiAgICAgICAgICAgICAgICAgICAgbGFzdFRva2VuLnRleHQgKz0gJ1xcbicgKyB0b2tlbi50ZXh0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlubGluZVF1ZXVlW3RoaXMuaW5saW5lUXVldWUubGVuZ3RoIC0gMV0uc3JjID0gbGFzdFRva2VuLnRleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZmVuY2VzXG4gICAgICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5mZW5jZXMoc3JjKSkge1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaGVhZGluZ1xuICAgICAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuaGVhZGluZyhzcmMpKSB7XG4gICAgICAgICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBoclxuICAgICAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuaHIoc3JjKSkge1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYmxvY2txdW90ZVxuICAgICAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuYmxvY2txdW90ZShzcmMpKSB7XG4gICAgICAgICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBsaXN0XG4gICAgICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5saXN0KHNyYykpIHtcbiAgICAgICAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGh0bWxcbiAgICAgICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmh0bWwoc3JjKSkge1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZGVmXG4gICAgICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5kZWYoc3JjKSkge1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgbGFzdFRva2VuID0gdG9rZW5zW3Rva2Vucy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICBpZiAobGFzdFRva2VuICYmIChsYXN0VG9rZW4udHlwZSA9PT0gJ3BhcmFncmFwaCcgfHwgbGFzdFRva2VuLnR5cGUgPT09ICd0ZXh0JykpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFRva2VuLnJhdyArPSAnXFxuJyArIHRva2VuLnJhdztcbiAgICAgICAgICAgICAgICAgICAgbGFzdFRva2VuLnRleHQgKz0gJ1xcbicgKyB0b2tlbi5yYXc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5saW5lUXVldWVbdGhpcy5pbmxpbmVRdWV1ZS5sZW5ndGggLSAxXS5zcmMgPSBsYXN0VG9rZW4udGV4dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMudG9rZW5zLmxpbmtzW3Rva2VuLnRhZ10pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b2tlbnMubGlua3NbdG9rZW4udGFnXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY6IHRva2VuLmhyZWYsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdG9rZW4udGl0bGVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0YWJsZSAoZ2ZtKVxuICAgICAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIudGFibGUoc3JjKSkge1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbGhlYWRpbmdcbiAgICAgICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmxoZWFkaW5nKHNyYykpIHtcbiAgICAgICAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRvcC1sZXZlbCBwYXJhZ3JhcGhcbiAgICAgICAgICAgIC8vIHByZXZlbnQgcGFyYWdyYXBoIGNvbnN1bWluZyBleHRlbnNpb25zIGJ5IGNsaXBwaW5nICdzcmMnIHRvIGV4dGVuc2lvbiBzdGFydFxuICAgICAgICAgICAgY3V0U3JjID0gc3JjO1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5leHRlbnNpb25zICYmIHRoaXMub3B0aW9ucy5leHRlbnNpb25zLnN0YXJ0QmxvY2spIHtcbiAgICAgICAgICAgICAgICBsZXQgc3RhcnRJbmRleCA9IEluZmluaXR5O1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBTcmMgPSBzcmMuc2xpY2UoMSk7XG4gICAgICAgICAgICAgICAgbGV0IHRlbXBTdGFydDtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5zdGFydEJsb2NrLmZvckVhY2goKGdldFN0YXJ0SW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcFN0YXJ0ID0gZ2V0U3RhcnRJbmRleC5jYWxsKHsgbGV4ZXI6IHRoaXMgfSwgdGVtcFNyYyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcFN0YXJ0ID09PSAnbnVtYmVyJyAmJiB0ZW1wU3RhcnQgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRJbmRleCA9IE1hdGgubWluKHN0YXJ0SW5kZXgsIHRlbXBTdGFydCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnRJbmRleCA8IEluZmluaXR5ICYmIHN0YXJ0SW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjdXRTcmMgPSBzcmMuc3Vic3RyaW5nKDAsIHN0YXJ0SW5kZXggKyAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS50b3AgJiYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIucGFyYWdyYXBoKGN1dFNyYykpKSB7XG4gICAgICAgICAgICAgICAgbGFzdFRva2VuID0gdG9rZW5zW3Rva2Vucy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICBpZiAobGFzdFBhcmFncmFwaENsaXBwZWQgJiYgbGFzdFRva2VuLnR5cGUgPT09ICdwYXJhZ3JhcGgnKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RUb2tlbi5yYXcgKz0gJ1xcbicgKyB0b2tlbi5yYXc7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RUb2tlbi50ZXh0ICs9ICdcXG4nICsgdG9rZW4udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmxpbmVRdWV1ZS5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmxpbmVRdWV1ZVt0aGlzLmlubGluZVF1ZXVlLmxlbmd0aCAtIDFdLnNyYyA9IGxhc3RUb2tlbi50ZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsYXN0UGFyYWdyYXBoQ2xpcHBlZCA9IChjdXRTcmMubGVuZ3RoICE9PSBzcmMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGV4dFxuICAgICAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIudGV4dChzcmMpKSB7XG4gICAgICAgICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBsYXN0VG9rZW4gPSB0b2tlbnNbdG9rZW5zLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0VG9rZW4gJiYgbGFzdFRva2VuLnR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgICAgICAgICBsYXN0VG9rZW4ucmF3ICs9ICdcXG4nICsgdG9rZW4ucmF3O1xuICAgICAgICAgICAgICAgICAgICBsYXN0VG9rZW4udGV4dCArPSAnXFxuJyArIHRva2VuLnRleHQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5saW5lUXVldWUucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5saW5lUXVldWVbdGhpcy5pbmxpbmVRdWV1ZS5sZW5ndGggLSAxXS5zcmMgPSBsYXN0VG9rZW4udGV4dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3JjKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyTXNnID0gJ0luZmluaXRlIGxvb3Agb24gYnl0ZTogJyArIHNyYy5jaGFyQ29kZUF0KDApO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2lsZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyTXNnKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyTXNnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZS50b3AgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdG9rZW5zO1xuICAgIH1cbiAgICBpbmxpbmUoc3JjLCB0b2tlbnMgPSBbXSkge1xuICAgICAgICB0aGlzLmlubGluZVF1ZXVlLnB1c2goeyBzcmMsIHRva2VucyB9KTtcbiAgICAgICAgcmV0dXJuIHRva2VucztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGV4aW5nL0NvbXBpbGluZ1xuICAgICAqL1xuICAgIGlubGluZVRva2VucyhzcmMsIHRva2VucyA9IFtdKSB7XG4gICAgICAgIGxldCB0b2tlbiwgbGFzdFRva2VuLCBjdXRTcmM7XG4gICAgICAgIC8vIFN0cmluZyB3aXRoIGxpbmtzIG1hc2tlZCB0byBhdm9pZCBpbnRlcmZlcmVuY2Ugd2l0aCBlbSBhbmQgc3Ryb25nXG4gICAgICAgIGxldCBtYXNrZWRTcmMgPSBzcmM7XG4gICAgICAgIGxldCBtYXRjaDtcbiAgICAgICAgbGV0IGtlZXBQcmV2Q2hhciwgcHJldkNoYXI7XG4gICAgICAgIC8vIE1hc2sgb3V0IHJlZmxpbmtzXG4gICAgICAgIGlmICh0aGlzLnRva2Vucy5saW5rcykge1xuICAgICAgICAgICAgY29uc3QgbGlua3MgPSBPYmplY3Qua2V5cyh0aGlzLnRva2Vucy5saW5rcyk7XG4gICAgICAgICAgICBpZiAobGlua3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHdoaWxlICgobWF0Y2ggPSB0aGlzLnRva2VuaXplci5ydWxlcy5pbmxpbmUucmVmbGlua1NlYXJjaC5leGVjKG1hc2tlZFNyYykpICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmtzLmluY2x1ZGVzKG1hdGNoWzBdLnNsaWNlKG1hdGNoWzBdLmxhc3RJbmRleE9mKCdbJykgKyAxLCAtMSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXNrZWRTcmMgPSBtYXNrZWRTcmMuc2xpY2UoMCwgbWF0Y2guaW5kZXgpICsgJ1snICsgJ2EnLnJlcGVhdChtYXRjaFswXS5sZW5ndGggLSAyKSArICddJyArIG1hc2tlZFNyYy5zbGljZSh0aGlzLnRva2VuaXplci5ydWxlcy5pbmxpbmUucmVmbGlua1NlYXJjaC5sYXN0SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIE1hc2sgb3V0IG90aGVyIGJsb2Nrc1xuICAgICAgICB3aGlsZSAoKG1hdGNoID0gdGhpcy50b2tlbml6ZXIucnVsZXMuaW5saW5lLmJsb2NrU2tpcC5leGVjKG1hc2tlZFNyYykpICE9IG51bGwpIHtcbiAgICAgICAgICAgIG1hc2tlZFNyYyA9IG1hc2tlZFNyYy5zbGljZSgwLCBtYXRjaC5pbmRleCkgKyAnWycgKyAnYScucmVwZWF0KG1hdGNoWzBdLmxlbmd0aCAtIDIpICsgJ10nICsgbWFza2VkU3JjLnNsaWNlKHRoaXMudG9rZW5pemVyLnJ1bGVzLmlubGluZS5ibG9ja1NraXAubGFzdEluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBNYXNrIG91dCBlc2NhcGVkIGNoYXJhY3RlcnNcbiAgICAgICAgd2hpbGUgKChtYXRjaCA9IHRoaXMudG9rZW5pemVyLnJ1bGVzLmlubGluZS5hbnlQdW5jdHVhdGlvbi5leGVjKG1hc2tlZFNyYykpICE9IG51bGwpIHtcbiAgICAgICAgICAgIG1hc2tlZFNyYyA9IG1hc2tlZFNyYy5zbGljZSgwLCBtYXRjaC5pbmRleCkgKyAnKysnICsgbWFza2VkU3JjLnNsaWNlKHRoaXMudG9rZW5pemVyLnJ1bGVzLmlubGluZS5hbnlQdW5jdHVhdGlvbi5sYXN0SW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChzcmMpIHtcbiAgICAgICAgICAgIGlmICgha2VlcFByZXZDaGFyKSB7XG4gICAgICAgICAgICAgICAgcHJldkNoYXIgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGtlZXBQcmV2Q2hhciA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gZXh0ZW5zaW9uc1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5leHRlbnNpb25zXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5vcHRpb25zLmV4dGVuc2lvbnMuaW5saW5lXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5vcHRpb25zLmV4dGVuc2lvbnMuaW5saW5lLnNvbWUoKGV4dFRva2VuaXplcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4gPSBleHRUb2tlbml6ZXIuY2FsbCh7IGxleGVyOiB0aGlzIH0sIHNyYywgdG9rZW5zKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXNjYXBlXG4gICAgICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5lc2NhcGUoc3JjKSkge1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGFnXG4gICAgICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci50YWcoc3JjKSkge1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgbGFzdFRva2VuID0gdG9rZW5zW3Rva2Vucy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICBpZiAobGFzdFRva2VuICYmIHRva2VuLnR5cGUgPT09ICd0ZXh0JyAmJiBsYXN0VG9rZW4udHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RUb2tlbi5yYXcgKz0gdG9rZW4ucmF3O1xuICAgICAgICAgICAgICAgICAgICBsYXN0VG9rZW4udGV4dCArPSB0b2tlbi50ZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGxpbmtcbiAgICAgICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmxpbmsoc3JjKSkge1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmVmbGluaywgbm9saW5rXG4gICAgICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5yZWZsaW5rKHNyYywgdGhpcy50b2tlbnMubGlua3MpKSB7XG4gICAgICAgICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBsYXN0VG9rZW4gPSB0b2tlbnNbdG9rZW5zLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0VG9rZW4gJiYgdG9rZW4udHlwZSA9PT0gJ3RleHQnICYmIGxhc3RUb2tlbi50eXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFRva2VuLnJhdyArPSB0b2tlbi5yYXc7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RUb2tlbi50ZXh0ICs9IHRva2VuLnRleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZW0gJiBzdHJvbmdcbiAgICAgICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmVtU3Ryb25nKHNyYywgbWFza2VkU3JjLCBwcmV2Q2hhcikpIHtcbiAgICAgICAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNvZGVcbiAgICAgICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmNvZGVzcGFuKHNyYykpIHtcbiAgICAgICAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGJyXG4gICAgICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5icihzcmMpKSB7XG4gICAgICAgICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBkZWwgKGdmbSlcbiAgICAgICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmRlbChzcmMpKSB7XG4gICAgICAgICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhdXRvbGlua1xuICAgICAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuYXV0b2xpbmsoc3JjKSkge1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdXJsIChnZm0pXG4gICAgICAgICAgICBpZiAoIXRoaXMuc3RhdGUuaW5MaW5rICYmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLnVybChzcmMpKSkge1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGV4dFxuICAgICAgICAgICAgLy8gcHJldmVudCBpbmxpbmVUZXh0IGNvbnN1bWluZyBleHRlbnNpb25zIGJ5IGNsaXBwaW5nICdzcmMnIHRvIGV4dGVuc2lvbiBzdGFydFxuICAgICAgICAgICAgY3V0U3JjID0gc3JjO1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5leHRlbnNpb25zICYmIHRoaXMub3B0aW9ucy5leHRlbnNpb25zLnN0YXJ0SW5saW5lKSB7XG4gICAgICAgICAgICAgICAgbGV0IHN0YXJ0SW5kZXggPSBJbmZpbml0eTtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wU3JjID0gc3JjLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgIGxldCB0ZW1wU3RhcnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmV4dGVuc2lvbnMuc3RhcnRJbmxpbmUuZm9yRWFjaCgoZ2V0U3RhcnRJbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wU3RhcnQgPSBnZXRTdGFydEluZGV4LmNhbGwoeyBsZXhlcjogdGhpcyB9LCB0ZW1wU3JjKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wU3RhcnQgPT09ICdudW1iZXInICYmIHRlbXBTdGFydCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydEluZGV4ID0gTWF0aC5taW4oc3RhcnRJbmRleCwgdGVtcFN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChzdGFydEluZGV4IDwgSW5maW5pdHkgJiYgc3RhcnRJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1dFNyYyA9IHNyYy5zdWJzdHJpbmcoMCwgc3RhcnRJbmRleCArIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmlubGluZVRleHQoY3V0U3JjKSkge1xuICAgICAgICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuLnJhdy5zbGljZSgtMSkgIT09ICdfJykgeyAvLyBUcmFjayBwcmV2Q2hhciBiZWZvcmUgc3RyaW5nIG9mIF9fX18gc3RhcnRlZFxuICAgICAgICAgICAgICAgICAgICBwcmV2Q2hhciA9IHRva2VuLnJhdy5zbGljZSgtMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGtlZXBQcmV2Q2hhciA9IHRydWU7XG4gICAgICAgICAgICAgICAgbGFzdFRva2VuID0gdG9rZW5zW3Rva2Vucy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICBpZiAobGFzdFRva2VuICYmIGxhc3RUb2tlbi50eXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFRva2VuLnJhdyArPSB0b2tlbi5yYXc7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RUb2tlbi50ZXh0ICs9IHRva2VuLnRleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNyYykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVyck1zZyA9ICdJbmZpbml0ZSBsb29wIG9uIGJ5dGU6ICcgKyBzcmMuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNpbGVudCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVyck1zZyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyck1zZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b2tlbnM7XG4gICAgfVxufVxuXG4vKipcbiAqIFJlbmRlcmVyXG4gKi9cbmNsYXNzIF9SZW5kZXJlciB7XG4gICAgb3B0aW9ucztcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwgX2RlZmF1bHRzO1xuICAgIH1cbiAgICBjb2RlKGNvZGUsIGluZm9zdHJpbmcsIGVzY2FwZWQpIHtcbiAgICAgICAgY29uc3QgbGFuZyA9IChpbmZvc3RyaW5nIHx8ICcnKS5tYXRjaCgvXlxcUyovKT8uWzBdO1xuICAgICAgICBjb2RlID0gY29kZS5yZXBsYWNlKC9cXG4kLywgJycpICsgJ1xcbic7XG4gICAgICAgIGlmICghbGFuZykge1xuICAgICAgICAgICAgcmV0dXJuICc8cHJlPjxjb2RlPidcbiAgICAgICAgICAgICAgICArIChlc2NhcGVkID8gY29kZSA6IGVzY2FwZShjb2RlLCB0cnVlKSlcbiAgICAgICAgICAgICAgICArICc8L2NvZGU+PC9wcmU+XFxuJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJzxwcmU+PGNvZGUgY2xhc3M9XCJsYW5ndWFnZS0nXG4gICAgICAgICAgICArIGVzY2FwZShsYW5nKVxuICAgICAgICAgICAgKyAnXCI+J1xuICAgICAgICAgICAgKyAoZXNjYXBlZCA/IGNvZGUgOiBlc2NhcGUoY29kZSwgdHJ1ZSkpXG4gICAgICAgICAgICArICc8L2NvZGU+PC9wcmU+XFxuJztcbiAgICB9XG4gICAgYmxvY2txdW90ZShxdW90ZSkge1xuICAgICAgICByZXR1cm4gYDxibG9ja3F1b3RlPlxcbiR7cXVvdGV9PC9ibG9ja3F1b3RlPlxcbmA7XG4gICAgfVxuICAgIGh0bWwoaHRtbCwgYmxvY2spIHtcbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfVxuICAgIGhlYWRpbmcodGV4dCwgbGV2ZWwsIHJhdykge1xuICAgICAgICAvLyBpZ25vcmUgSURzXG4gICAgICAgIHJldHVybiBgPGgke2xldmVsfT4ke3RleHR9PC9oJHtsZXZlbH0+XFxuYDtcbiAgICB9XG4gICAgaHIoKSB7XG4gICAgICAgIHJldHVybiAnPGhyPlxcbic7XG4gICAgfVxuICAgIGxpc3QoYm9keSwgb3JkZXJlZCwgc3RhcnQpIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IG9yZGVyZWQgPyAnb2wnIDogJ3VsJztcbiAgICAgICAgY29uc3Qgc3RhcnRhdHQgPSAob3JkZXJlZCAmJiBzdGFydCAhPT0gMSkgPyAoJyBzdGFydD1cIicgKyBzdGFydCArICdcIicpIDogJyc7XG4gICAgICAgIHJldHVybiAnPCcgKyB0eXBlICsgc3RhcnRhdHQgKyAnPlxcbicgKyBib2R5ICsgJzwvJyArIHR5cGUgKyAnPlxcbic7XG4gICAgfVxuICAgIGxpc3RpdGVtKHRleHQsIHRhc2ssIGNoZWNrZWQpIHtcbiAgICAgICAgcmV0dXJuIGA8bGk+JHt0ZXh0fTwvbGk+XFxuYDtcbiAgICB9XG4gICAgY2hlY2tib3goY2hlY2tlZCkge1xuICAgICAgICByZXR1cm4gJzxpbnB1dCAnXG4gICAgICAgICAgICArIChjaGVja2VkID8gJ2NoZWNrZWQ9XCJcIiAnIDogJycpXG4gICAgICAgICAgICArICdkaXNhYmxlZD1cIlwiIHR5cGU9XCJjaGVja2JveFwiPic7XG4gICAgfVxuICAgIHBhcmFncmFwaCh0ZXh0KSB7XG4gICAgICAgIHJldHVybiBgPHA+JHt0ZXh0fTwvcD5cXG5gO1xuICAgIH1cbiAgICB0YWJsZShoZWFkZXIsIGJvZHkpIHtcbiAgICAgICAgaWYgKGJvZHkpXG4gICAgICAgICAgICBib2R5ID0gYDx0Ym9keT4ke2JvZHl9PC90Ym9keT5gO1xuICAgICAgICByZXR1cm4gJzx0YWJsZT5cXG4nXG4gICAgICAgICAgICArICc8dGhlYWQ+XFxuJ1xuICAgICAgICAgICAgKyBoZWFkZXJcbiAgICAgICAgICAgICsgJzwvdGhlYWQ+XFxuJ1xuICAgICAgICAgICAgKyBib2R5XG4gICAgICAgICAgICArICc8L3RhYmxlPlxcbic7XG4gICAgfVxuICAgIHRhYmxlcm93KGNvbnRlbnQpIHtcbiAgICAgICAgcmV0dXJuIGA8dHI+XFxuJHtjb250ZW50fTwvdHI+XFxuYDtcbiAgICB9XG4gICAgdGFibGVjZWxsKGNvbnRlbnQsIGZsYWdzKSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBmbGFncy5oZWFkZXIgPyAndGgnIDogJ3RkJztcbiAgICAgICAgY29uc3QgdGFnID0gZmxhZ3MuYWxpZ25cbiAgICAgICAgICAgID8gYDwke3R5cGV9IGFsaWduPVwiJHtmbGFncy5hbGlnbn1cIj5gXG4gICAgICAgICAgICA6IGA8JHt0eXBlfT5gO1xuICAgICAgICByZXR1cm4gdGFnICsgY29udGVudCArIGA8LyR7dHlwZX0+XFxuYDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogc3BhbiBsZXZlbCByZW5kZXJlclxuICAgICAqL1xuICAgIHN0cm9uZyh0ZXh0KSB7XG4gICAgICAgIHJldHVybiBgPHN0cm9uZz4ke3RleHR9PC9zdHJvbmc+YDtcbiAgICB9XG4gICAgZW0odGV4dCkge1xuICAgICAgICByZXR1cm4gYDxlbT4ke3RleHR9PC9lbT5gO1xuICAgIH1cbiAgICBjb2Rlc3Bhbih0ZXh0KSB7XG4gICAgICAgIHJldHVybiBgPGNvZGU+JHt0ZXh0fTwvY29kZT5gO1xuICAgIH1cbiAgICBicigpIHtcbiAgICAgICAgcmV0dXJuICc8YnI+JztcbiAgICB9XG4gICAgZGVsKHRleHQpIHtcbiAgICAgICAgcmV0dXJuIGA8ZGVsPiR7dGV4dH08L2RlbD5gO1xuICAgIH1cbiAgICBsaW5rKGhyZWYsIHRpdGxlLCB0ZXh0KSB7XG4gICAgICAgIGNvbnN0IGNsZWFuSHJlZiA9IGNsZWFuVXJsKGhyZWYpO1xuICAgICAgICBpZiAoY2xlYW5IcmVmID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGV4dDtcbiAgICAgICAgfVxuICAgICAgICBocmVmID0gY2xlYW5IcmVmO1xuICAgICAgICBsZXQgb3V0ID0gJzxhIGhyZWY9XCInICsgaHJlZiArICdcIic7XG4gICAgICAgIGlmICh0aXRsZSkge1xuICAgICAgICAgICAgb3V0ICs9ICcgdGl0bGU9XCInICsgdGl0bGUgKyAnXCInO1xuICAgICAgICB9XG4gICAgICAgIG91dCArPSAnPicgKyB0ZXh0ICsgJzwvYT4nO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICBpbWFnZShocmVmLCB0aXRsZSwgdGV4dCkge1xuICAgICAgICBjb25zdCBjbGVhbkhyZWYgPSBjbGVhblVybChocmVmKTtcbiAgICAgICAgaWYgKGNsZWFuSHJlZiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgaHJlZiA9IGNsZWFuSHJlZjtcbiAgICAgICAgbGV0IG91dCA9IGA8aW1nIHNyYz1cIiR7aHJlZn1cIiBhbHQ9XCIke3RleHR9XCJgO1xuICAgICAgICBpZiAodGl0bGUpIHtcbiAgICAgICAgICAgIG91dCArPSBgIHRpdGxlPVwiJHt0aXRsZX1cImA7XG4gICAgICAgIH1cbiAgICAgICAgb3V0ICs9ICc+JztcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgdGV4dCh0ZXh0KSB7XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cbn1cblxuLyoqXG4gKiBUZXh0UmVuZGVyZXJcbiAqIHJldHVybnMgb25seSB0aGUgdGV4dHVhbCBwYXJ0IG9mIHRoZSB0b2tlblxuICovXG5jbGFzcyBfVGV4dFJlbmRlcmVyIHtcbiAgICAvLyBubyBuZWVkIGZvciBibG9jayBsZXZlbCByZW5kZXJlcnNcbiAgICBzdHJvbmcodGV4dCkge1xuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9XG4gICAgZW0odGV4dCkge1xuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9XG4gICAgY29kZXNwYW4odGV4dCkge1xuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9XG4gICAgZGVsKHRleHQpIHtcbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuICAgIGh0bWwodGV4dCkge1xuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9XG4gICAgdGV4dCh0ZXh0KSB7XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cbiAgICBsaW5rKGhyZWYsIHRpdGxlLCB0ZXh0KSB7XG4gICAgICAgIHJldHVybiAnJyArIHRleHQ7XG4gICAgfVxuICAgIGltYWdlKGhyZWYsIHRpdGxlLCB0ZXh0KSB7XG4gICAgICAgIHJldHVybiAnJyArIHRleHQ7XG4gICAgfVxuICAgIGJyKCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxufVxuXG4vKipcbiAqIFBhcnNpbmcgJiBDb21waWxpbmdcbiAqL1xuY2xhc3MgX1BhcnNlciB7XG4gICAgb3B0aW9ucztcbiAgICByZW5kZXJlcjtcbiAgICB0ZXh0UmVuZGVyZXI7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IF9kZWZhdWx0cztcbiAgICAgICAgdGhpcy5vcHRpb25zLnJlbmRlcmVyID0gdGhpcy5vcHRpb25zLnJlbmRlcmVyIHx8IG5ldyBfUmVuZGVyZXIoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHRoaXMub3B0aW9ucy5yZW5kZXJlcjtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5vcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICB0aGlzLnRleHRSZW5kZXJlciA9IG5ldyBfVGV4dFJlbmRlcmVyKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXRpYyBQYXJzZSBNZXRob2RcbiAgICAgKi9cbiAgICBzdGF0aWMgcGFyc2UodG9rZW5zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyBfUGFyc2VyKG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gcGFyc2VyLnBhcnNlKHRva2Vucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXRpYyBQYXJzZSBJbmxpbmUgTWV0aG9kXG4gICAgICovXG4gICAgc3RhdGljIHBhcnNlSW5saW5lKHRva2Vucywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBwYXJzZXIgPSBuZXcgX1BhcnNlcihvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHBhcnNlci5wYXJzZUlubGluZSh0b2tlbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZSBMb29wXG4gICAgICovXG4gICAgcGFyc2UodG9rZW5zLCB0b3AgPSB0cnVlKSB7XG4gICAgICAgIGxldCBvdXQgPSAnJztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgICAgICAgLy8gUnVuIGFueSByZW5kZXJlciBleHRlbnNpb25zXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmV4dGVuc2lvbnMgJiYgdGhpcy5vcHRpb25zLmV4dGVuc2lvbnMucmVuZGVyZXJzICYmIHRoaXMub3B0aW9ucy5leHRlbnNpb25zLnJlbmRlcmVyc1t0b2tlbi50eXBlXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGdlbmVyaWNUb2tlbiA9IHRva2VuO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJldCA9IHRoaXMub3B0aW9ucy5leHRlbnNpb25zLnJlbmRlcmVyc1tnZW5lcmljVG9rZW4udHlwZV0uY2FsbCh7IHBhcnNlcjogdGhpcyB9LCBnZW5lcmljVG9rZW4pO1xuICAgICAgICAgICAgICAgIGlmIChyZXQgIT09IGZhbHNlIHx8ICFbJ3NwYWNlJywgJ2hyJywgJ2hlYWRpbmcnLCAnY29kZScsICd0YWJsZScsICdibG9ja3F1b3RlJywgJ2xpc3QnLCAnaHRtbCcsICdwYXJhZ3JhcGgnLCAndGV4dCddLmluY2x1ZGVzKGdlbmVyaWNUb2tlbi50eXBlKSkge1xuICAgICAgICAgICAgICAgICAgICBvdXQgKz0gcmV0IHx8ICcnO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdzcGFjZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2hyJzoge1xuICAgICAgICAgICAgICAgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5ocigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnaGVhZGluZyc6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGluZ1Rva2VuID0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmhlYWRpbmcodGhpcy5wYXJzZUlubGluZShoZWFkaW5nVG9rZW4udG9rZW5zKSwgaGVhZGluZ1Rva2VuLmRlcHRoLCB1bmVzY2FwZSh0aGlzLnBhcnNlSW5saW5lKGhlYWRpbmdUb2tlbi50b2tlbnMsIHRoaXMudGV4dFJlbmRlcmVyKSkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnY29kZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29kZVRva2VuID0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmNvZGUoY29kZVRva2VuLnRleHQsIGNvZGVUb2tlbi5sYW5nLCAhIWNvZGVUb2tlbi5lc2NhcGVkKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ3RhYmxlJzoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YWJsZVRva2VuID0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIGxldCBoZWFkZXIgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgLy8gaGVhZGVyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjZWxsID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGFibGVUb2tlbi5oZWFkZXIubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwgKz0gdGhpcy5yZW5kZXJlci50YWJsZWNlbGwodGhpcy5wYXJzZUlubGluZSh0YWJsZVRva2VuLmhlYWRlcltqXS50b2tlbnMpLCB7IGhlYWRlcjogdHJ1ZSwgYWxpZ246IHRhYmxlVG9rZW4uYWxpZ25bal0gfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyICs9IHRoaXMucmVuZGVyZXIudGFibGVyb3coY2VsbCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBib2R5ID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGFibGVUb2tlbi5yb3dzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByb3cgPSB0YWJsZVRva2VuLnJvd3Nbal07XG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IHJvdy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwgKz0gdGhpcy5yZW5kZXJlci50YWJsZWNlbGwodGhpcy5wYXJzZUlubGluZShyb3dba10udG9rZW5zKSwgeyBoZWFkZXI6IGZhbHNlLCBhbGlnbjogdGFibGVUb2tlbi5hbGlnbltrXSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkgKz0gdGhpcy5yZW5kZXJlci50YWJsZXJvdyhjZWxsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci50YWJsZShoZWFkZXIsIGJvZHkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnYmxvY2txdW90ZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmxvY2txdW90ZVRva2VuID0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB0aGlzLnBhcnNlKGJsb2NrcXVvdGVUb2tlbi50b2tlbnMpO1xuICAgICAgICAgICAgICAgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5ibG9ja3F1b3RlKGJvZHkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnbGlzdCc6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGlzdFRva2VuID0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yZGVyZWQgPSBsaXN0VG9rZW4ub3JkZXJlZDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBsaXN0VG9rZW4uc3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvb3NlID0gbGlzdFRva2VuLmxvb3NlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYm9keSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxpc3RUb2tlbi5pdGVtcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IGxpc3RUb2tlbi5pdGVtc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrZWQgPSBpdGVtLmNoZWNrZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXNrID0gaXRlbS50YXNrO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW1Cb2R5ID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS50YXNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hlY2tib3ggPSB0aGlzLnJlbmRlcmVyLmNoZWNrYm94KCEhY2hlY2tlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvb3NlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnRva2Vucy5sZW5ndGggPiAwICYmIGl0ZW0udG9rZW5zWzBdLnR5cGUgPT09ICdwYXJhZ3JhcGgnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnRva2Vuc1swXS50ZXh0ID0gY2hlY2tib3ggKyAnICcgKyBpdGVtLnRva2Vuc1swXS50ZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0udG9rZW5zWzBdLnRva2VucyAmJiBpdGVtLnRva2Vuc1swXS50b2tlbnMubGVuZ3RoID4gMCAmJiBpdGVtLnRva2Vuc1swXS50b2tlbnNbMF0udHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS50b2tlbnNbMF0udG9rZW5zWzBdLnRleHQgPSBjaGVja2JveCArICcgJyArIGl0ZW0udG9rZW5zWzBdLnRva2Vuc1swXS50ZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS50b2tlbnMudW5zaGlmdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGNoZWNrYm94ICsgJyAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbUJvZHkgKz0gY2hlY2tib3ggKyAnICc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbUJvZHkgKz0gdGhpcy5wYXJzZShpdGVtLnRva2VucywgbG9vc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9keSArPSB0aGlzLnJlbmRlcmVyLmxpc3RpdGVtKGl0ZW1Cb2R5LCB0YXNrLCAhIWNoZWNrZWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmxpc3QoYm9keSwgb3JkZXJlZCwgc3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnaHRtbCc6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaHRtbFRva2VuID0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmh0bWwoaHRtbFRva2VuLnRleHQsIGh0bWxUb2tlbi5ibG9jayk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdwYXJhZ3JhcGgnOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFncmFwaFRva2VuID0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLnBhcmFncmFwaCh0aGlzLnBhcnNlSW5saW5lKHBhcmFncmFwaFRva2VuLnRva2VucykpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAndGV4dCc6IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRleHRUb2tlbiA9IHRva2VuO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYm9keSA9IHRleHRUb2tlbi50b2tlbnMgPyB0aGlzLnBhcnNlSW5saW5lKHRleHRUb2tlbi50b2tlbnMpIDogdGV4dFRva2VuLnRleHQ7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChpICsgMSA8IHRva2Vucy5sZW5ndGggJiYgdG9rZW5zW2kgKyAxXS50eXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRUb2tlbiA9IHRva2Vuc1srK2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9keSArPSAnXFxuJyArICh0ZXh0VG9rZW4udG9rZW5zID8gdGhpcy5wYXJzZUlubGluZSh0ZXh0VG9rZW4udG9rZW5zKSA6IHRleHRUb2tlbi50ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvdXQgKz0gdG9wID8gdGhpcy5yZW5kZXJlci5wYXJhZ3JhcGgoYm9keSkgOiBib2R5O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJNc2cgPSAnVG9rZW4gd2l0aCBcIicgKyB0b2tlbi50eXBlICsgJ1wiIHR5cGUgd2FzIG5vdCBmb3VuZC4nO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNpbGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJNc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyck1zZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2UgSW5saW5lIFRva2Vuc1xuICAgICAqL1xuICAgIHBhcnNlSW5saW5lKHRva2VucywgcmVuZGVyZXIpIHtcbiAgICAgICAgcmVuZGVyZXIgPSByZW5kZXJlciB8fCB0aGlzLnJlbmRlcmVyO1xuICAgICAgICBsZXQgb3V0ID0gJyc7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IHRva2Vuc1tpXTtcbiAgICAgICAgICAgIC8vIFJ1biBhbnkgcmVuZGVyZXIgZXh0ZW5zaW9uc1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5leHRlbnNpb25zICYmIHRoaXMub3B0aW9ucy5leHRlbnNpb25zLnJlbmRlcmVycyAmJiB0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5yZW5kZXJlcnNbdG9rZW4udHlwZV0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXQgPSB0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5yZW5kZXJlcnNbdG9rZW4udHlwZV0uY2FsbCh7IHBhcnNlcjogdGhpcyB9LCB0b2tlbik7XG4gICAgICAgICAgICAgICAgaWYgKHJldCAhPT0gZmFsc2UgfHwgIVsnZXNjYXBlJywgJ2h0bWwnLCAnbGluaycsICdpbWFnZScsICdzdHJvbmcnLCAnZW0nLCAnY29kZXNwYW4nLCAnYnInLCAnZGVsJywgJ3RleHQnXS5pbmNsdWRlcyh0b2tlbi50eXBlKSkge1xuICAgICAgICAgICAgICAgICAgICBvdXQgKz0gcmV0IHx8ICcnO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdlc2NhcGUnOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVzY2FwZVRva2VuID0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIG91dCArPSByZW5kZXJlci50ZXh0KGVzY2FwZVRva2VuLnRleHQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnaHRtbCc6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFnVG9rZW4gPSB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLmh0bWwodGFnVG9rZW4udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdsaW5rJzoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5rVG9rZW4gPSB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLmxpbmsobGlua1Rva2VuLmhyZWYsIGxpbmtUb2tlbi50aXRsZSwgdGhpcy5wYXJzZUlubGluZShsaW5rVG9rZW4udG9rZW5zLCByZW5kZXJlcikpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnaW1hZ2UnOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlVG9rZW4gPSB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLmltYWdlKGltYWdlVG9rZW4uaHJlZiwgaW1hZ2VUb2tlbi50aXRsZSwgaW1hZ2VUb2tlbi50ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ3N0cm9uZyc6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3Ryb25nVG9rZW4gPSB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLnN0cm9uZyh0aGlzLnBhcnNlSW5saW5lKHN0cm9uZ1Rva2VuLnRva2VucywgcmVuZGVyZXIpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2VtJzoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbVRva2VuID0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIG91dCArPSByZW5kZXJlci5lbSh0aGlzLnBhcnNlSW5saW5lKGVtVG9rZW4udG9rZW5zLCByZW5kZXJlcikpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnY29kZXNwYW4nOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvZGVzcGFuVG9rZW4gPSB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLmNvZGVzcGFuKGNvZGVzcGFuVG9rZW4udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdicic6IHtcbiAgICAgICAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLmJyKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdkZWwnOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlbFRva2VuID0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIG91dCArPSByZW5kZXJlci5kZWwodGhpcy5wYXJzZUlubGluZShkZWxUb2tlbi50b2tlbnMsIHJlbmRlcmVyKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICd0ZXh0Jzoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0VG9rZW4gPSB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLnRleHQodGV4dFRva2VuLnRleHQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJNc2cgPSAnVG9rZW4gd2l0aCBcIicgKyB0b2tlbi50eXBlICsgJ1wiIHR5cGUgd2FzIG5vdCBmb3VuZC4nO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNpbGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJNc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyck1zZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG59XG5cbmNsYXNzIF9Ib29rcyB7XG4gICAgb3B0aW9ucztcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwgX2RlZmF1bHRzO1xuICAgIH1cbiAgICBzdGF0aWMgcGFzc1Rocm91Z2hIb29rcyA9IG5ldyBTZXQoW1xuICAgICAgICAncHJlcHJvY2VzcycsXG4gICAgICAgICdwb3N0cHJvY2VzcydcbiAgICBdKTtcbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIG1hcmtkb3duIGJlZm9yZSBtYXJrZWRcbiAgICAgKi9cbiAgICBwcmVwcm9jZXNzKG1hcmtkb3duKSB7XG4gICAgICAgIHJldHVybiBtYXJrZG93bjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJvY2VzcyBIVE1MIGFmdGVyIG1hcmtlZCBpcyBmaW5pc2hlZFxuICAgICAqL1xuICAgIHBvc3Rwcm9jZXNzKGh0bWwpIHtcbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfVxufVxuXG5jbGFzcyBNYXJrZWQge1xuICAgIGRlZmF1bHRzID0gX2dldERlZmF1bHRzKCk7XG4gICAgb3B0aW9ucyA9IHRoaXMuc2V0T3B0aW9ucztcbiAgICBwYXJzZSA9IHRoaXMuI3BhcnNlTWFya2Rvd24oX0xleGVyLmxleCwgX1BhcnNlci5wYXJzZSk7XG4gICAgcGFyc2VJbmxpbmUgPSB0aGlzLiNwYXJzZU1hcmtkb3duKF9MZXhlci5sZXhJbmxpbmUsIF9QYXJzZXIucGFyc2VJbmxpbmUpO1xuICAgIFBhcnNlciA9IF9QYXJzZXI7XG4gICAgcGFyc2VyID0gX1BhcnNlci5wYXJzZTtcbiAgICBSZW5kZXJlciA9IF9SZW5kZXJlcjtcbiAgICBUZXh0UmVuZGVyZXIgPSBfVGV4dFJlbmRlcmVyO1xuICAgIExleGVyID0gX0xleGVyO1xuICAgIGxleGVyID0gX0xleGVyLmxleDtcbiAgICBUb2tlbml6ZXIgPSBfVG9rZW5pemVyO1xuICAgIEhvb2tzID0gX0hvb2tzO1xuICAgIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICAgICAgdGhpcy51c2UoLi4uYXJncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJ1biBjYWxsYmFjayBmb3IgZXZlcnkgdG9rZW5cbiAgICAgKi9cbiAgICB3YWxrVG9rZW5zKHRva2VucywgY2FsbGJhY2spIHtcbiAgICAgICAgbGV0IHZhbHVlcyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHRva2VuIG9mIHRva2Vucykge1xuICAgICAgICAgICAgdmFsdWVzID0gdmFsdWVzLmNvbmNhdChjYWxsYmFjay5jYWxsKHRoaXMsIHRva2VuKSk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICd0YWJsZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFibGVUb2tlbiA9IHRva2VuO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNlbGwgb2YgdGFibGVUb2tlbi5oZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcyA9IHZhbHVlcy5jb25jYXQodGhpcy53YWxrVG9rZW5zKGNlbGwudG9rZW5zLCBjYWxsYmFjaykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgcm93IG9mIHRhYmxlVG9rZW4ucm93cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBjZWxsIG9mIHJvdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcyA9IHZhbHVlcy5jb25jYXQodGhpcy53YWxrVG9rZW5zKGNlbGwudG9rZW5zLCBjYWxsYmFjaykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdsaXN0Jzoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsaXN0VG9rZW4gPSB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzID0gdmFsdWVzLmNvbmNhdCh0aGlzLndhbGtUb2tlbnMobGlzdFRva2VuLml0ZW1zLCBjYWxsYmFjaykpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBnZW5lcmljVG9rZW4gPSB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVmYXVsdHMuZXh0ZW5zaW9ucz8uY2hpbGRUb2tlbnM/LltnZW5lcmljVG9rZW4udHlwZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmYXVsdHMuZXh0ZW5zaW9ucy5jaGlsZFRva2Vuc1tnZW5lcmljVG9rZW4udHlwZV0uZm9yRWFjaCgoY2hpbGRUb2tlbnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMgPSB2YWx1ZXMuY29uY2F0KHRoaXMud2Fsa1Rva2VucyhnZW5lcmljVG9rZW5bY2hpbGRUb2tlbnNdLCBjYWxsYmFjaykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ2VuZXJpY1Rva2VuLnRva2Vucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzID0gdmFsdWVzLmNvbmNhdCh0aGlzLndhbGtUb2tlbnMoZ2VuZXJpY1Rva2VuLnRva2VucywgY2FsbGJhY2spKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH1cbiAgICB1c2UoLi4uYXJncykge1xuICAgICAgICBjb25zdCBleHRlbnNpb25zID0gdGhpcy5kZWZhdWx0cy5leHRlbnNpb25zIHx8IHsgcmVuZGVyZXJzOiB7fSwgY2hpbGRUb2tlbnM6IHt9IH07XG4gICAgICAgIGFyZ3MuZm9yRWFjaCgocGFjaykgPT4ge1xuICAgICAgICAgICAgLy8gY29weSBvcHRpb25zIHRvIG5ldyBvYmplY3RcbiAgICAgICAgICAgIGNvbnN0IG9wdHMgPSB7IC4uLnBhY2sgfTtcbiAgICAgICAgICAgIC8vIHNldCBhc3luYyB0byB0cnVlIGlmIGl0IHdhcyBzZXQgdG8gdHJ1ZSBiZWZvcmVcbiAgICAgICAgICAgIG9wdHMuYXN5bmMgPSB0aGlzLmRlZmF1bHRzLmFzeW5jIHx8IG9wdHMuYXN5bmMgfHwgZmFsc2U7XG4gICAgICAgICAgICAvLyA9PS0tIFBhcnNlIFwiYWRkb25cIiBleHRlbnNpb25zIC0tPT0gLy9cbiAgICAgICAgICAgIGlmIChwYWNrLmV4dGVuc2lvbnMpIHtcbiAgICAgICAgICAgICAgICBwYWNrLmV4dGVuc2lvbnMuZm9yRWFjaCgoZXh0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZXh0Lm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZXh0ZW5zaW9uIG5hbWUgcmVxdWlyZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoJ3JlbmRlcmVyJyBpbiBleHQpIHsgLy8gUmVuZGVyZXIgZXh0ZW5zaW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldlJlbmRlcmVyID0gZXh0ZW5zaW9ucy5yZW5kZXJlcnNbZXh0Lm5hbWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZSZW5kZXJlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlcGxhY2UgZXh0ZW5zaW9uIHdpdGggZnVuYyB0byBydW4gbmV3IGV4dGVuc2lvbiBidXQgZmFsbCBiYWNrIGlmIGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9ucy5yZW5kZXJlcnNbZXh0Lm5hbWVdID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJldCA9IGV4dC5yZW5kZXJlci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJldCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IHByZXZSZW5kZXJlci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRlbnNpb25zLnJlbmRlcmVyc1tleHQubmFtZV0gPSBleHQucmVuZGVyZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCd0b2tlbml6ZXInIGluIGV4dCkgeyAvLyBUb2tlbml6ZXIgRXh0ZW5zaW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFleHQubGV2ZWwgfHwgKGV4dC5sZXZlbCAhPT0gJ2Jsb2NrJyAmJiBleHQubGV2ZWwgIT09ICdpbmxpbmUnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImV4dGVuc2lvbiBsZXZlbCBtdXN0IGJlICdibG9jaycgb3IgJ2lubGluZSdcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleHRMZXZlbCA9IGV4dGVuc2lvbnNbZXh0LmxldmVsXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleHRMZXZlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dExldmVsLnVuc2hpZnQoZXh0LnRva2VuaXplcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRlbnNpb25zW2V4dC5sZXZlbF0gPSBbZXh0LnRva2VuaXplcl07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXh0LnN0YXJ0KSB7IC8vIEZ1bmN0aW9uIHRvIGNoZWNrIGZvciBzdGFydCBvZiB0b2tlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleHQubGV2ZWwgPT09ICdibG9jaycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4dGVuc2lvbnMuc3RhcnRCbG9jaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9ucy5zdGFydEJsb2NrLnB1c2goZXh0LnN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbnMuc3RhcnRCbG9jayA9IFtleHQuc3RhcnRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGV4dC5sZXZlbCA9PT0gJ2lubGluZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4dGVuc2lvbnMuc3RhcnRJbmxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbnMuc3RhcnRJbmxpbmUucHVzaChleHQuc3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9ucy5zdGFydElubGluZSA9IFtleHQuc3RhcnRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICgnY2hpbGRUb2tlbnMnIGluIGV4dCAmJiBleHQuY2hpbGRUb2tlbnMpIHsgLy8gQ2hpbGQgdG9rZW5zIHRvIGJlIHZpc2l0ZWQgYnkgd2Fsa1Rva2Vuc1xuICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9ucy5jaGlsZFRva2Vuc1tleHQubmFtZV0gPSBleHQuY2hpbGRUb2tlbnM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBvcHRzLmV4dGVuc2lvbnMgPSBleHRlbnNpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gPT0tLSBQYXJzZSBcIm92ZXJ3cml0ZVwiIGV4dGVuc2lvbnMgLS09PSAvL1xuICAgICAgICAgICAgaWYgKHBhY2sucmVuZGVyZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuZGVmYXVsdHMucmVuZGVyZXIgfHwgbmV3IF9SZW5kZXJlcih0aGlzLmRlZmF1bHRzKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHByb3AgaW4gcGFjay5yZW5kZXJlcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZW5kZXJlckZ1bmMgPSBwYWNrLnJlbmRlcmVyW3Byb3BdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZW5kZXJlcktleSA9IHByb3A7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZSZW5kZXJlciA9IHJlbmRlcmVyW3JlbmRlcmVyS2V5XTtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVwbGFjZSByZW5kZXJlciB3aXRoIGZ1bmMgdG8gcnVuIGV4dGVuc2lvbiwgYnV0IGZhbGwgYmFjayBpZiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICByZW5kZXJlcltyZW5kZXJlcktleV0gPSAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJldCA9IHJlbmRlcmVyRnVuYy5hcHBseShyZW5kZXJlciwgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmV0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IHByZXZSZW5kZXJlci5hcHBseShyZW5kZXJlciwgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0IHx8ICcnO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvcHRzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFjay50b2tlbml6ZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbml6ZXIgPSB0aGlzLmRlZmF1bHRzLnRva2VuaXplciB8fCBuZXcgX1Rva2VuaXplcih0aGlzLmRlZmF1bHRzKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHByb3AgaW4gcGFjay50b2tlbml6ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9rZW5pemVyRnVuYyA9IHBhY2sudG9rZW5pemVyW3Byb3BdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b2tlbml6ZXJLZXkgPSBwcm9wO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2VG9rZW5pemVyID0gdG9rZW5pemVyW3Rva2VuaXplcktleV07XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlcGxhY2UgdG9rZW5pemVyIHdpdGggZnVuYyB0byBydW4gZXh0ZW5zaW9uLCBidXQgZmFsbCBiYWNrIGlmIGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIHRva2VuaXplclt0b2tlbml6ZXJLZXldID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXQgPSB0b2tlbml6ZXJGdW5jLmFwcGx5KHRva2VuaXplciwgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmV0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IHByZXZUb2tlbml6ZXIuYXBwbHkodG9rZW5pemVyLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9wdHMudG9rZW5pemVyID0gdG9rZW5pemVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gPT0tLSBQYXJzZSBIb29rcyBleHRlbnNpb25zIC0tPT0gLy9cbiAgICAgICAgICAgIGlmIChwYWNrLmhvb2tzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaG9va3MgPSB0aGlzLmRlZmF1bHRzLmhvb2tzIHx8IG5ldyBfSG9va3MoKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHByb3AgaW4gcGFjay5ob29rcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBob29rc0Z1bmMgPSBwYWNrLmhvb2tzW3Byb3BdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBob29rc0tleSA9IHByb3A7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZIb29rID0gaG9va3NbaG9va3NLZXldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX0hvb2tzLnBhc3NUaHJvdWdoSG9va3MuaGFzKHByb3ApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBob29rc1tob29rc0tleV0gPSAoYXJnKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVmYXVsdHMuYXN5bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShob29rc0Z1bmMuY2FsbChob29rcywgYXJnKSkudGhlbihyZXQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXZIb29rLmNhbGwoaG9va3MsIHJldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXQgPSBob29rc0Z1bmMuY2FsbChob29rcywgYXJnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldkhvb2suY2FsbChob29rcywgcmV0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBob29rc1tob29rc0tleV0gPSAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXQgPSBob29rc0Z1bmMuYXBwbHkoaG9va3MsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IHByZXZIb29rLmFwcGx5KGhvb2tzLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3B0cy5ob29rcyA9IGhvb2tzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gPT0tLSBQYXJzZSBXYWxrVG9rZW5zIGV4dGVuc2lvbnMgLS09PSAvL1xuICAgICAgICAgICAgaWYgKHBhY2sud2Fsa1Rva2Vucykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdhbGtUb2tlbnMgPSB0aGlzLmRlZmF1bHRzLndhbGtUb2tlbnM7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFja1dhbGt0b2tlbnMgPSBwYWNrLndhbGtUb2tlbnM7XG4gICAgICAgICAgICAgICAgb3B0cy53YWxrVG9rZW5zID0gZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzLnB1c2gocGFja1dhbGt0b2tlbnMuY2FsbCh0aGlzLCB0b2tlbikpO1xuICAgICAgICAgICAgICAgICAgICBpZiAod2Fsa1Rva2Vucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzID0gdmFsdWVzLmNvbmNhdCh3YWxrVG9rZW5zLmNhbGwodGhpcywgdG9rZW4pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRzID0geyAuLi50aGlzLmRlZmF1bHRzLCAuLi5vcHRzIH07XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2V0T3B0aW9ucyhvcHQpIHtcbiAgICAgICAgdGhpcy5kZWZhdWx0cyA9IHsgLi4udGhpcy5kZWZhdWx0cywgLi4ub3B0IH07XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAjcGFyc2VNYXJrZG93bihsZXhlciwgcGFyc2VyKSB7XG4gICAgICAgIHJldHVybiAoc3JjLCBvcHRpb25zKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvcmlnT3B0ID0geyAuLi5vcHRpb25zIH07XG4gICAgICAgICAgICBjb25zdCBvcHQgPSB7IC4uLnRoaXMuZGVmYXVsdHMsIC4uLm9yaWdPcHQgfTtcbiAgICAgICAgICAgIC8vIFNob3cgd2FybmluZyBpZiBhbiBleHRlbnNpb24gc2V0IGFzeW5jIHRvIHRydWUgYnV0IHRoZSBwYXJzZSB3YXMgY2FsbGVkIHdpdGggYXN5bmM6IGZhbHNlXG4gICAgICAgICAgICBpZiAodGhpcy5kZWZhdWx0cy5hc3luYyA9PT0gdHJ1ZSAmJiBvcmlnT3B0LmFzeW5jID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGlmICghb3B0LnNpbGVudCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ21hcmtlZCgpOiBUaGUgYXN5bmMgb3B0aW9uIHdhcyBzZXQgdG8gdHJ1ZSBieSBhbiBleHRlbnNpb24uIFRoZSBhc3luYzogZmFsc2Ugb3B0aW9uIHNlbnQgdG8gcGFyc2Ugd2lsbCBiZSBpZ25vcmVkLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvcHQuYXN5bmMgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdGhyb3dFcnJvciA9IHRoaXMuI29uRXJyb3IoISFvcHQuc2lsZW50LCAhIW9wdC5hc3luYyk7XG4gICAgICAgICAgICAvLyB0aHJvdyBlcnJvciBpbiBjYXNlIG9mIG5vbiBzdHJpbmcgaW5wdXRcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc3JjID09PSAndW5kZWZpbmVkJyB8fCBzcmMgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhyb3dFcnJvcihuZXcgRXJyb3IoJ21hcmtlZCgpOiBpbnB1dCBwYXJhbWV0ZXIgaXMgdW5kZWZpbmVkIG9yIG51bGwnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNyYyAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhyb3dFcnJvcihuZXcgRXJyb3IoJ21hcmtlZCgpOiBpbnB1dCBwYXJhbWV0ZXIgaXMgb2YgdHlwZSAnXG4gICAgICAgICAgICAgICAgICAgICsgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHNyYykgKyAnLCBzdHJpbmcgZXhwZWN0ZWQnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0Lmhvb2tzKSB7XG4gICAgICAgICAgICAgICAgb3B0Lmhvb2tzLm9wdGlvbnMgPSBvcHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0LmFzeW5jKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShvcHQuaG9va3MgPyBvcHQuaG9va3MucHJlcHJvY2VzcyhzcmMpIDogc3JjKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihzcmMgPT4gbGV4ZXIoc3JjLCBvcHQpKVxuICAgICAgICAgICAgICAgICAgICAudGhlbih0b2tlbnMgPT4gb3B0LndhbGtUb2tlbnMgPyBQcm9taXNlLmFsbCh0aGlzLndhbGtUb2tlbnModG9rZW5zLCBvcHQud2Fsa1Rva2VucykpLnRoZW4oKCkgPT4gdG9rZW5zKSA6IHRva2VucylcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4odG9rZW5zID0+IHBhcnNlcih0b2tlbnMsIG9wdCkpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGh0bWwgPT4gb3B0Lmhvb2tzID8gb3B0Lmhvb2tzLnBvc3Rwcm9jZXNzKGh0bWwpIDogaHRtbClcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKHRocm93RXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAob3B0Lmhvb2tzKSB7XG4gICAgICAgICAgICAgICAgICAgIHNyYyA9IG9wdC5ob29rcy5wcmVwcm9jZXNzKHNyYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHRva2VucyA9IGxleGVyKHNyYywgb3B0KTtcbiAgICAgICAgICAgICAgICBpZiAob3B0LndhbGtUb2tlbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53YWxrVG9rZW5zKHRva2Vucywgb3B0LndhbGtUb2tlbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgaHRtbCA9IHBhcnNlcih0b2tlbnMsIG9wdCk7XG4gICAgICAgICAgICAgICAgaWYgKG9wdC5ob29rcykge1xuICAgICAgICAgICAgICAgICAgICBodG1sID0gb3B0Lmhvb2tzLnBvc3Rwcm9jZXNzKGh0bWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaHRtbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRocm93RXJyb3IoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgICNvbkVycm9yKHNpbGVudCwgYXN5bmMpIHtcbiAgICAgICAgcmV0dXJuIChlKSA9PiB7XG4gICAgICAgICAgICBlLm1lc3NhZ2UgKz0gJ1xcblBsZWFzZSByZXBvcnQgdGhpcyB0byBodHRwczovL2dpdGh1Yi5jb20vbWFya2VkanMvbWFya2VkLic7XG4gICAgICAgICAgICBpZiAoc2lsZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbXNnID0gJzxwPkFuIGVycm9yIG9jY3VycmVkOjwvcD48cHJlPidcbiAgICAgICAgICAgICAgICAgICAgKyBlc2NhcGUoZS5tZXNzYWdlICsgJycsIHRydWUpXG4gICAgICAgICAgICAgICAgICAgICsgJzwvcHJlPic7XG4gICAgICAgICAgICAgICAgaWYgKGFzeW5jKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobXNnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1zZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhc3luYykge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH07XG4gICAgfVxufVxuXG5jb25zdCBtYXJrZWRJbnN0YW5jZSA9IG5ldyBNYXJrZWQoKTtcbmZ1bmN0aW9uIG1hcmtlZChzcmMsIG9wdCkge1xuICAgIHJldHVybiBtYXJrZWRJbnN0YW5jZS5wYXJzZShzcmMsIG9wdCk7XG59XG4vKipcbiAqIFNldHMgdGhlIGRlZmF1bHQgb3B0aW9ucy5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyBIYXNoIG9mIG9wdGlvbnNcbiAqL1xubWFya2VkLm9wdGlvbnMgPVxuICAgIG1hcmtlZC5zZXRPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgbWFya2VkSW5zdGFuY2Uuc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgbWFya2VkLmRlZmF1bHRzID0gbWFya2VkSW5zdGFuY2UuZGVmYXVsdHM7XG4gICAgICAgIGNoYW5nZURlZmF1bHRzKG1hcmtlZC5kZWZhdWx0cyk7XG4gICAgICAgIHJldHVybiBtYXJrZWQ7XG4gICAgfTtcbi8qKlxuICogR2V0cyB0aGUgb3JpZ2luYWwgbWFya2VkIGRlZmF1bHQgb3B0aW9ucy5cbiAqL1xubWFya2VkLmdldERlZmF1bHRzID0gX2dldERlZmF1bHRzO1xubWFya2VkLmRlZmF1bHRzID0gX2RlZmF1bHRzO1xuLyoqXG4gKiBVc2UgRXh0ZW5zaW9uXG4gKi9cbm1hcmtlZC51c2UgPSBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgIG1hcmtlZEluc3RhbmNlLnVzZSguLi5hcmdzKTtcbiAgICBtYXJrZWQuZGVmYXVsdHMgPSBtYXJrZWRJbnN0YW5jZS5kZWZhdWx0cztcbiAgICBjaGFuZ2VEZWZhdWx0cyhtYXJrZWQuZGVmYXVsdHMpO1xuICAgIHJldHVybiBtYXJrZWQ7XG59O1xuLyoqXG4gKiBSdW4gY2FsbGJhY2sgZm9yIGV2ZXJ5IHRva2VuXG4gKi9cbm1hcmtlZC53YWxrVG9rZW5zID0gZnVuY3Rpb24gKHRva2VucywgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gbWFya2VkSW5zdGFuY2Uud2Fsa1Rva2Vucyh0b2tlbnMsIGNhbGxiYWNrKTtcbn07XG4vKipcbiAqIENvbXBpbGVzIG1hcmtkb3duIHRvIEhUTUwgd2l0aG91dCBlbmNsb3NpbmcgYHBgIHRhZy5cbiAqXG4gKiBAcGFyYW0gc3JjIFN0cmluZyBvZiBtYXJrZG93biBzb3VyY2UgdG8gYmUgY29tcGlsZWRcbiAqIEBwYXJhbSBvcHRpb25zIEhhc2ggb2Ygb3B0aW9uc1xuICogQHJldHVybiBTdHJpbmcgb2YgY29tcGlsZWQgSFRNTFxuICovXG5tYXJrZWQucGFyc2VJbmxpbmUgPSBtYXJrZWRJbnN0YW5jZS5wYXJzZUlubGluZTtcbi8qKlxuICogRXhwb3NlXG4gKi9cbm1hcmtlZC5QYXJzZXIgPSBfUGFyc2VyO1xubWFya2VkLnBhcnNlciA9IF9QYXJzZXIucGFyc2U7XG5tYXJrZWQuUmVuZGVyZXIgPSBfUmVuZGVyZXI7XG5tYXJrZWQuVGV4dFJlbmRlcmVyID0gX1RleHRSZW5kZXJlcjtcbm1hcmtlZC5MZXhlciA9IF9MZXhlcjtcbm1hcmtlZC5sZXhlciA9IF9MZXhlci5sZXg7XG5tYXJrZWQuVG9rZW5pemVyID0gX1Rva2VuaXplcjtcbm1hcmtlZC5Ib29rcyA9IF9Ib29rcztcbm1hcmtlZC5wYXJzZSA9IG1hcmtlZDtcbmNvbnN0IG9wdGlvbnMgPSBtYXJrZWQub3B0aW9ucztcbmNvbnN0IHNldE9wdGlvbnMgPSBtYXJrZWQuc2V0T3B0aW9ucztcbmNvbnN0IHVzZSA9IG1hcmtlZC51c2U7XG5jb25zdCB3YWxrVG9rZW5zID0gbWFya2VkLndhbGtUb2tlbnM7XG5jb25zdCBwYXJzZUlubGluZSA9IG1hcmtlZC5wYXJzZUlubGluZTtcbmNvbnN0IHBhcnNlID0gbWFya2VkO1xuY29uc3QgcGFyc2VyID0gX1BhcnNlci5wYXJzZTtcbmNvbnN0IGxleGVyID0gX0xleGVyLmxleDtcblxuZXhwb3J0IHsgX0hvb2tzIGFzIEhvb2tzLCBfTGV4ZXIgYXMgTGV4ZXIsIE1hcmtlZCwgX1BhcnNlciBhcyBQYXJzZXIsIF9SZW5kZXJlciBhcyBSZW5kZXJlciwgX1RleHRSZW5kZXJlciBhcyBUZXh0UmVuZGVyZXIsIF9Ub2tlbml6ZXIgYXMgVG9rZW5pemVyLCBfZGVmYXVsdHMgYXMgZGVmYXVsdHMsIF9nZXREZWZhdWx0cyBhcyBnZXREZWZhdWx0cywgbGV4ZXIsIG1hcmtlZCwgb3B0aW9ucywgcGFyc2UsIHBhcnNlSW5saW5lLCBwYXJzZXIsIHNldE9wdGlvbnMsIHVzZSwgd2Fsa1Rva2VucyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFya2VkLmVzbS5qcy5tYXBcbiJdLCJuYW1lcyI6WyJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiLCJzb3VyY2UiLCJleGNsdWRlZCIsImtleSIsImkiLCJ0YXJnZXQiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSIsInNvdXJjZUtleXMiLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwiaW5kZXhPZiIsImdldE93blByb3BlcnR5U3ltYm9scyIsInNvdXJjZVN5bWJvbEtleXMiLCJwcm90b3R5cGUiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsImNhbGwiLCJfZ2V0RGVmYXVsdHMiLCJhc3luYyIsImJyZWFrcyIsImV4dGVuc2lvbnMiLCJnZm0iLCJob29rcyIsInBlZGFudGljIiwicmVuZGVyZXIiLCJzaWxlbnQiLCJ0b2tlbml6ZXIiLCJ3YWxrVG9rZW5zIiwiX2RlZmF1bHRzIiwiY2hhbmdlRGVmYXVsdHMiLCJuZXdEZWZhdWx0cyIsImVzY2FwZVRlc3QiLCJlc2NhcGVSZXBsYWNlIiwiUmVnRXhwIiwiZXNjYXBlVGVzdE5vRW5jb2RlIiwiZXNjYXBlUmVwbGFjZU5vRW5jb2RlIiwiZXNjYXBlUmVwbGFjZW1lbnRzIiwiZ2V0RXNjYXBlUmVwbGFjZW1lbnQiLCJjaCIsImVzY2FwZSIsImh0bWwiLCJlbmNvZGUiLCJ0ZXN0IiwicmVwbGFjZSIsInVuZXNjYXBlVGVzdCIsImNhcmV0IiwiZWRpdCIsInJlZ2V4Iiwib3B0Iiwib2JqIiwibmFtZSIsInZhbCIsImdldFJlZ2V4IiwiY2xlYW5VcmwiLCJocmVmIiwiZW5jb2RlVVJJIiwiZSIsIm5vb3BUZXN0IiwiZXhlYyIsInNwbGl0Q2VsbHMiLCJ0YWJsZVJvdyIsImNvdW50IiwiY2VsbHMiLCJtYXRjaCIsIm9mZnNldCIsInN0ciIsImVzY2FwZWQiLCJjdXJyIiwic3BsaXQiLCJ0cmltIiwic2hpZnQiLCJwb3AiLCJzcGxpY2UiLCJwdXNoIiwicnRyaW0iLCJjIiwiaW52ZXJ0IiwibCIsInN1ZmZMZW4iLCJjdXJyQ2hhciIsImNoYXJBdCIsInNsaWNlIiwib3V0cHV0TGluayIsImNhcCIsImxpbmsiLCJyYXciLCJsZXhlciIsInRpdGxlIiwidGV4dCIsInN0YXRlIiwiaW5MaW5rIiwidG9rZW4iLCJ0eXBlIiwidG9rZW5zIiwiaW5saW5lVG9rZW5zIiwiX1Rva2VuaXplciIsIm9wdGlvbnMiLCJydWxlcyIsImNvbnN0cnVjdG9yIiwidGhpcyIsInNwYWNlIiwic3JjIiwiYmxvY2siLCJuZXdsaW5lIiwiY29kZSIsImNvZGVCbG9ja1N0eWxlIiwiZmVuY2VzIiwiaW5kZW50Q29kZUNvbXBlbnNhdGlvbiIsIm1hdGNoSW5kZW50VG9Db2RlIiwiaW5kZW50VG9Db2RlIiwibWFwIiwibm9kZSIsIm1hdGNoSW5kZW50SW5Ob2RlIiwiaW5kZW50SW5Ob2RlIiwiam9pbiIsImxhbmciLCJpbmxpbmUiLCJfZXNjYXBlcyIsImhlYWRpbmciLCJ0cmltbWVkIiwiZGVwdGgiLCJociIsImJsb2NrcXVvdGUiLCJ0b3AiLCJibG9ja1Rva2VucyIsImxpc3QiLCJidWxsIiwiaXNvcmRlcmVkIiwib3JkZXJlZCIsInN0YXJ0IiwibG9vc2UiLCJpdGVtcyIsIml0ZW1SZWdleCIsIml0ZW1Db250ZW50cyIsImVuZHNXaXRoQmxhbmtMaW5lIiwiZW5kRWFybHkiLCJzdWJzdHJpbmciLCJsaW5lIiwidCIsInJlcGVhdCIsIm5leHRMaW5lIiwiaW5kZW50IiwidHJpbVN0YXJ0Iiwic2VhcmNoIiwiYmxhbmtMaW5lIiwibmV4dEJ1bGxldFJlZ2V4IiwiTWF0aCIsIm1pbiIsImhyUmVnZXgiLCJmZW5jZXNCZWdpblJlZ2V4IiwiaGVhZGluZ0JlZ2luUmVnZXgiLCJyYXdMaW5lIiwiaXNjaGVja2VkIiwiaXN0YXNrIiwidGFzayIsImNoZWNrZWQiLCJ0cmltRW5kIiwic3BhY2VycyIsImZpbHRlciIsImhhc011bHRpcGxlTGluZUJyZWFrcyIsInNvbWUiLCJwcmUiLCJkZWYiLCJ0YWciLCJ0b0xvd2VyQ2FzZSIsInRhYmxlIiwiaXRlbSIsImhlYWRlciIsImFsaWduIiwicm93cyIsImoiLCJrIiwicm93IiwibGhlYWRpbmciLCJwYXJhZ3JhcGgiLCJpblJhd0Jsb2NrIiwidHJpbW1lZFVybCIsInJ0cmltU2xhc2giLCJsYXN0UGFyZW5JbmRleCIsImZpbmRDbG9zaW5nQnJhY2tldCIsImIiLCJsZXZlbCIsImxpbmtMZW4iLCJyZWZsaW5rIiwibGlua3MiLCJub2xpbmsiLCJlbVN0cm9uZyIsIm1hc2tlZFNyYyIsInByZXZDaGFyIiwibERlbGltIiwicHVuY3R1YXRpb24iLCJsTGVuZ3RoIiwickRlbGltIiwickxlbmd0aCIsImRlbGltVG90YWwiLCJtaWREZWxpbVRvdGFsIiwiZW5kUmVnIiwickRlbGltQXN0IiwickRlbGltVW5kIiwibGFzdEluZGV4IiwiaW5kZXgiLCJjb2Rlc3BhbiIsImhhc05vblNwYWNlQ2hhcnMiLCJoYXNTcGFjZUNoYXJzT25Cb3RoRW5kcyIsImJyIiwiZGVsIiwiYXV0b2xpbmsiLCJ1cmwiLCJwcmV2Q2FwWmVybyIsIl9iYWNrcGVkYWwiLCJpbmxpbmVUZXh0IiwiX3BhcmFncmFwaCIsIl9sYWJlbCIsIl90aXRsZSIsImJ1bGxldCIsImxpc3RJdGVtU3RhcnQiLCJfdGFnIiwiX2NvbW1lbnQiLCJub3JtYWwiLCJyZWZsaW5rU2VhcmNoIiwiX3B1bmN0dWF0aW9uIiwiYmxvY2tTa2lwIiwiYW55UHVuY3R1YXRpb24iLCJfc2NoZW1lIiwiX2VtYWlsIiwiX2F0dHJpYnV0ZSIsIl9ocmVmIiwic3Ryb25nIiwibWlkZGxlIiwiZW5kQXN0IiwiZW5kVW5kIiwiZW0iLCJfZXh0ZW5kZWRfZW1haWwiLCJfTGV4ZXIiLCJpbmxpbmVRdWV1ZSIsImNyZWF0ZSIsImxleCIsImxleElubGluZSIsIm5leHQiLCJsYXN0VG9rZW4iLCJjdXRTcmMiLCJsYXN0UGFyYWdyYXBoQ2xpcHBlZCIsIl8iLCJsZWFkaW5nIiwidGFicyIsImV4dFRva2VuaXplciIsInN0YXJ0QmxvY2siLCJzdGFydEluZGV4IiwiSW5maW5pdHkiLCJ0ZW1wU3JjIiwidGVtcFN0YXJ0IiwiZm9yRWFjaCIsImdldFN0YXJ0SW5kZXgiLCJlcnJNc2ciLCJjaGFyQ29kZUF0IiwiY29uc29sZSIsImVycm9yIiwiRXJyb3IiLCJrZWVwUHJldkNoYXIiLCJpbmNsdWRlcyIsImxhc3RJbmRleE9mIiwic3RhcnRJbmxpbmUiLCJfUmVuZGVyZXIiLCJpbmZvc3RyaW5nIiwicXVvdGUiLCJib2R5IiwibGlzdGl0ZW0iLCJjaGVja2JveCIsInRhYmxlcm93IiwiY29udGVudCIsInRhYmxlY2VsbCIsImZsYWdzIiwiY2xlYW5IcmVmIiwib3V0IiwiaW1hZ2UiLCJfVGV4dFJlbmRlcmVyIiwiX1BhcnNlciIsInRleHRSZW5kZXJlciIsInBhcnNlIiwicGFyc2VJbmxpbmUiLCJyZW5kZXJlcnMiLCJnZW5lcmljVG9rZW4iLCJyZXQiLCJwYXJzZXIiLCJoZWFkaW5nVG9rZW4iLCJuIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwicGFyc2VJbnQiLCJjb2RlVG9rZW4iLCJ0YWJsZVRva2VuIiwiY2VsbCIsImJsb2NrcXVvdGVUb2tlbiIsImxpc3RUb2tlbiIsIml0ZW1Cb2R5IiwidW5zaGlmdCIsImh0bWxUb2tlbiIsInBhcmFncmFwaFRva2VuIiwidGV4dFRva2VuIiwiZXNjYXBlVG9rZW4iLCJ0YWdUb2tlbiIsImxpbmtUb2tlbiIsImltYWdlVG9rZW4iLCJzdHJvbmdUb2tlbiIsImVtVG9rZW4iLCJjb2Rlc3BhblRva2VuIiwiZGVsVG9rZW4iLCJfSG9va3MiLCJzdGF0aWMiLCJTZXQiLCJwcmVwcm9jZXNzIiwibWFya2Rvd24iLCJwb3N0cHJvY2VzcyIsIm1hcmtlZEluc3RhbmNlIiwiTWFya2VkIiwiZGVmYXVsdHMiLCJzZXRPcHRpb25zIiwiUGFyc2VyIiwiUmVuZGVyZXIiLCJUZXh0UmVuZGVyZXIiLCJMZXhlciIsIlRva2VuaXplciIsIkhvb2tzIiwiYXJncyIsInVzZSIsImNhbGxiYWNrIiwidmFsdWVzIiwiY29uY2F0IiwiY2hpbGRUb2tlbnMiLCJwYWNrIiwib3B0cyIsImV4dCIsInByZXZSZW5kZXJlciIsImFwcGx5IiwiZXh0TGV2ZWwiLCJwcm9wIiwicmVuZGVyZXJGdW5jIiwicmVuZGVyZXJLZXkiLCJ0b2tlbml6ZXJGdW5jIiwidG9rZW5pemVyS2V5IiwicHJldlRva2VuaXplciIsImhvb2tzRnVuYyIsImhvb2tzS2V5IiwicHJldkhvb2siLCJwYXNzVGhyb3VnaEhvb2tzIiwiaGFzIiwiYXJnIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0aGVuIiwicGFja1dhbGt0b2tlbnMiLCJvcmlnT3B0Iiwid2FybiIsInRocm93RXJyb3IiLCJ0b1N0cmluZyIsImFsbCIsImNhdGNoIiwibWVzc2FnZSIsIm1zZyIsInJlamVjdCIsIm1hcmtlZCIsImdldERlZmF1bHRzIl0sInNvdXJjZVJvb3QiOiIifQ==