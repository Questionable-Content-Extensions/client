"use strict";(self.webpackChunkquestionable_content_spa=self.webpackChunkquestionable_content_spa||[]).push([[192],{"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return _slicedToArray}});var unsupportedIterableToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||(0,unsupportedIterableToArray.Z)(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},"./src/components/Modals/ModalPageOverlay/ModalPageOverlay.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:function(){return Default},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return ModalPageOverlay_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),utils=__webpack_require__("./src/utils.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function ModalDialogSeat(_ref){var show=_ref.show,_onClick=_ref.onClick,children=_ref.children,_useState=(0,react.useState)(!show),_useState2=(0,slicedToArray.Z)(_useState,2),hidden=_useState2[0],setHidden=_useState2[1];return(0,react.useEffect)((function(){show&&((0,utils.fF)("Unhiding dialog seat"),setHidden(!1))}),[show,setHidden]),(0,jsx_runtime.jsx)("div",{"data-dialog-seat":"true",className:"fixed left-0 w-full h-full outline-none overflow-hidden grid place-items-center transition-[top] duration-1000"+(show?" top-0":" top-[100vh] pointer-events-none")+(hidden?" invisible":""),style:{zIndex:2e3},onClick:function onClick(event){_onClick&&(event.target.dataset.dialogSeat&&((0,utils.fF)("Dialog seat on-click"),_onClick()))},onTransitionEnd:function onTransitionEnd(e){var target=e.target;target.dataset.dialogSeat&&!target.classList.contains("top-0")&&((0,utils.fF)("Hiding dialog seat; was already hidden:",hidden),setHidden(!0))},children:children})}try{ModalDialogSeat.displayName="ModalDialogSeat",ModalDialogSeat.__docgenInfo={description:"",displayName:"ModalDialogSeat",props:{show:{defaultValue:null,description:"",name:"show",required:!0,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Modals/ModalDialogSeat/ModalDialogSeat.tsx#ModalDialogSeat"]={docgenInfo:ModalDialogSeat.__docgenInfo,name:"ModalDialogSeat",path:"src/components/Modals/ModalDialogSeat/ModalDialogSeat.tsx#ModalDialogSeat"})}catch(__react_docgen_typescript_loader_error){}var _Default$parameters,_Default$parameters2,_Default$parameters2$,external_STORYBOOK_MODULE_PREVIEW_API_=__webpack_require__("@storybook/preview-api"),ModalPageOverlay_module_modalPageOverlay="ModalPageOverlay_modalPageOverlay__NObGU",ModalPageOverlay_module_show="ModalPageOverlay_show__rB60B",ModalPageOverlay_module_fadedIn="ModalPageOverlay_fadedIn__u54gC",ModalPageOverlay_module_fade_in="ModalPageOverlay_fade-in__3WqlY",ModalPageOverlay_module_fade_out="ModalPageOverlay_fade-out__KIBTJ",OverlayContext=(0,react.createContext)([!1,function(){}]);function ModalPageOverlay(_ref){var show=_ref.show,_onClick=_ref.onClick,originalBodyOverflow=(0,react.useMemo)((function(){return document.body.style.overflow}),[]),_useState=(0,react.useState)(!1),_useState2=(0,slicedToArray.Z)(_useState,2),fadedIn=_useState2[0],setFadedIn=_useState2[1],_useContext=(0,react.useContext)(OverlayContext),_useContext2=(0,slicedToArray.Z)(_useContext,2),setActive=(_useContext2[0],_useContext2[1]);return(0,react.useEffect)((function(){var body=document.getElementById("qc-ext-body-container");show&&"hidden"!==document.body.style.overflow?((0,utils.fF)("Hiding body overflow"),document.body.style.overflow="hidden",body.setAttribute("aria-hidden","true"),setActive(!0)):show||document.body.style.overflow===originalBodyOverflow||((0,utils.fF)("Restoring body overflow"),document.body.style.overflow=originalBodyOverflow,body.setAttribute("aria-hidden",""),setActive(!1))}),[show,originalBodyOverflow,setActive]),(0,jsx_runtime.jsx)("div",{className:"fixed top-0 left-0 w-full h-full outline-none overflow-x-hidden overflow-y-auto "+ModalPageOverlay_module_modalPageOverlay+(show?" "+ModalPageOverlay_module_show:" pointer-events-none")+(fadedIn?" "+ModalPageOverlay_module_fadedIn:""),style:{zIndex:1e3},tabIndex:-1,"aria-hidden":!show,onClick:function onClick(){_onClick&&((0,utils.fF)("Page overlay on-click"),_onClick())},onAnimationStart:function onAnimationStart(e){e.animationName===ModalPageOverlay_module_fade_in&&setFadedIn(!0)},onAnimationEnd:function onAnimationEnd(e){e.animationName===ModalPageOverlay_module_fade_out&&setFadedIn(!1)}})}try{ModalPageOverlay.displayName="ModalPageOverlay",ModalPageOverlay.__docgenInfo={description:"",displayName:"ModalPageOverlay",props:{show:{defaultValue:null,description:"",name:"show",required:!0,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Modals/ModalPageOverlay/ModalPageOverlay.tsx#ModalPageOverlay"]={docgenInfo:ModalPageOverlay.__docgenInfo,name:"ModalPageOverlay",path:"src/components/Modals/ModalPageOverlay/ModalPageOverlay.tsx#ModalPageOverlay"})}catch(__react_docgen_typescript_loader_error){}var ModalPageOverlay_stories={component:ModalPageOverlay},Default=function Template(args){var _useArgs=(0,external_STORYBOOK_MODULE_PREVIEW_API_.useArgs)(),_useArgs2=(0,slicedToArray.Z)(_useArgs,2),setArgs=(_useArgs2[0],_useArgs2[1]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(ModalPageOverlay,(0,objectSpread2.Z)({},args)),(0,jsx_runtime.jsx)(ModalDialogSeat,{show:args.show,onClick:function onClick(){return setArgs({show:!1})},children:(0,jsx_runtime.jsx)("dialog",{className:"p-2 border-none shadow-lg flex flex-col pointer-events-auto bg-white bg-clip-padding rounded-md outline-none text-current w-[600px]","aria-modal":!0,children:"Example content, heave ho!"})}),(0,jsx_runtime.jsxs)("div",{className:"grid grid-rows-2 h-full w-full fixed top-0 left-0 place-content-center place-items-center",children:[(0,jsx_runtime.jsx)("p",{className:"text-5xl",children:"Background text to illustrate blurring"}),(0,jsx_runtime.jsx)("p",{className:"text-5xl",children:"Background text to illustrate blurring"})]})]})}.bind({});Default.args={show:!0},Default.parameters=(0,objectSpread2.Z)((0,objectSpread2.Z)({},Default.parameters),{},{docs:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null===(_Default$parameters=Default.parameters)||void 0===_Default$parameters?void 0:_Default$parameters.docs),{},{source:(0,objectSpread2.Z)({originalSource:'args => {\n  const [_args, setArgs] = useArgs();\n  return <>\n            <ModalPageOverlay {...args} />\n            <ModalDialogSeat show={args.show} onClick={() => setArgs({\n      show: false\n    })}>\n                <dialog className={\'p-2 border-none shadow-lg flex flex-col pointer-events-auto bg-white bg-clip-padding rounded-md outline-none text-current w-[600px]\'} aria-modal>\n                    Example content, heave ho!\n                </dialog>\n            </ModalDialogSeat>\n            <div className="grid grid-rows-2 h-full w-full fixed top-0 left-0 place-content-center place-items-center">\n                <p className="text-5xl">\n                    Background text to illustrate blurring\n                </p>\n                <p className="text-5xl">\n                    Background text to illustrate blurring\n                </p>\n            </div>\n        </>;\n}'},null===(_Default$parameters2=Default.parameters)||void 0===_Default$parameters2||null===(_Default$parameters2$=_Default$parameters2.docs)||void 0===_Default$parameters2$?void 0:_Default$parameters2$.source)})});var __namedExportsOrder=["Default"]}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50cy1Nb2RhbHMtTW9kYWxQYWdlT3ZlcmxheS1Nb2RhbFBhZ2VPdmVybGF5LXN0b3JpZXMuMGM5NjM2MDIuaWZyYW1lLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiMGNBSWUsU0FBU0EsZUFBZUMsSUFBS0MsR0FDMUMsT0NMYSxTQUFTQyxnQkFBZ0JGLEtBQ3RDLEdBQUlHLE1BQU1DLFFBQVFKLEtBQU0sT0FBT0EsR0FDakMsQ0RHUyxDQUFlQSxNRUxULFNBQVNLLHNCQUFzQkMsRUFBR0MsR0FDL0MsSUFBSUMsRUFBSSxNQUFRRixFQUFJLEtBQU8sb0JBQXNCRyxRQUFVSCxFQUFFRyxPQUFPQyxXQUFhSixFQUFFLGNBQ25GLEdBQUksTUFBUUUsRUFBRyxDQUNiLElBQUlHLEVBQ0ZDLEVBQ0FYLEVBQ0FZLEVBQ0FDLEVBQUksR0FDSkMsR0FBSSxFQUNKQyxHQUFJLEVBQ04sSUFDRSxHQUFJZixHQUFLTyxFQUFJQSxFQUFFUyxLQUFLWCxJQUFJWSxLQUFNLElBQU1YLEVBQUcsQ0FDckMsR0FBSVksT0FBT1gsS0FBT0EsRUFBRyxPQUNyQk8sR0FBSSxDQUNOLE1BQU8sT0FBU0EsR0FBS0osRUFBSVYsRUFBRWdCLEtBQUtULElBQUlZLFFBQVVOLEVBQUVPLEtBQUtWLEVBQUVXLE9BQVFSLEVBQUVTLFNBQVdoQixHQUFJUSxHQUFJLEdBQ3RGLENBQUUsTUFBT1QsR0FDUFUsR0FBSSxFQUFJSixFQUFJTixDQUNkLENBQUUsUUFDQSxJQUNFLElBQUtTLEdBQUssTUFBUVAsRUFBVSxTQUFNSyxFQUFJTCxFQUFVLFNBQUtXLE9BQU9OLEtBQU9BLEdBQUksTUFDekUsQ0FBRSxRQUNBLEdBQUlHLEVBQUcsTUFBTUosQ0FDZixDQUNGLENBQ0EsT0FBT0UsQ0FDVCxDQUNGLENGckJnQyxDQUFxQmQsSUFBS0MsS0FBTSxFQUFBdUIsMkJBQUEsR0FBMkJ4QixJQUFLQyxJR0xqRixTQUFTd0IsbUJBQ3RCLE1BQU0sSUFBSUMsVUFBVSw0SUFDdEIsQ0hHc0csRUFDdEcsQyxn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b3VyY2VzIjpbIndlYnBhY2s6Ly9xdWVzdGlvbmFibGUtY29udGVudC1zcGEvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9xdWVzdGlvbmFibGUtY29udGVudC1zcGEvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXJyYXlXaXRoSG9sZXMuanMiLCJ3ZWJwYWNrOi8vcXVlc3Rpb25hYmxlLWNvbnRlbnQtc3BhLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2l0ZXJhYmxlVG9BcnJheUxpbWl0LmpzIiwid2VicGFjazovL3F1ZXN0aW9uYWJsZS1jb250ZW50LXNwYS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9ub25JdGVyYWJsZVJlc3QuanMiLCJ3ZWJwYWNrOi8vcXVlc3Rpb25hYmxlLWNvbnRlbnQtc3BhLy4vc3JjL2NvbXBvbmVudHMvTW9kYWxzL01vZGFsRGlhbG9nU2VhdC9Nb2RhbERpYWxvZ1NlYXQudHN4Iiwid2VicGFjazovL3F1ZXN0aW9uYWJsZS1jb250ZW50LXNwYS8uL3NyYy9jb21wb25lbnRzL01vZGFscy9Nb2RhbFBhZ2VPdmVybGF5L01vZGFsUGFnZU92ZXJsYXkubW9kdWxlLmNzcz83NGFiIiwid2VicGFjazovL3F1ZXN0aW9uYWJsZS1jb250ZW50LXNwYS8uL3NyYy9jb21wb25lbnRzL01vZGFscy9Nb2RhbFBhZ2VPdmVybGF5L01vZGFsUGFnZU92ZXJsYXkudHN4Iiwid2VicGFjazovL3F1ZXN0aW9uYWJsZS1jb250ZW50LXNwYS8uL3NyYy9zaGFyZWQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFycmF5V2l0aEhvbGVzIGZyb20gXCIuL2FycmF5V2l0aEhvbGVzLmpzXCI7XG5pbXBvcnQgaXRlcmFibGVUb0FycmF5TGltaXQgZnJvbSBcIi4vaXRlcmFibGVUb0FycmF5TGltaXQuanNcIjtcbmltcG9ydCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSBmcm9tIFwiLi91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheS5qc1wiO1xuaW1wb3J0IG5vbkl0ZXJhYmxlUmVzdCBmcm9tIFwiLi9ub25JdGVyYWJsZVJlc3QuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xuICByZXR1cm4gYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBpdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgbm9uSXRlcmFibGVSZXN0KCk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChyLCBsKSB7XG4gIHZhciB0ID0gbnVsbCA9PSByID8gbnVsbCA6IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiByW1N5bWJvbC5pdGVyYXRvcl0gfHwgcltcIkBAaXRlcmF0b3JcIl07XG4gIGlmIChudWxsICE9IHQpIHtcbiAgICB2YXIgZSxcbiAgICAgIG4sXG4gICAgICBpLFxuICAgICAgdSxcbiAgICAgIGEgPSBbXSxcbiAgICAgIGYgPSAhMCxcbiAgICAgIG8gPSAhMTtcbiAgICB0cnkge1xuICAgICAgaWYgKGkgPSAodCA9IHQuY2FsbChyKSkubmV4dCwgMCA9PT0gbCkge1xuICAgICAgICBpZiAoT2JqZWN0KHQpICE9PSB0KSByZXR1cm47XG4gICAgICAgIGYgPSAhMTtcbiAgICAgIH0gZWxzZSBmb3IgKDsgIShmID0gKGUgPSBpLmNhbGwodCkpLmRvbmUpICYmIChhLnB1c2goZS52YWx1ZSksIGEubGVuZ3RoICE9PSBsKTsgZiA9ICEwKTtcbiAgICB9IGNhdGNoIChyKSB7XG4gICAgICBvID0gITAsIG4gPSByO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIWYgJiYgbnVsbCAhPSB0W1wicmV0dXJuXCJdICYmICh1ID0gdFtcInJldHVyblwiXSgpLCBPYmplY3QodSkgIT09IHUpKSByZXR1cm47XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAobykgdGhyb3cgbjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGE7XG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufSIsImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgZGVidWcgfSBmcm9tICd+L3V0aWxzJ1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNb2RhbERpYWxvZ1NlYXQoe1xuICAgIHNob3csXG4gICAgb25DbGljayxcbiAgICBjaGlsZHJlbixcbn06IHtcbiAgICBzaG93OiBib29sZWFuXG4gICAgb25DbGljaz86ICgpID0+IHZvaWRcbiAgICBjaGlsZHJlbjogUmVhY3QuUmVhY3RDaGlsZFxufSkge1xuICAgIGNvbnN0IFtoaWRkZW4sIHNldEhpZGRlbl0gPSB1c2VTdGF0ZSghc2hvdylcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoc2hvdykge1xuICAgICAgICAgICAgLy8gSW1tZWRpYXRlbHkgc2hvdyB3aGVuIGBzaG93YCBjaGFuZ2VzIHNvIHRoYXQgd2UgY2FuIGFuaW1hdGVcbiAgICAgICAgICAgIC8vIGluIGZyb20gdGhlIGJvdHRvbS4uLihjb250ZC4gYmVsb3cpXG4gICAgICAgICAgICBkZWJ1ZygnVW5oaWRpbmcgZGlhbG9nIHNlYXQnKVxuICAgICAgICAgICAgc2V0SGlkZGVuKGZhbHNlKVxuICAgICAgICB9XG4gICAgfSwgW3Nob3csIHNldEhpZGRlbl0pXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgZGF0YS1kaWFsb2ctc2VhdD1cInRydWVcIlxuICAgICAgICAgICAgY2xhc3NOYW1lPXtcbiAgICAgICAgICAgICAgICAnZml4ZWQgbGVmdC0wIHctZnVsbCBoLWZ1bGwgJyArXG4gICAgICAgICAgICAgICAgJ291dGxpbmUtbm9uZSBvdmVyZmxvdy1oaWRkZW4gJyArXG4gICAgICAgICAgICAgICAgJ2dyaWQgcGxhY2UtaXRlbXMtY2VudGVyICcgK1xuICAgICAgICAgICAgICAgICd0cmFuc2l0aW9uLVt0b3BdIGR1cmF0aW9uLTEwMDAnICtcbiAgICAgICAgICAgICAgICAoc2hvdyA/ICcgdG9wLTAnIDogJyB0b3AtWzEwMHZoXSBwb2ludGVyLWV2ZW50cy1ub25lJykgK1xuICAgICAgICAgICAgICAgIChoaWRkZW4gPyAnIGludmlzaWJsZScgOiAnJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0eWxlPXt7IHpJbmRleDogMjAwMCB9fVxuICAgICAgICAgICAgb25DbGljaz17ZnVuY3Rpb24gKHRoaXM6IGFueSwgZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAob25DbGljaykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuZGF0YXNldFsnZGlhbG9nU2VhdCddKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZygnRGlhbG9nIHNlYXQgb24tY2xpY2snKVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaygpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25UcmFuc2l0aW9uRW5kPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQuZGF0YXNldFsnZGlhbG9nU2VhdCddICYmXG4gICAgICAgICAgICAgICAgICAgICF0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0b3AtMCcpXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIChjb250ZC4gZnJvbSBhYm92ZSkgLi4uYnV0IGRvbid0IGhpZGUgYWdhaW4gdW50aWxcbiAgICAgICAgICAgICAgICAgICAgLy8gd2UncmUgY29tcGxldGVseSBiYWNrIG91dCBvZiBzaWdodC5cbiAgICAgICAgICAgICAgICAgICAgZGVidWcoJ0hpZGluZyBkaWFsb2cgc2VhdDsgd2FzIGFscmVhZHkgaGlkZGVuOicsIGhpZGRlbilcbiAgICAgICAgICAgICAgICAgICAgc2V0SGlkZGVuKHRydWUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L2Rpdj5cbiAgICApXG59XG4iLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCBkZWZhdWx0IHtcIm1vZGFsUGFnZU92ZXJsYXlcIjpcIk1vZGFsUGFnZU92ZXJsYXlfbW9kYWxQYWdlT3ZlcmxheV9fTk9iR1VcIixcInNob3dcIjpcIk1vZGFsUGFnZU92ZXJsYXlfc2hvd19fckI2MEJcIixcImZhZGVkSW5cIjpcIk1vZGFsUGFnZU92ZXJsYXlfZmFkZWRJbl9fdTU0Z0NcIixcImZhZGUtaW5cIjpcIk1vZGFsUGFnZU92ZXJsYXlfZmFkZS1pbl9fM1dxbFlcIixcImZhZGUtb3V0XCI6XCJNb2RhbFBhZ2VPdmVybGF5X2ZhZGUtb3V0X19LSUJUSlwifTsiLCJpbXBvcnQgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5cbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9Nb2RhbFBhZ2VPdmVybGF5Lm1vZHVsZS5jc3MnXG5cbmltcG9ydCB7IEJPRFlfQ09OVEFJTkVSX0lEIH0gZnJvbSAnfi9zaGFyZWQnXG5pbXBvcnQgeyBkZWJ1ZyB9IGZyb20gJ34vdXRpbHMnXG5cbmV4cG9ydCBjb25zdCBPdmVybGF5Q29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8XG4gICAgW2Jvb2xlYW4sICh2YWx1ZTogYm9vbGVhbikgPT4gdm9pZF1cbj4oW2ZhbHNlLCAoKSA9PiB7fV0pXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1vZGFsUGFnZU92ZXJsYXkoe1xuICAgIHNob3csXG4gICAgb25DbGljayxcbn06IHtcbiAgICBzaG93OiBib29sZWFuXG4gICAgb25DbGljaz86ICgpID0+IHZvaWRcbn0pIHtcbiAgICBsZXQgb3JpZ2luYWxCb2R5T3ZlcmZsb3cgPSB1c2VNZW1vKCgpID0+IGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3csIFtdKVxuXG4gICAgY29uc3QgW2ZhZGVkSW4sIHNldEZhZGVkSW5dID0gdXNlU3RhdGUoZmFsc2UpXG5cbiAgICBjb25zdCBbXywgc2V0QWN0aXZlXSA9IHVzZUNvbnRleHQoT3ZlcmxheUNvbnRleHQpXG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoQk9EWV9DT05UQUlORVJfSUQpIVxuXG4gICAgICAgIGlmIChzaG93ICYmIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgIT09ICdoaWRkZW4nKSB7XG4gICAgICAgICAgICBkZWJ1ZygnSGlkaW5nIGJvZHkgb3ZlcmZsb3cnKVxuICAgICAgICAgICAgLy8gV2hlbiBhIG1vZGFsIGlzIGFjdGl2ZSwgcmVtb3ZlIHRoZSBzY3JvbGxpbmcgZnJvbSB0aGUgbWFpbiBib2R5XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbidcbiAgICAgICAgICAgIGJvZHkuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJylcbiAgICAgICAgICAgIHNldEFjdGl2ZSh0cnVlKVxuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgIXNob3cgJiZcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgIT09IG9yaWdpbmFsQm9keU92ZXJmbG93XG4gICAgICAgICkge1xuICAgICAgICAgICAgZGVidWcoJ1Jlc3RvcmluZyBib2R5IG92ZXJmbG93JylcbiAgICAgICAgICAgIC8vIFJldHVybiB0aGUgc2Nyb2xsaW5nIHRvIG5vcm1hbCBvbiB0aGUgbWFpbiBib2R5IHdoZW4gdGhlIG1vZGFsXG4gICAgICAgICAgICAvLyBpcyBjbG9zZWQgb25jZSBhZ2Fpbi5cbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBvcmlnaW5hbEJvZHlPdmVyZmxvd1xuICAgICAgICAgICAgYm9keS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJycpXG4gICAgICAgICAgICBzZXRBY3RpdmUoZmFsc2UpXG4gICAgICAgIH1cbiAgICB9LCBbc2hvdywgb3JpZ2luYWxCb2R5T3ZlcmZsb3csIHNldEFjdGl2ZV0pXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3NOYW1lPXtcbiAgICAgICAgICAgICAgICBgZml4ZWQgdG9wLTAgbGVmdC0wIHctZnVsbCBoLWZ1bGwgb3V0bGluZS1ub25lIG92ZXJmbG93LXgtaGlkZGVuIG92ZXJmbG93LXktYXV0byBgICtcbiAgICAgICAgICAgICAgICBzdHlsZXMubW9kYWxQYWdlT3ZlcmxheSArXG4gICAgICAgICAgICAgICAgKHNob3cgPyAnICcgKyBzdHlsZXMuc2hvdyA6ICcgcG9pbnRlci1ldmVudHMtbm9uZScpICtcbiAgICAgICAgICAgICAgICAoZmFkZWRJbiA/ICcgJyArIHN0eWxlcy5mYWRlZEluIDogJycpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHlsZT17eyB6SW5kZXg6IDEwMDAgfX1cbiAgICAgICAgICAgIHRhYkluZGV4PXstMX1cbiAgICAgICAgICAgIGFyaWEtaGlkZGVuPXshc2hvd31cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAob25DbGljaykge1xuICAgICAgICAgICAgICAgICAgICBkZWJ1ZygnUGFnZSBvdmVybGF5IG9uLWNsaWNrJylcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaygpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG9uQW5pbWF0aW9uU3RhcnQ9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGUuYW5pbWF0aW9uTmFtZSA9PT0gc3R5bGVzWydmYWRlLWluJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2Ugc2V0IHRoaXMgaGVyZSB0byBlbnN1cmUgdGhhdCB3aGVuIGZhZGUgb3V0IHN0YXJ0cyxcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGVsZW1lbnQgZG9lc24ndCBpbnN0YW50bHkgZGlzYXBwZWFyLCBhcyB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gYHN0eWxlcy5mYWRlZEluYCBzdHlsZSBrZWVwcyBpdCBhbGl2ZS5cbiAgICAgICAgICAgICAgICAgICAgc2V0RmFkZWRJbih0cnVlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBvbkFuaW1hdGlvbkVuZD17KGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZS5hbmltYXRpb25OYW1lID09PSBzdHlsZXNbJ2ZhZGUtb3V0J10pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gT25jZSBmYWRlLW91dCBpcyBkb25lLCB3ZSBjYW4gcmVtb3ZlIHRoZSBzcGVjaWFsXG4gICAgICAgICAgICAgICAgICAgIC8vIGtlZXAtYWxpdmUgc3R5bGUgd2UgYWRkZWQgYXQgdGhlIHN0YXJ0IG9mIGZhZGUtaW5cbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gYWN0dWFsbHkgbGV0IHRoZSBlbGVtZW50IGRpc2FwcGVhciBmdWxseSxcbiAgICAgICAgICAgICAgICAgICAgc2V0RmFkZWRJbihmYWxzZSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9fVxuICAgICAgICA+PC9kaXY+XG4gICAgKVxufVxuIiwiZXhwb3J0IGNvbnN0IEJPRFlfQ09OVEFJTkVSX0lEID0gJ3FjLWV4dC1ib2R5LWNvbnRhaW5lcidcbmV4cG9ydCBjb25zdCBQT1JUQUxfQ09OVEFJTkVSX0lEID0gJ3FjLWV4dC1wb3J0YWwtY29udGFpbmVyJ1xuIl0sIm5hbWVzIjpbIl9zbGljZWRUb0FycmF5IiwiYXJyIiwiaSIsIl9hcnJheVdpdGhIb2xlcyIsIkFycmF5IiwiaXNBcnJheSIsIl9pdGVyYWJsZVRvQXJyYXlMaW1pdCIsInIiLCJsIiwidCIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiZSIsIm4iLCJ1IiwiYSIsImYiLCJvIiwiY2FsbCIsIm5leHQiLCJPYmplY3QiLCJkb25lIiwicHVzaCIsInZhbHVlIiwibGVuZ3RoIiwidW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJfbm9uSXRlcmFibGVSZXN0IiwiVHlwZUVycm9yIiwiTW9kYWxEaWFsb2dTZWF0IiwiX3JlZiIsInNob3ciLCJvbkNsaWNrIiwiY2hpbGRyZW4iLCJfdXNlU3RhdGUiLCJ1c2VTdGF0ZSIsIl91c2VTdGF0ZTIiLCJoaWRkZW4iLCJzZXRIaWRkZW4iLCJ1c2VFZmZlY3QiLCJkZWJ1ZyIsIl9qc3giLCJjbGFzc05hbWUiLCJzdHlsZSIsInpJbmRleCIsImV2ZW50IiwidGFyZ2V0IiwiZGF0YXNldCIsIm9uVHJhbnNpdGlvbkVuZCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiT3ZlcmxheUNvbnRleHQiLCJjcmVhdGVDb250ZXh0IiwiTW9kYWxQYWdlT3ZlcmxheSIsIm9yaWdpbmFsQm9keU92ZXJmbG93IiwidXNlTWVtbyIsImRvY3VtZW50IiwiYm9keSIsIm92ZXJmbG93IiwiZmFkZWRJbiIsInNldEZhZGVkSW4iLCJfdXNlQ29udGV4dCIsInVzZUNvbnRleHQiLCJfdXNlQ29udGV4dDIiLCJzZXRBY3RpdmUiLCJnZXRFbGVtZW50QnlJZCIsInNldEF0dHJpYnV0ZSIsInN0eWxlcyIsInRhYkluZGV4Iiwib25BbmltYXRpb25TdGFydCIsImFuaW1hdGlvbk5hbWUiLCJvbkFuaW1hdGlvbkVuZCJdLCJzb3VyY2VSb290IjoiIn0=