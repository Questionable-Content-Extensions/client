"use strict";(self.webpackChunkquestionable_content_spa=self.webpackChunkquestionable_content_spa||[]).push([[8746],{"./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}__webpack_require__.d(__webpack_exports__,{Z:function(){return _objectWithoutProperties}})},"./src/components/FilteredNavigationData/FilteredNavigationData.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:function(){return Default},EditMode:function(){return EditMode},Fetching:function(){return Fetching},HasError:function(){return HasError},Loading:function(){return Loading},NoColors:function(){return NoColors},Saving:function(){return Saving},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return FilteredNavigationData_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),comicSlice=__webpack_require__("./src/store/comicSlice.ts"),store=__webpack_require__("./src/store/store.ts"),mocks=__webpack_require__("./src/mocks.ts"),regeneratorRuntime=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),Button=__webpack_require__("./src/components/Button.tsx"),ItemNavigation=__webpack_require__("./src/components/ComicDetailsPanel/ItemNavigation/ItemNavigation.tsx"),NavElement=__webpack_require__("./src/components/NavElement/NavElement.tsx");var _Default$parameters,_Default$parameters2,_Default$parameters2$,_NoColors$parameters,_NoColors$parameters2,_NoColors$parameters3,_Loading$parameters,_Loading$parameters2,_Loading$parameters2$,_Fetching$parameters,_Fetching$parameters2,_Fetching$parameters3,_Saving$parameters,_Saving$parameters2,_Saving$parameters2$d,_HasError$parameters,_HasError$parameters2,_HasError$parameters3,_EditMode$parameters,_EditMode$parameters2,_EditMode$parameters3,itemFilters=__webpack_require__("./src/itemFilters.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function FilteredNavigationData(_ref){var isLoading=_ref.isLoading,isFetching=_ref.isFetching,isSaving=_ref.isSaving,hasError=_ref.hasError,itemData=_ref.itemData,onSetCurrentComic=_ref.onSetCurrentComic,onShowInfoFor=_ref.onShowInfoFor,useColors=_ref.useColors,orderMembersByLastAppearance=_ref.orderMembersByLastAppearance,editMode=_ref.editMode,_onAddItem=_ref.onAddItem,_useDebouncedFilter=function useDebouncedFilter(options){var debounceTimeout=(0,react.useMemo)((function(){return options&&options.debounceTimeout?options.debounceTimeout:500}),[options]),_useState=(0,react.useState)(""),_useState2=(0,slicedToArray.Z)(_useState,2),filter=_useState2[0],setFilter=_useState2[1],_useState3=(0,react.useState)(""),_useState4=(0,slicedToArray.Z)(_useState3,2),activeFilter=_useState4[0],setActiveFilter=_useState4[1];return(0,react.useEffect)((function(){var filterDebounceTimeout=setTimeout((function(){setActiveFilter(filter),filterDebounceTimeout=null}),debounceTimeout);return function(){null!==filterDebounceTimeout&&(clearTimeout(filterDebounceTimeout),filterDebounceTimeout=null)}}),[filter,debounceTimeout]),{activeFilter:activeFilter,filter:filter,setFilter:setFilter}}(),activeFilter=_useDebouncedFilter.activeFilter,filter=_useDebouncedFilter.filter,setFilter=_useDebouncedFilter.setFilter,filteredItemData=(0,react.useMemo)((function(){return(0,itemFilters.MI)(itemData,activeFilter)}),[itemData,activeFilter]),_useMemo=(0,react.useMemo)((function(){return[(0,itemFilters.WE)(activeFilter),(0,itemFilters.mt)(activeFilter)]}),[activeFilter]),_useMemo2=(0,slicedToArray.Z)(_useMemo,2),filterType=_useMemo2[0],filterName=_useMemo2[1];return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("input",{id:"qcext-allitems-filter",type:"text",placeholder:"Filter non-present",title:"The value entered here filters the non-present members by their name or abbreviated name",value:filter,onChange:function onChange(e){return setFilter(e.target.value)},className:"w-full border border-qc-header focus:outline-none flex-auto rounded-none pl-2 disabled:opacity-75 mb-2",disabled:isLoading||isSaving||hasError,onMouseUp:function onMouseUp(e){1===e.button&&(setFilter(""),e.preventDefault())}}),(filteredItemData.length>0||isLoading)&&!hasError?(0,jsx_runtime.jsx)("div",{className:"overflow-y-auto overflow-x-hidden max-h-52",children:(0,jsx_runtime.jsx)(ItemNavigation.Z,{itemNavigationData:filteredItemData,isLoading:isLoading,isFetching:isFetching,useColors:useColors,orderMembersByLastAppearance:orderMembersByLastAppearance,onSetCurrentComic:onSetCurrentComic,onShowInfoFor:onShowInfoFor,mode:NavElement.b.Missing,editMode:editMode,onAddItem:function onAddItem(itemId){return _onAddItem({new:!1,itemId:itemId})}})}):hasError?(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{}):(0,jsx_runtime.jsxs)("p",{className:"italic",children:["No ",filterType," found matching '",filterName,"'"]}),editMode&&(0,jsx_runtime.jsxs)(Button.g,{className:"mt-2 w-full",onClick:(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee(){return(0,regeneratorRuntime.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:"item"===filterType?alert("Prefix the filter by ! for cast, @ for location or # for storyline to choose the type of item to create"):_onAddItem({new:!0,newItemName:filterName,newItemType:filterType});case 1:case"end":return _context.stop()}}),_callee)}))),disabled:""===filterName||isSaving,title:""===filterName?"Enter something in the filter box to create an item":"Add "+filterType,children:["Add new ",filterType," ",""!==filterName?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["named '",filterName,"'"]}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{})," to comic"]})]})}try{FilteredNavigationData.displayName="FilteredNavigationData",FilteredNavigationData.__docgenInfo={description:"",displayName:"FilteredNavigationData",props:{isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}},isFetching:{defaultValue:null,description:"",name:"isFetching",required:!0,type:{name:"boolean"}},isSaving:{defaultValue:null,description:"",name:"isSaving",required:!0,type:{name:"boolean"}},hasError:{defaultValue:null,description:"",name:"hasError",required:!0,type:{name:"boolean"}},itemData:{defaultValue:null,description:"",name:"itemData",required:!0,type:{name:"HydratedItemNavigationData[]"}},onSetCurrentComic:{defaultValue:null,description:"",name:"onSetCurrentComic",required:!0,type:{name:"(comicId: number) => void"}},onShowInfoFor:{defaultValue:null,description:"",name:"onShowInfoFor",required:!0,type:{name:"(item: number) => void"}},useColors:{defaultValue:null,description:"",name:"useColors",required:!0,type:{name:"boolean"}},orderMembersByLastAppearance:{defaultValue:null,description:"",name:"orderMembersByLastAppearance",required:!0,type:{name:"boolean"}},editMode:{defaultValue:null,description:"",name:"editMode",required:!0,type:{name:"boolean"}},onAddItem:{defaultValue:null,description:"",name:"onAddItem",required:!0,type:{name:"(item: ItemBody) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FilteredNavigationData/FilteredNavigationData.tsx#FilteredNavigationData"]={docgenInfo:FilteredNavigationData.__docgenInfo,name:"FilteredNavigationData",path:"src/components/FilteredNavigationData/FilteredNavigationData.tsx#FilteredNavigationData"})}catch(__react_docgen_typescript_loader_error){}var FilteredNavigationData_stories={component:FilteredNavigationData},Template=function Template(args){return 666!==store.Z.getState().comic.current&&store.Z.dispatch((0,comicSlice.wJ)(666)),(0,jsx_runtime.jsx)(FilteredNavigationData,(0,objectSpread2.Z)({},args))},Default=Template.bind({});Default.args={editMode:!1,isFetching:!1,isLoading:!1,isSaving:!1,hasError:!1,itemData:mocks.y$,useColors:!0};var NoColors=Template.bind({});NoColors.args=(0,objectSpread2.Z)((0,objectSpread2.Z)({},Default.args),{},{useColors:!1});var Loading=Template.bind({});Loading.args=(0,objectSpread2.Z)((0,objectSpread2.Z)({},Default.args),{},{isLoading:!0});var Fetching=Template.bind({});Fetching.args=(0,objectSpread2.Z)((0,objectSpread2.Z)({},Default.args),{},{isFetching:!0});var Saving=Template.bind({});Saving.args=(0,objectSpread2.Z)((0,objectSpread2.Z)({},Default.args),{},{isSaving:!0});var HasError=Template.bind({});HasError.args=(0,objectSpread2.Z)((0,objectSpread2.Z)({},Default.args),{},{hasError:!0});var EditMode=Template.bind({});EditMode.args=(0,objectSpread2.Z)((0,objectSpread2.Z)({},Default.args),{},{editMode:!0}),Default.parameters=(0,objectSpread2.Z)((0,objectSpread2.Z)({},Default.parameters),{},{docs:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null===(_Default$parameters=Default.parameters)||void 0===_Default$parameters?void 0:_Default$parameters.docs),{},{source:(0,objectSpread2.Z)({originalSource:"args => {\n  const state = store.getState();\n  if (state.comic.current !== 666) {\n    store.dispatch(setCurrentComic(666));\n  }\n  return <FilteredNavigationData {...args} />;\n}"},null===(_Default$parameters2=Default.parameters)||void 0===_Default$parameters2||null===(_Default$parameters2$=_Default$parameters2.docs)||void 0===_Default$parameters2$?void 0:_Default$parameters2$.source)})}),NoColors.parameters=(0,objectSpread2.Z)((0,objectSpread2.Z)({},NoColors.parameters),{},{docs:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null===(_NoColors$parameters=NoColors.parameters)||void 0===_NoColors$parameters?void 0:_NoColors$parameters.docs),{},{source:(0,objectSpread2.Z)({originalSource:"args => {\n  const state = store.getState();\n  if (state.comic.current !== 666) {\n    store.dispatch(setCurrentComic(666));\n  }\n  return <FilteredNavigationData {...args} />;\n}"},null===(_NoColors$parameters2=NoColors.parameters)||void 0===_NoColors$parameters2||null===(_NoColors$parameters3=_NoColors$parameters2.docs)||void 0===_NoColors$parameters3?void 0:_NoColors$parameters3.source)})}),Loading.parameters=(0,objectSpread2.Z)((0,objectSpread2.Z)({},Loading.parameters),{},{docs:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null===(_Loading$parameters=Loading.parameters)||void 0===_Loading$parameters?void 0:_Loading$parameters.docs),{},{source:(0,objectSpread2.Z)({originalSource:"args => {\n  const state = store.getState();\n  if (state.comic.current !== 666) {\n    store.dispatch(setCurrentComic(666));\n  }\n  return <FilteredNavigationData {...args} />;\n}"},null===(_Loading$parameters2=Loading.parameters)||void 0===_Loading$parameters2||null===(_Loading$parameters2$=_Loading$parameters2.docs)||void 0===_Loading$parameters2$?void 0:_Loading$parameters2$.source)})}),Fetching.parameters=(0,objectSpread2.Z)((0,objectSpread2.Z)({},Fetching.parameters),{},{docs:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null===(_Fetching$parameters=Fetching.parameters)||void 0===_Fetching$parameters?void 0:_Fetching$parameters.docs),{},{source:(0,objectSpread2.Z)({originalSource:"args => {\n  const state = store.getState();\n  if (state.comic.current !== 666) {\n    store.dispatch(setCurrentComic(666));\n  }\n  return <FilteredNavigationData {...args} />;\n}"},null===(_Fetching$parameters2=Fetching.parameters)||void 0===_Fetching$parameters2||null===(_Fetching$parameters3=_Fetching$parameters2.docs)||void 0===_Fetching$parameters3?void 0:_Fetching$parameters3.source)})}),Saving.parameters=(0,objectSpread2.Z)((0,objectSpread2.Z)({},Saving.parameters),{},{docs:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null===(_Saving$parameters=Saving.parameters)||void 0===_Saving$parameters?void 0:_Saving$parameters.docs),{},{source:(0,objectSpread2.Z)({originalSource:"args => {\n  const state = store.getState();\n  if (state.comic.current !== 666) {\n    store.dispatch(setCurrentComic(666));\n  }\n  return <FilteredNavigationData {...args} />;\n}"},null===(_Saving$parameters2=Saving.parameters)||void 0===_Saving$parameters2||null===(_Saving$parameters2$d=_Saving$parameters2.docs)||void 0===_Saving$parameters2$d?void 0:_Saving$parameters2$d.source)})}),HasError.parameters=(0,objectSpread2.Z)((0,objectSpread2.Z)({},HasError.parameters),{},{docs:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null===(_HasError$parameters=HasError.parameters)||void 0===_HasError$parameters?void 0:_HasError$parameters.docs),{},{source:(0,objectSpread2.Z)({originalSource:"args => {\n  const state = store.getState();\n  if (state.comic.current !== 666) {\n    store.dispatch(setCurrentComic(666));\n  }\n  return <FilteredNavigationData {...args} />;\n}"},null===(_HasError$parameters2=HasError.parameters)||void 0===_HasError$parameters2||null===(_HasError$parameters3=_HasError$parameters2.docs)||void 0===_HasError$parameters3?void 0:_HasError$parameters3.source)})}),EditMode.parameters=(0,objectSpread2.Z)((0,objectSpread2.Z)({},EditMode.parameters),{},{docs:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null===(_EditMode$parameters=EditMode.parameters)||void 0===_EditMode$parameters?void 0:_EditMode$parameters.docs),{},{source:(0,objectSpread2.Z)({originalSource:"args => {\n  const state = store.getState();\n  if (state.comic.current !== 666) {\n    store.dispatch(setCurrentComic(666));\n  }\n  return <FilteredNavigationData {...args} />;\n}"},null===(_EditMode$parameters2=EditMode.parameters)||void 0===_EditMode$parameters2||null===(_EditMode$parameters3=_EditMode$parameters2.docs)||void 0===_EditMode$parameters3?void 0:_EditMode$parameters3.source)})});var __namedExportsOrder=["Default","NoColors","Loading","Fetching","Saving","HasError","EditMode"]},"./src/components/Button.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{g:function(){return PaddedButton}});var _home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["children","className"],_excluded2=["children","className"];function Button(_ref){var children=_ref.children,className=_ref.className,rest=(0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__.Z)(_ref,_excluded);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",(0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)((0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)({className:"bg-qc-header hover:bg-qc-header-second focus:bg-qc-header-second text-white rounded-sm disabled:opacity-75"+(className?" ".concat(className):"")},rest),{},{children:children}))}function PaddedButton(_ref2){var children=_ref2.children,className=_ref2.className,rest=(0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__.Z)(_ref2,_excluded2);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Button,(0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)((0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)({className:"py-3 px-4"+(className?" ".concat(className):"")},rest),{},{children:children}))}try{Button.displayName="Button",Button.__docgenInfo={description:"",displayName:"Button",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Button.tsx#Button"]={docgenInfo:Button.__docgenInfo,name:"Button",path:"src/components/Button.tsx#Button"})}catch(__react_docgen_typescript_loader_error){}try{PaddedButton.displayName="PaddedButton",PaddedButton.__docgenInfo={description:"",displayName:"PaddedButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Button.tsx#PaddedButton"]={docgenInfo:PaddedButton.__docgenInfo,name:"PaddedButton",path:"src/components/Button.tsx#PaddedButton"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ComicDetailsPanel/ItemNavigation/ItemNavigation.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return ItemNavigation}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_components_InlineSpinner__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/InlineSpinner.tsx"),_components_NavElement_NavElement__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/NavElement/NavElement.tsx"),_components_Spinner__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Spinner.tsx"),_hooks_useItemNavigationDataByType__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/hooks/useItemNavigationDataByType.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");function ItemNavigation(_ref){var itemNavigationData=_ref.itemNavigationData,isLoading=_ref.isLoading,isFetching=_ref.isFetching,useColors=_ref.useColors,orderMembersByLastAppearance=_ref.orderMembersByLastAppearance,onSetCurrentComic=_ref.onSetCurrentComic,onShowInfoFor=_ref.onShowInfoFor,mode=_ref.mode,editMode=_ref.editMode,onRemoveItem=_ref.onRemoveItem,onAddItem=_ref.onAddItem,lockedToItemId=_ref.lockedToItemId,_useItemNavigationDat=(0,_hooks_useItemNavigationDataByType__WEBPACK_IMPORTED_MODULE_4__.Z)(itemNavigationData,lockedToItemId),cast=_useItemNavigationDat.cast,location=_useItemNavigationDat.location,storyline=_useItemNavigationDat.storyline,locked=_useItemNavigationDat.locked,itemNavigationToNavElement=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(item){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_components_NavElement_NavElement__WEBPACK_IMPORTED_MODULE_2__.Z,{item:item,onSetCurrentComic:onSetCurrentComic,useColors:useColors,onShowInfoFor:onShowInfoFor,mode:mode,editMode:editMode,onAddItem:onAddItem,onRemoveItem:onRemoveItem},item.id)}),[editMode,mode,onAddItem,onRemoveItem,onSetCurrentComic,onShowInfoFor,useColors]),itemNavElements=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{cast:cast.map(itemNavigationToNavElement),location:location.map(itemNavigationToNavElement),storyline:storyline.map(itemNavigationToNavElement),locked:locked.map(itemNavigationToNavElement),all:itemNavigationData.map(itemNavigationToNavElement)}}),[cast,location,storyline,locked,itemNavigationData,itemNavigationToNavElement]);return isLoading?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"text-center pt-4",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_components_Spinner__WEBPACK_IMPORTED_MODULE_3__.Z,{loadingText:"Loading...",height:"h-8",width:"w-8",textColor:"text-black",spinnerBgColor:"text-gray-300",spinnerColor:"fill-qc-link"})}):itemNavigationData.length?orderMembersByLastAppearance?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"text-center",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ItemTypeSection,{header:"Recent",isFetching:isFetching,mode:mode,elements:itemNavElements.all})}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:"text-center",children:[!!itemNavElements.locked.length&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ItemTypeSection,{header:"Navigation Locked",isFetching:isFetching,mode:mode,elements:itemNavElements.locked}),!!itemNavElements.cast.length&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ItemTypeSection,{header:"Cast Members",isFetching:isFetching,mode:mode,elements:itemNavElements.cast}),!!itemNavElements.location.length&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ItemTypeSection,{header:"Locations",isFetching:isFetching,mode:mode,elements:itemNavElements.location}),!!itemNavElements.storyline.length&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ItemTypeSection,{header:"Storylines",isFetching:isFetching,mode:mode,elements:itemNavElements.storyline})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment,{})}function ItemTypeSection(_ref2){var header=_ref2.header,isFetching=_ref2.isFetching,mode=_ref2.mode,elements=_ref2.elements;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("h1",{className:"text-base font-normal text-center m-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("span",{className:"invisible",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_components_InlineSpinner__WEBPACK_IMPORTED_MODULE_1__.Z,{})}),header,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("span",{className:"inline-block align-middle"+(isFetching?"":" invisible"),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_components_InlineSpinner__WEBPACK_IMPORTED_MODULE_1__.Z,{})})]}),mode===_components_NavElement_NavElement__WEBPACK_IMPORTED_MODULE_2__.b.Missing?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("h2",{className:"text-xs font-normal text-center",children:"(Non-Present)"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment,{}),elements]})}try{ItemNavigation.displayName="ItemNavigation",ItemNavigation.__docgenInfo={description:"",displayName:"ItemNavigation",props:{itemNavigationData:{defaultValue:null,description:"",name:"itemNavigationData",required:!0,type:{name:"HydratedItemNavigationData[]"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}},isFetching:{defaultValue:null,description:"",name:"isFetching",required:!0,type:{name:"boolean"}},useColors:{defaultValue:null,description:"",name:"useColors",required:!0,type:{name:"boolean"}},orderMembersByLastAppearance:{defaultValue:null,description:"",name:"orderMembersByLastAppearance",required:!0,type:{name:"boolean"}},onSetCurrentComic:{defaultValue:null,description:"",name:"onSetCurrentComic",required:!0,type:{name:"(comicNo: number, locked: boolean) => void"}},onShowInfoFor:{defaultValue:null,description:"",name:"onShowInfoFor",required:!0,type:{name:"(item: number) => void"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:"0"},{value:"1"}]}},editMode:{defaultValue:null,description:"",name:"editMode",required:!1,type:{name:"boolean"}},onRemoveItem:{defaultValue:null,description:"",name:"onRemoveItem",required:!1,type:{name:"((_: number) => void)"}},onAddItem:{defaultValue:null,description:"",name:"onAddItem",required:!1,type:{name:"((_: number) => void)"}},lockedToItemId:{defaultValue:null,description:"",name:"lockedToItemId",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ComicDetailsPanel/ItemNavigation/ItemNavigation.tsx#ItemNavigation"]={docgenInfo:ItemNavigation.__docgenInfo,name:"ItemNavigation",path:"src/components/ComicDetailsPanel/ItemNavigation/ItemNavigation.tsx#ItemNavigation"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/InlineSpinner.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return InlineSpinner}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");function InlineSpinner(_ref){var className=_ref.color;return className||(className="text-qc-header"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("svg",{className:"animate-spin ml-1 mr-3 h-5 w-5 ".concat(className),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}try{InlineSpinner.displayName="InlineSpinner",InlineSpinner.__docgenInfo={description:"",displayName:"InlineSpinner",props:{color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InlineSpinner.tsx#InlineSpinner"]={docgenInfo:InlineSpinner.__docgenInfo,name:"InlineSpinner",path:"src/components/InlineSpinner.tsx#InlineSpinner"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Spinner.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return Spinner}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");function Spinner(_ref){var loadingText=_ref.loadingText,height=_ref.height,width=_ref.width,textColor=_ref.textColor,spinnerColor=_ref.spinnerColor,spinnerBgColor=_ref.spinnerBgColor;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("svg",{"aria-hidden":"true",className:"inline mr-2 ".concat(spinnerBgColor," animate-spin ").concat(spinnerColor," ").concat(height," ").concat(width),viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"".concat(textColor," font-bold"),children:loadingText})]})}try{Spinner.displayName="Spinner",Spinner.__docgenInfo={description:"",displayName:"Spinner",props:{loadingText:{defaultValue:null,description:"",name:"loadingText",required:!0,type:{name:"string"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"string"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"string"}},textColor:{defaultValue:null,description:"",name:"textColor",required:!0,type:{name:"string"}},spinnerColor:{defaultValue:null,description:"",name:"spinnerColor",required:!0,type:{name:"string"}},spinnerBgColor:{defaultValue:null,description:"",name:"spinnerBgColor",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Spinner.tsx#Spinner"]={docgenInfo:Spinner.__docgenInfo,name:"Spinner",path:"src/components/Spinner.tsx#Spinner"})}catch(__react_docgen_typescript_loader_error){}},"./src/hooks/useItemNavigationDataByType.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return useItemNavigationDataByType}});var _home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function useItemNavigationDataByType(itemNavigationData,lockedToItemId){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){var itemNavigationDataByType={cast:[],location:[],storyline:[],locked:[]};if(itemNavigationData){var _step,_iterator=(0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_1__.Z)(itemNavigationData);try{for(_iterator.s();!(_step=_iterator.n()).done;){var item=_step.value;lockedToItemId&&item.id===lockedToItemId?itemNavigationDataByType.locked.push(item):itemNavigationDataByType[item.type].push(item)}}catch(err){_iterator.e(err)}finally{_iterator.f()}}return itemNavigationDataByType}),[itemNavigationData,lockedToItemId])}},"./src/itemFilters.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){function getTypeFromFilter(filter){var type="item";switch(filter.charAt(0)){case"!":type="cast";break;case"@":type="location";break;case"#":type="storyline"}return type}function getFilterWithoutType(filter){return"item"!==getTypeFromFilter(filter)&&(filter=filter.substring(1)),filter}function filterItems(items,filter){var filteredByType,type=getTypeFromFilter(filter);return filteredByType="item"!==type?items.filter((function(i){return i.type===type})):items,filter=getFilterWithoutType(filter),filteredByType.filter((function(i){return-1!==i.shortName.toUpperCase().indexOf(filter.toUpperCase())||-1!==i.name.toUpperCase().indexOf(filter.toUpperCase())}))}__webpack_require__.d(__webpack_exports__,{MI:function(){return filterItems},WE:function(){return getTypeFromFilter},mt:function(){return getFilterWithoutType}})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50cy1GaWx0ZXJlZE5hdmlnYXRpb25EYXRhLUZpbHRlcmVkTmF2aWdhdGlvbkRhdGEtc3Rvcmllcy5kZTAxYTM2Ny5pZnJhbWUuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiJzUUFDZSxTQUFTQSx5QkFBeUJDLE9BQVFDLFVBQ3ZELEdBQWMsTUFBVkQsT0FBZ0IsTUFBTyxDQUFDLEVBQzVCLElBQ0lFLElBQUtDLEVBRExDLE9DSFMsU0FBU0MsOEJBQThCTCxPQUFRQyxVQUM1RCxHQUFjLE1BQVZELE9BQWdCLE1BQU8sQ0FBQyxFQUM1QixJQUVJRSxJQUFLQyxFQUZMQyxPQUFTLENBQUMsRUFDVkUsV0FBYUMsT0FBT0MsS0FBS1IsUUFFN0IsSUFBS0csRUFBSSxFQUFHQSxFQUFJRyxXQUFXRyxPQUFRTixJQUNqQ0QsSUFBTUksV0FBV0gsR0FDYkYsU0FBU1MsUUFBUVIsTUFBUSxJQUM3QkUsT0FBT0YsS0FBT0YsT0FBT0UsTUFFdkIsT0FBT0UsTUFDVCxDRFJlLENBQTZCSixPQUFRQyxVQUVsRCxHQUFJTSxPQUFPSSxzQkFBdUIsQ0FDaEMsSUFBSUMsaUJBQW1CTCxPQUFPSSxzQkFBc0JYLFFBQ3BELElBQUtHLEVBQUksRUFBR0EsRUFBSVMsaUJBQWlCSCxPQUFRTixJQUN2Q0QsSUFBTVUsaUJBQWlCVCxHQUNuQkYsU0FBU1MsUUFBUVIsTUFBUSxHQUN4QkssT0FBT00sVUFBVUMscUJBQXFCQyxLQUFLZixPQUFRRSxPQUN4REUsT0FBT0YsS0FBT0YsT0FBT0UsS0FFekIsQ0FDQSxPQUFPRSxNQUNULEMsd2xFRUVlLFNBQVNZLHVCQUFzQkMsTUF3QjFDLElBdkJBQyxVQUFTRCxLQUFUQyxVQUNBQyxXQUFVRixLQUFWRSxXQUNBQyxTQUFRSCxLQUFSRyxTQUNBQyxTQUFRSixLQUFSSSxTQUNBQyxTQUFRTCxLQUFSSyxTQUNBQyxrQkFBaUJOLEtBQWpCTSxrQkFDQUMsY0FBYVAsS0FBYk8sY0FDQUMsVUFBU1IsS0FBVFEsVUFDQUMsNkJBQTRCVCxLQUE1QlMs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QSxDQUNMLENBQ0EsT0FBT1Qsd0JBQ1gsR0FBRyxDQUFDaEUsbUJBQW9CNkIsZ0JBQzVCLEMsbUdDNUJPLFNBQVNuRCxrQkFBa0JiLFFBQzlCLElBQ0l1QixLQUF1QixPQUMzQixPQUZtQnZCLE9BQU82RyxPQUFPLElBRzdCLElBQUssSUFDRHRGLEtBQU8sT0FDUCxNQUNKLElBQUssSUFDREEsS0FBTyxXQUNQLE1BQ0osSUFBSyxJQUNEQSxLQUFPLFlBR2YsT0FBT0EsSUFDWCxDQUVPLFNBQVNULHFCQUFxQmQsUUFJakMsTUFIa0MsU0FBOUJhLGtCQUFrQmIsVUFDbEJBLE9BQVNBLE9BQU84RyxVQUFVLElBRXZCOUcsTUFDWCxDQU9PLFNBQVNXLFlBQ1pvRyxNQUNBL0csUUFFQSxJQUVJZ0gsZUFGRXpGLEtBQU9WLGtCQUFrQmIsUUFVL0IsT0FOSWdILGVBRFMsU0FBVHpGLEtBQ2lCd0YsTUFBTS9HLFFBQU8sU0FBQ25DLEdBQUMsT0FBS0EsRUFBRTBELE9BQVNBLElBQUksSUFFbkN3RixNQUdyQi9HLE9BQVNjLHFCQUFxQmQsUUFDdkJnSCxlQUFlaEgsUUFDbEIsU0FBQ25DLEdBQUMsT0FDK0QsSUFBN0RBLEVBQUVvSixVQUFVQyxjQUFjOUksUUFBUTRCLE9BQU9rSCxpQkFDZSxJQUF4RHJKLEVBQUVzSixLQUFLRCxjQUFjOUksUUFBUTRCLE9BQU9rSCxjQUFxQixHQUVyRSxDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVlc3Rpb25hYmxlLWNvbnRlbnQtc3BhLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzLmpzIiwid2VicGFjazovL3F1ZXN0aW9uYWJsZS1jb250ZW50LXNwYS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlLmpzIiwid2VicGFjazovL3F1ZXN0aW9uYWJsZS1jb250ZW50LXNwYS8uL3NyYy9jb21wb25lbnRzL0ZpbHRlcmVkTmF2aWdhdGlvbkRhdGEvRmlsdGVyZWROYXZpZ2F0aW9uRGF0YS50c3giLCJ3ZWJwYWNrOi8vcXVlc3Rpb25hYmxlLWNvbnRlbnQtc3BhLy4vc3JjL2hvb2tzL3VzZURlYm91bmNlZEZpbHRlci50cyIsIndlYnBhY2s6Ly9xdWVzdGlvbmFibGUtY29udGVudC1zcGEvLi9zcmMvY29tcG9uZW50cy9CdXR0b24udHN4Iiwid2VicGFjazovL3F1ZXN0aW9uYWJsZS1jb250ZW50LXNwYS8uL3NyYy9jb21wb25lbnRzL0NvbWljRGV0YWlsc1BhbmVsL0l0ZW1OYXZpZ2F0aW9uL0l0ZW1OYXZpZ2F0aW9uLnRzeCIsIndlYnBhY2s6Ly9xdWVzdGlvbmFibGUtY29udGVudC1zcGEvLi9zcmMvY29tcG9uZW50cy9JbmxpbmVTcGlubmVyLnRzeCIsIndlYnBhY2s6Ly9xdWVzdGlvbmFibGUtY29udGVudC1zcGEvLi9zcmMvY29tcG9uZW50cy9TcGlubmVyLnRzeCIsIndlYnBhY2s6Ly9xdWVzdGlvbmFibGUtY29udGVudC1zcGEvLi9zcmMvaG9va3MvdXNlSXRlbU5hdmlnYXRpb25EYXRhQnlUeXBlLnRzIiwid2VicGFjazovL3F1ZXN0aW9uYWJsZS1jb250ZW50LXNwYS8uL3NyYy9pdGVtRmlsdGVycy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSBmcm9tIFwiLi9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IG9iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7XG4gIHZhciBrZXksIGk7XG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7XG4gICAgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07XG4gICAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTtcbiAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgfVxuICB9XG4gIHJldHVybiB0YXJnZXQ7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBrZXksIGk7XG4gIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gIH1cbiAgcmV0dXJuIHRhcmdldDtcbn0iLCJpbXBvcnQgeyB1c2VNZW1vIH0gZnJvbSAncmVhY3QnXG5cbmltcG9ydCB7IFBhZGRlZEJ1dHRvbiB9IGZyb20gJ0Bjb21wb25lbnRzL0J1dHRvbidcbmltcG9ydCBJdGVtTmF2aWdhdGlvbiBmcm9tICdAY29tcG9uZW50cy9Db21pY0RldGFpbHNQYW5lbC9JdGVtTmF2aWdhdGlvbi9JdGVtTmF2aWdhdGlvbidcbmltcG9ydCB7IE5hdkVsZW1lbnRNb2RlIH0gZnJvbSAnQGNvbXBvbmVudHMvTmF2RWxlbWVudC9OYXZFbGVtZW50J1xuaW1wb3J0IHVzZURlYm91bmNlZEZpbHRlciBmcm9tICdAaG9va3MvdXNlRGVib3VuY2VkRmlsdGVyJ1xuaW1wb3J0IHsgQ29taWNJZCB9IGZyb20gJ0Btb2RlbHMvQ29taWNJZCdcbmltcG9ydCB7IEh5ZHJhdGVkSXRlbU5hdmlnYXRpb25EYXRhIH0gZnJvbSAnQG1vZGVscy9IeWRyYXRlZEl0ZW1EYXRhJ1xuaW1wb3J0IHsgSXRlbUJvZHkgfSBmcm9tICdAbW9kZWxzL0l0ZW1Cb2R5J1xuaW1wb3J0IHsgSXRlbUlkIH0gZnJvbSAnQG1vZGVscy9JdGVtSWQnXG5cbmltcG9ydCB7XG4gICAgZmlsdGVySXRlbXMsXG4gICAgZ2V0RmlsdGVyV2l0aG91dFR5cGUsXG4gICAgZ2V0VHlwZUZyb21GaWx0ZXIsXG59IGZyb20gJ34vaXRlbUZpbHRlcnMnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEZpbHRlcmVkTmF2aWdhdGlvbkRhdGEoe1xuICAgIGlzTG9hZGluZyxcbiAgICBpc0ZldGNoaW5nLFxuICAgIGlzU2F2aW5nLFxuICAgIGhhc0Vycm9yLFxuICAgIGl0ZW1EYXRhLFxuICAgIG9uU2V0Q3VycmVudENvbWljLFxuICAgIG9uU2hvd0luZm9Gb3IsXG4gICAgdXNlQ29sb3JzLFxuICAgIG9yZGVyTWVtYmVyc0J5TGFzdEFwcGVhcmFuY2UsXG4gICAgZWRpdE1vZGUsXG4gICAgb25BZGRJdGVtLFxufToge1xuICAgIGlzTG9hZGluZzogYm9vbGVhblxuICAgIGlzRmV0Y2hpbmc6IGJvb2xlYW5cbiAgICBpc1NhdmluZzogYm9vbGVhblxuICAgIGhhc0Vycm9yOiBib29sZWFuXG4gICAgaXRlbURhdGE6IEh5ZHJhdGVkSXRlbU5hdmlnYXRpb25EYXRhW11cbiAgICBvblNldEN1cnJlbnRDb21pYzogKGNvbWljSWQ6IENvbWljSWQpID0+IHZvaWRcbiAgICBvblNob3dJbmZvRm9yOiAoaXRlbTogSXRlbUlkKSA9PiB2b2lkXG4gICAgdXNlQ29sb3JzOiBib29sZWFuXG4gICAgb3JkZXJNZW1iZXJzQnlMYXN0QXBwZWFyYW5jZTogYm9vbGVhblxuICAgIGVkaXRNb2RlOiBib29sZWFuXG4gICAgb25BZGRJdGVtOiAoaXRlbTogSXRlbUJvZHkpID0+IHZvaWRcbn0pIHtcbiAgICBjb25zdCB7IGFjdGl2ZUZpbHRlciwgZmlsdGVyLCBzZXRGaWx0ZXIgfSA9IHVzZURlYm91bmNlZEZpbHRlcigpXG5cbiAgICBjb25zdCBmaWx0ZXJlZEl0ZW1EYXRhID0gdXNlTWVtbyhcbiAgICAgICAgKCkgPT4gZmlsdGVySXRlbXMoaXRlbURhdGEsIGFjdGl2ZUZpbHRlciksXG4gICAgICAgIFtpdGVtRGF0YSwgYWN0aXZlRmlsdGVyXVxuICAgIClcblxuICAgIGNvbnN0IFtmaWx0ZXJUeXBlLCBmaWx0ZXJOYW1lXSA9IHVzZU1lbW8oXG4gICAgICAgICgpID0+IFtcbiAgICAgICAgICAgIGdldFR5cGVGcm9tRmlsdGVyKGFjdGl2ZUZpbHRlciksXG4gICAgICAgICAgICBnZXRGaWx0ZXJXaXRob3V0VHlwZShhY3RpdmVGaWx0ZXIpLFxuICAgICAgICBdLFxuICAgICAgICBbYWN0aXZlRmlsdGVyXVxuICAgIClcblxuICAgIHJldHVybiAoXG4gICAgICAgIDw+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICBpZD1cInFjZXh0LWFsbGl0ZW1zLWZpbHRlclwiXG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRmlsdGVyIG5vbi1wcmVzZW50XCJcbiAgICAgICAgICAgICAgICB0aXRsZT1cIlRoZSB2YWx1ZSBlbnRlcmVkIGhlcmUgZmlsdGVycyB0aGUgbm9uLXByZXNlbnQgbWVtYmVycyBieSB0aGVpciBuYW1lIG9yIGFiYnJldmlhdGVkIG5hbWVcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtmaWx0ZXJ9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRGaWx0ZXIoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBib3JkZXIgYm9yZGVyLXFjLWhlYWRlciBmb2N1czpvdXRsaW5lLW5vbmUgZmxleC1hdXRvIHJvdW5kZWQtbm9uZSBwbC0yIGRpc2FibGVkOm9wYWNpdHktNzUgbWItMlwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZyB8fCBpc1NhdmluZyB8fCBoYXNFcnJvcn1cbiAgICAgICAgICAgICAgICBvbk1vdXNlVXA9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIDEgaXMgbWlkZGxlIGNsaWNrLCBzdXBwb3NlZGx5XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLmJ1dHRvbiA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0RmlsdGVyKCcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgeyhmaWx0ZXJlZEl0ZW1EYXRhLmxlbmd0aCA+IDAgfHwgaXNMb2FkaW5nKSAmJiAhaGFzRXJyb3IgPyAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvdmVyZmxvdy15LWF1dG8gb3ZlcmZsb3cteC1oaWRkZW4gbWF4LWgtNTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPEl0ZW1OYXZpZ2F0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtTmF2aWdhdGlvbkRhdGE9e2ZpbHRlcmVkSXRlbURhdGF9XG4gICAgICAgICAgICAgICAgICAgICAgICBpc0xvYWRpbmc9e2lzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRmV0Y2hpbmc9e2lzRmV0Y2hpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VDb2xvcnM9e3VzZUNvbG9yc31cbiAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyTWVtYmVyc0J5TGFzdEFwcGVhcmFuY2U9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyTWVtYmVyc0J5TGFzdEFwcGVhcmFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uU2V0Q3VycmVudENvbWljPXtvblNldEN1cnJlbnRDb21pY31cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uU2hvd0luZm9Gb3I9e29uU2hvd0luZm9Gb3J9XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlPXtOYXZFbGVtZW50TW9kZS5NaXNzaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdE1vZGU9e2VkaXRNb2RlfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25BZGRJdGVtPXsoaXRlbUlkKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQWRkSXRlbSh7IG5ldzogZmFsc2UsIGl0ZW1JZCB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSA6IGhhc0Vycm9yID8gKFxuICAgICAgICAgICAgICAgIDw+PC8+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIml0YWxpY1wiPlxuICAgICAgICAgICAgICAgICAgICBObyB7ZmlsdGVyVHlwZX0gZm91bmQgbWF0Y2hpbmcgJ3tmaWx0ZXJOYW1lfSdcbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAge2VkaXRNb2RlICYmIChcbiAgICAgICAgICAgICAgICA8UGFkZGVkQnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTIgdy1mdWxsXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlclR5cGUgPT09ICdpdGVtJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUHJlZml4IHRoZSBmaWx0ZXIgYnkgISBmb3IgY2FzdCwgQCBmb3IgbG9jYXRpb24gb3IgIyBmb3Igc3RvcnlsaW5lIHRvIGNob29zZSB0aGUgdHlwZSBvZiBpdGVtIHRvIGNyZWF0ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQWRkSXRlbSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3SXRlbU5hbWU6IGZpbHRlck5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0l0ZW1UeXBlOiBmaWx0ZXJUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtmaWx0ZXJOYW1lID09PSAnJyB8fCBpc1NhdmluZ31cbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9e1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyTmFtZSA9PT0gJydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdFbnRlciBzb21ldGhpbmcgaW4gdGhlIGZpbHRlciBib3ggdG8gY3JlYXRlIGFuIGl0ZW0nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnQWRkICcgKyBmaWx0ZXJUeXBlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIEFkZCBuZXcge2ZpbHRlclR5cGV9eycgJ31cbiAgICAgICAgICAgICAgICAgICAge2ZpbHRlck5hbWUgIT09ICcnID8gPD5uYW1lZCAne2ZpbHRlck5hbWV9JzwvPiA6IDw+PC8+fSB0b1xuICAgICAgICAgICAgICAgICAgICBjb21pY1xuICAgICAgICAgICAgICAgIDwvUGFkZGVkQnV0dG9uPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgPC8+XG4gICAgKVxufVxuIiwiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuXG5leHBvcnQgdHlwZSBEZWJvdW5jZWRGaWx0ZXIgPSB7XG4gICAgLyoqXG4gICAgICogQ3VycmVudCBmaWx0ZXIgdmFsdWUuIFRoaXMgdmFsdWUgc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3IgdGhlIHRleHRcbiAgICAgKiBpbnB1dCBzaW5jZSBpdCBjaGFuZ2VzIGltbWVkaWF0ZWx5IHdoZW4gYHNldEZpbHRlcmAgaXMgY2FsbGVkLlxuICAgICAqL1xuICAgIGZpbHRlcjogc3RyaW5nXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBmaWx0ZXIgdmFsdWUuIFdoZW4gdGhlcmUncyBiZWVuIGBkZWJvdW5jZVRpbWVvdXRgXG4gICAgICogbWlsbGlzZWNvbmRzIHNpbmNlIHRoZSBsYXN0IHRpbWUgdGhpcyBmdW5jdGlvbiB3YXMgY2FsbGVkLCB0aGVcbiAgICAgKiBgYWN0aXZlRmlsdGVyYCBnZXRzIHVwZGF0ZWQgd2l0aCBpdHMgbGFzdCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuZXdGaWx0ZXIgdGhlIG5ldyBmaWx0ZXIgdmFsdWVcbiAgICAgKi9cbiAgICBzZXRGaWx0ZXI6IChuZXdGaWx0ZXI6IHN0cmluZykgPT4gdm9pZFxuICAgIC8qKlxuICAgICAqIFRoZSBkZWJvdW5jZWQgZmlsdGVyIHZhbHVlLiBUaGlzIHZhbHVlIG9ubHkgdXBkYXRlcyB3aGVuIGl0J3MgYmVlblxuICAgICAqIGBkZWJvdW5jZVRpbWVvdXRgIG1pbGxpc2Vjb25kcyBzaW5jZSB0aGUgbGFzdCB0aW1lIHRoZSBgc2V0RmlsdGVyYFxuICAgICAqIGZ1bmN0aW9uIHdhcyBjYWxsZWQuXG4gICAgICovXG4gICAgYWN0aXZlRmlsdGVyOiBzdHJpbmdcbn1cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZURlYm91bmNlZEZpbHRlcihvcHRpb25zPzoge1xuICAgIGRlYm91bmNlVGltZW91dD86IG51bWJlclxufSk6IERlYm91bmNlZEZpbHRlciB7XG4gICAgY29uc3QgZGVib3VuY2VUaW1lb3V0ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuZGVib3VuY2VUaW1lb3V0KSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5kZWJvdW5jZVRpbWVvdXRcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gNTAwXG4gICAgfSwgW29wdGlvbnNdKVxuXG4gICAgY29uc3QgW2ZpbHRlciwgc2V0RmlsdGVyXSA9IHVzZVN0YXRlKCcnKVxuICAgIGNvbnN0IFthY3RpdmVGaWx0ZXIsIHNldEFjdGl2ZUZpbHRlcl0gPSB1c2VTdGF0ZSgnJylcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBsZXQgZmlsdGVyRGVib3VuY2VUaW1lb3V0OiBSZXR1cm5UeXBlPHR5cGVvZiBzZXRUaW1lb3V0PiB8IG51bGwgPVxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0QWN0aXZlRmlsdGVyKGZpbHRlcilcbiAgICAgICAgICAgICAgICBmaWx0ZXJEZWJvdW5jZVRpbWVvdXQgPSBudWxsXG4gICAgICAgICAgICB9LCBkZWJvdW5jZVRpbWVvdXQpXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZmlsdGVyRGVib3VuY2VUaW1lb3V0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGZpbHRlckRlYm91bmNlVGltZW91dClcbiAgICAgICAgICAgICAgICBmaWx0ZXJEZWJvdW5jZVRpbWVvdXQgPSBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCBbZmlsdGVyLCBkZWJvdW5jZVRpbWVvdXRdKVxuXG4gICAgcmV0dXJuIHsgYWN0aXZlRmlsdGVyLCBmaWx0ZXIsIHNldEZpbHRlciB9XG59XG4iLCJleHBvcnQgdHlwZSBCdXR0b25Qcm9wcyA9IHtcbiAgICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlXG4gICAgY2xhc3NOYW1lPzogc3RyaW5nXG59ICYgUmVhY3QuRGV0YWlsZWRIVE1MUHJvcHM8XG4gICAgUmVhY3QuQnV0dG9uSFRNTEF0dHJpYnV0ZXM8SFRNTEJ1dHRvbkVsZW1lbnQ+LFxuICAgIEhUTUxCdXR0b25FbGVtZW50XG4+XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBCdXR0b24oeyBjaGlsZHJlbiwgY2xhc3NOYW1lLCAuLi5yZXN0IH06IEJ1dHRvblByb3BzKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPXtcbiAgICAgICAgICAgICAgICAnYmctcWMtaGVhZGVyIGhvdmVyOmJnLXFjLWhlYWRlci1zZWNvbmQgZm9jdXM6YmctcWMtaGVhZGVyLXNlY29uZCB0ZXh0LXdoaXRlIHJvdW5kZWQtc20gZGlzYWJsZWQ6b3BhY2l0eS03NScgK1xuICAgICAgICAgICAgICAgIChjbGFzc05hbWUgPyBgICR7Y2xhc3NOYW1lfWAgOiAnJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHsuLi5yZXN0fVxuICAgICAgICA+XG4gICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvYnV0dG9uPlxuICAgIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBhZGRlZEJ1dHRvbih7IGNoaWxkcmVuLCBjbGFzc05hbWUsIC4uLnJlc3QgfTogQnV0dG9uUHJvcHMpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9eydweS0zIHB4LTQnICsgKGNsYXNzTmFtZSA/IGAgJHtjbGFzc05hbWV9YCA6ICcnKX1cbiAgICAgICAgICAgIHsuLi5yZXN0fVxuICAgICAgICA+XG4gICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvQnV0dG9uPlxuICAgIClcbn1cbiIsImltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnXG5cbmltcG9ydCBJbmxpbmVTcGlubmVyIGZyb20gJ0Bjb21wb25lbnRzL0lubGluZVNwaW5uZXInXG5pbXBvcnQgTmF2RWxlbWVudCwgeyBOYXZFbGVtZW50TW9kZSB9IGZyb20gJ0Bjb21wb25lbnRzL05hdkVsZW1lbnQvTmF2RWxlbWVudCdcbmltcG9ydCBTcGlubmVyIGZyb20gJ0Bjb21wb25lbnRzL1NwaW5uZXInXG5pbXBvcnQgdXNlSXRlbU5hdmlnYXRpb25EYXRhQnlUeXBlIGZyb20gJ0Bob29rcy91c2VJdGVtTmF2aWdhdGlvbkRhdGFCeVR5cGUnXG5pbXBvcnQgeyBDb21pY0lkIH0gZnJvbSAnQG1vZGVscy9Db21pY0lkJ1xuaW1wb3J0IHsgSHlkcmF0ZWRJdGVtTmF2aWdhdGlvbkRhdGEgfSBmcm9tICdAbW9kZWxzL0h5ZHJhdGVkSXRlbURhdGEnXG5pbXBvcnQgeyBJdGVtSWQgfSBmcm9tICdAbW9kZWxzL0l0ZW1JZCdcblxuaW1wb3J0IHsgUGlja0VudW0gfSBmcm9tICd+L3RzVXRpbHMnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEl0ZW1OYXZpZ2F0aW9uKHtcbiAgICBpdGVtTmF2aWdhdGlvbkRhdGEsXG4gICAgaXNMb2FkaW5nLFxuICAgIGlzRmV0Y2hpbmcsXG4gICAgdXNlQ29sb3JzLFxuICAgIG9yZGVyTWVtYmVyc0J5TGFzdEFwcGVhcmFuY2UsXG4gICAgb25TZXRDdXJyZW50Q29taWMsXG4gICAgb25TaG93SW5mb0ZvcixcbiAgICBtb2RlLFxuICAgIGVkaXRNb2RlLFxuICAgIG9uUmVtb3ZlSXRlbSxcbiAgICBvbkFkZEl0ZW0sXG4gICAgbG9ja2VkVG9JdGVtSWQsXG59OiB7XG4gICAgaXRlbU5hdmlnYXRpb25EYXRhOiBIeWRyYXRlZEl0ZW1OYXZpZ2F0aW9uRGF0YVtdXG4gICAgaXNMb2FkaW5nOiBib29sZWFuXG4gICAgaXNGZXRjaGluZzogYm9vbGVhblxuICAgIHVzZUNvbG9yczogYm9vbGVhblxuICAgIG9yZGVyTWVtYmVyc0J5TGFzdEFwcGVhcmFuY2U6IGJvb2xlYW5cbiAgICBvblNldEN1cnJlbnRDb21pYzogKGNvbWljTm86IENvbWljSWQsIGxvY2tlZDogYm9vbGVhbikgPT4gdm9pZFxuICAgIG9uU2hvd0luZm9Gb3I6IChpdGVtOiBJdGVtSWQpID0+IHZvaWRcbiAgICBtb2RlOiBQaWNrRW51bTxcbiAgICAgICAgTmF2RWxlbWVudE1vZGUsXG4gICAgICAgIE5hdkVsZW1lbnRNb2RlLlByZXNlbnQgfCBOYXZFbGVtZW50TW9kZS5NaXNzaW5nXG4gICAgPlxuICAgIGVkaXRNb2RlPzogYm9vbGVhblxuICAgIG9uUmVtb3ZlSXRlbT86IChfOiBJdGVtSWQpID0+IHZvaWRcbiAgICBvbkFkZEl0ZW0/OiAoXzogSXRlbUlkKSA9PiB2b2lkXG4gICAgbG9ja2VkVG9JdGVtSWQ/OiBJdGVtSWRcbn0pIHtcbiAgICBjb25zdCB7IGNhc3QsIGxvY2F0aW9uLCBzdG9yeWxpbmUsIGxvY2tlZCB9ID0gdXNlSXRlbU5hdmlnYXRpb25EYXRhQnlUeXBlKFxuICAgICAgICBpdGVtTmF2aWdhdGlvbkRhdGEsXG4gICAgICAgIGxvY2tlZFRvSXRlbUlkXG4gICAgKVxuXG4gICAgY29uc3QgaXRlbU5hdmlnYXRpb25Ub05hdkVsZW1lbnQgPSB1c2VDYWxsYmFjayhcbiAgICAgICAgKGl0ZW06IEh5ZHJhdGVkSXRlbU5hdmlnYXRpb25EYXRhKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxOYXZFbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIGtleT17aXRlbS5pZH1cbiAgICAgICAgICAgICAgICAgICAgaXRlbT17aXRlbX1cbiAgICAgICAgICAgICAgICAgICAgb25TZXRDdXJyZW50Q29taWM9e29uU2V0Q3VycmVudENvbWljfVxuICAgICAgICAgICAgICAgICAgICB1c2VDb2xvcnM9e3VzZUNvbG9yc31cbiAgICAgICAgICAgICAgICAgICAgb25TaG93SW5mb0Zvcj17b25TaG93SW5mb0Zvcn1cbiAgICAgICAgICAgICAgICAgICAgbW9kZT17bW9kZX1cbiAgICAgICAgICAgICAgICAgICAgZWRpdE1vZGU9e2VkaXRNb2RlfVxuICAgICAgICAgICAgICAgICAgICBvbkFkZEl0ZW09e29uQWRkSXRlbX1cbiAgICAgICAgICAgICAgICAgICAgb25SZW1vdmVJdGVtPXtvblJlbW92ZUl0ZW19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIClcbiAgICAgICAgfSxcbiAgICAgICAgW1xuICAgICAgICAgICAgZWRpdE1vZGUsXG4gICAgICAgICAgICBtb2RlLFxuICAgICAgICAgICAgb25BZGRJdGVtLFxuICAgICAgICAgICAgb25SZW1vdmVJdGVtLFxuICAgICAgICAgICAgb25TZXRDdXJyZW50Q29taWMsXG4gICAgICAgICAgICBvblNob3dJbmZvRm9yLFxuICAgICAgICAgICAgdXNlQ29sb3JzLFxuICAgICAgICBdXG4gICAgKVxuXG4gICAgY29uc3QgaXRlbU5hdkVsZW1lbnRzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjYXN0OiBjYXN0Lm1hcChpdGVtTmF2aWdhdGlvblRvTmF2RWxlbWVudCksXG4gICAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb24ubWFwKGl0ZW1OYXZpZ2F0aW9uVG9OYXZFbGVtZW50KSxcbiAgICAgICAgICAgIHN0b3J5bGluZTogc3RvcnlsaW5lLm1hcChpdGVtTmF2aWdhdGlvblRvTmF2RWxlbWVudCksXG4gICAgICAgICAgICBsb2NrZWQ6IGxvY2tlZC5tYXAoaXRlbU5hdmlnYXRpb25Ub05hdkVsZW1lbnQpLFxuICAgICAgICAgICAgYWxsOiBpdGVtTmF2aWdhdGlvbkRhdGEubWFwKGl0ZW1OYXZpZ2F0aW9uVG9OYXZFbGVtZW50KSxcbiAgICAgICAgfVxuICAgIH0sIFtcbiAgICAgICAgY2FzdCxcbiAgICAgICAgbG9jYXRpb24sXG4gICAgICAgIHN0b3J5bGluZSxcbiAgICAgICAgbG9ja2VkLFxuICAgICAgICBpdGVtTmF2aWdhdGlvbkRhdGEsXG4gICAgICAgIGl0ZW1OYXZpZ2F0aW9uVG9OYXZFbGVtZW50LFxuICAgIF0pXG5cbiAgICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB0LTRcIj5cbiAgICAgICAgICAgICAgICA8U3Bpbm5lclxuICAgICAgICAgICAgICAgICAgICBsb2FkaW5nVGV4dD1cIkxvYWRpbmcuLi5cIlxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9XCJoLThcIlxuICAgICAgICAgICAgICAgICAgICB3aWR0aD1cInctOFwiXG4gICAgICAgICAgICAgICAgICAgIHRleHRDb2xvcj1cInRleHQtYmxhY2tcIlxuICAgICAgICAgICAgICAgICAgICBzcGlubmVyQmdDb2xvcj1cInRleHQtZ3JheS0zMDBcIlxuICAgICAgICAgICAgICAgICAgICBzcGlubmVyQ29sb3I9XCJmaWxsLXFjLWxpbmtcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgIH1cblxuICAgIGlmICghaXRlbU5hdmlnYXRpb25EYXRhLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gPD48Lz5cbiAgICB9XG5cbiAgICBpZiAoIW9yZGVyTWVtYmVyc0J5TGFzdEFwcGVhcmFuY2UpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICB7ISFpdGVtTmF2RWxlbWVudHMubG9ja2VkLmxlbmd0aCAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxJdGVtVHlwZVNlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcj1cIk5hdmlnYXRpb24gTG9ja2VkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRmV0Y2hpbmc9e2lzRmV0Y2hpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlPXttb2RlfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudHM9e2l0ZW1OYXZFbGVtZW50cy5sb2NrZWR9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7ISFpdGVtTmF2RWxlbWVudHMuY2FzdC5sZW5ndGggJiYgKFxuICAgICAgICAgICAgICAgICAgICA8SXRlbVR5cGVTZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXI9XCJDYXN0IE1lbWJlcnNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgaXNGZXRjaGluZz17aXNGZXRjaGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU9e21vZGV9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50cz17aXRlbU5hdkVsZW1lbnRzLmNhc3R9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7ISFpdGVtTmF2RWxlbWVudHMubG9jYXRpb24ubGVuZ3RoICYmIChcbiAgICAgICAgICAgICAgICAgICAgPEl0ZW1UeXBlU2VjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyPVwiTG9jYXRpb25zXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRmV0Y2hpbmc9e2lzRmV0Y2hpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlPXttb2RlfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudHM9e2l0ZW1OYXZFbGVtZW50cy5sb2NhdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIHshIWl0ZW1OYXZFbGVtZW50cy5zdG9yeWxpbmUubGVuZ3RoICYmIChcbiAgICAgICAgICAgICAgICAgICAgPEl0ZW1UeXBlU2VjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyPVwiU3RvcnlsaW5lc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0ZldGNoaW5nPXtpc0ZldGNoaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZT17bW9kZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzPXtpdGVtTmF2RWxlbWVudHMuc3RvcnlsaW5lfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgPEl0ZW1UeXBlU2VjdGlvblxuICAgICAgICAgICAgICAgICAgICBoZWFkZXI9XCJSZWNlbnRcIlxuICAgICAgICAgICAgICAgICAgICBpc0ZldGNoaW5nPXtpc0ZldGNoaW5nfVxuICAgICAgICAgICAgICAgICAgICBtb2RlPXttb2RlfVxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50cz17aXRlbU5hdkVsZW1lbnRzLmFsbH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIClcbiAgICB9XG59XG5cbmZ1bmN0aW9uIEl0ZW1UeXBlU2VjdGlvbih7XG4gICAgaGVhZGVyLFxuICAgIGlzRmV0Y2hpbmcsXG4gICAgbW9kZSxcbiAgICBlbGVtZW50cyxcbn06IHtcbiAgICBoZWFkZXI6IHN0cmluZ1xuICAgIGlzRmV0Y2hpbmc6IGJvb2xlYW5cbiAgICBtb2RlOiBOYXZFbGVtZW50TW9kZVxuICAgIGVsZW1lbnRzOiBKU1guRWxlbWVudFtdXG59KSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPD5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LWJhc2UgZm9udC1ub3JtYWwgdGV4dC1jZW50ZXIgbS0yXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW52aXNpYmxlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxJbmxpbmVTcGlubmVyIC8+XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIHtoZWFkZXJ9XG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICdpbmxpbmUtYmxvY2sgYWxpZ24tbWlkZGxlJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAoIWlzRmV0Y2hpbmcgPyAnIGludmlzaWJsZScgOiAnJylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPElubGluZVNwaW5uZXIgLz5cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAge21vZGUgPT09IE5hdkVsZW1lbnRNb2RlLk1pc3NpbmcgPyAoXG4gICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1ub3JtYWwgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgKE5vbi1QcmVzZW50KVxuICAgICAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIDw+PC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAge2VsZW1lbnRzfVxuICAgICAgICA8Lz5cbiAgICApXG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBJbmxpbmVTcGlubmVyKHtcbiAgICBjb2xvcjogY2xhc3NOYW1lLFxufToge1xuICAgIGNvbG9yPzogc3RyaW5nXG59KSB7XG4gICAgaWYgKCFjbGFzc05hbWUpIHtcbiAgICAgICAgY2xhc3NOYW1lID0gJ3RleHQtcWMtaGVhZGVyJ1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgICA8c3ZnXG4gICAgICAgICAgICBjbGFzc05hbWU9e2BhbmltYXRlLXNwaW4gbWwtMSBtci0zIGgtNSB3LTUgJHtjbGFzc05hbWV9YH1cbiAgICAgICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICAgICAgZmlsbD1cIm5vbmVcIlxuICAgICAgICAgICAgdmlld0JveD1cIjAgMCAyNCAyNFwiXG4gICAgICAgID5cbiAgICAgICAgICAgIDxjaXJjbGVcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJvcGFjaXR5LTI1XCJcbiAgICAgICAgICAgICAgICBjeD1cIjEyXCJcbiAgICAgICAgICAgICAgICBjeT1cIjEyXCJcbiAgICAgICAgICAgICAgICByPVwiMTBcIlxuICAgICAgICAgICAgICAgIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9XCI0XCJcbiAgICAgICAgICAgID48L2NpcmNsZT5cbiAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwib3BhY2l0eS03NVwiXG4gICAgICAgICAgICAgICAgZmlsbD1cImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgICAgICAgZD1cIk00IDEyYTggOCAwIDAxOC04VjBDNS4zNzMgMCAwIDUuMzczIDAgMTJoNHptMiA1LjI5MUE3Ljk2MiA3Ljk2MiAwIDAxNCAxMkgwYzAgMy4wNDIgMS4xMzUgNS44MjQgMyA3LjkzOGwzLTIuNjQ3elwiXG4gICAgICAgICAgICA+PC9wYXRoPlxuICAgICAgICA8L3N2Zz5cbiAgICApXG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTcGlubmVyKHtcbiAgICBsb2FkaW5nVGV4dCxcbiAgICBoZWlnaHQsXG4gICAgd2lkdGgsXG4gICAgdGV4dENvbG9yLFxuICAgIHNwaW5uZXJDb2xvcixcbiAgICBzcGlubmVyQmdDb2xvcixcbn06IHtcbiAgICBsb2FkaW5nVGV4dDogc3RyaW5nXG4gICAgaGVpZ2h0OiBzdHJpbmdcbiAgICB3aWR0aDogc3RyaW5nXG4gICAgdGV4dENvbG9yOiBzdHJpbmdcbiAgICBzcGlubmVyQ29sb3I6IHN0cmluZ1xuICAgIHNwaW5uZXJCZ0NvbG9yOiBzdHJpbmdcbn0pIHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8PlxuICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICAgIGFyaWEtaGlkZGVuPVwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgaW5saW5lIG1yLTIgJHtzcGlubmVyQmdDb2xvcn0gYW5pbWF0ZS1zcGluICR7c3Bpbm5lckNvbG9yfSAke2hlaWdodH0gJHt3aWR0aH1gfVxuICAgICAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMTAwIDEwMVwiXG4gICAgICAgICAgICAgICAgZmlsbD1cIm5vbmVcIlxuICAgICAgICAgICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgICAgICAgIGQ9XCJNMTAwIDUwLjU5MDhDMTAwIDc4LjIwNTEgNzcuNjE0MiAxMDAuNTkxIDUwIDEwMC41OTFDMjIuMzg1OCAxMDAuNTkxIDAgNzguMjA1MSAwIDUwLjU5MDhDMCAyMi45NzY2IDIyLjM4NTggMC41OTA4MiA1MCAwLjU5MDgyQzc3LjYxNDIgMC41OTA4MiAxMDAgMjIuOTc2NiAxMDAgNTAuNTkwOFpNOS4wODE0NCA1MC41OTA4QzkuMDgxNDQgNzMuMTg5NSAyNy40MDEzIDkxLjUwOTQgNTAgOTEuNTA5NEM3Mi41OTg3IDkxLjUwOTQgOTAuOTE4NiA3My4xODk1IDkwLjkxODYgNTAuNTkwOEM5MC45MTg2IDI3Ljk5MjEgNzIuNTk4NyA5LjY3MjI2IDUwIDkuNjcyMjZDMjcuNDAxMyA5LjY3MjI2IDkuMDgxNDQgMjcuOTkyMSA5LjA4MTQ0IDUwLjU5MDhaXCJcbiAgICAgICAgICAgICAgICAgICAgZmlsbD1cImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgICAgICAgICBkPVwiTTkzLjk2NzYgMzkuMDQwOUM5Ni4zOTMgMzguNDAzOCA5Ny44NjI0IDM1LjkxMTYgOTcuMDA3OSAzMy41NTM5Qzk1LjI5MzIgMjguODIyNyA5Mi44NzEgMjQuMzY5MiA4OS44MTY3IDIwLjM0OEM4NS44NDUyIDE1LjExOTIgODAuODgyNiAxMC43MjM4IDc1LjIxMjQgNy40MTI4OUM2OS41NDIyIDQuMTAxOTQgNjMuMjc1NCAxLjk0MDI1IDU2Ljc2OTggMS4wNTEyNEM1MS43NjY2IDAuMzY3NTQxIDQ2LjY5NzYgMC40NDY4NDMgNDEuNzM0NSAxLjI3ODczQzM5LjI2MTMgMS42OTMyOCAzNy44MTMgNC4xOTc3OCAzOC40NTAxIDYuNjIzMjZDMzkuMDg3MyA5LjA0ODc0IDQxLjU2OTQgMTAuNDcxNyA0NC4wNTA1IDEwLjEwNzFDNDcuODUxMSA5LjU0ODU1IDUxLjcxOTEgOS41MjY4OSA1NS41NDAyIDEwLjA0OTFDNjAuODY0MiAxMC43NzY2IDY1Ljk5MjggMTIuNTQ1NyA3MC42MzMxIDE1LjI1NTJDNzUuMjczNSAxNy45NjQ4IDc5LjMzNDcgMjEuNTYxOSA4Mi41ODQ5IDI1Ljg0MUM4NC45MTc1IDI4LjkxMjEgODYuNzk5NyAzMi4yOTEzIDg4LjE4MTEgMzUuODc1OEM4OS4wODMgMzguMjE1OCA5MS41NDIxIDM5LjY3ODEgOTMuOTY3NiAzOS4wNDA5WlwiXG4gICAgICAgICAgICAgICAgICAgIGZpbGw9XCJjdXJyZW50RmlsbFwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPXtgJHt0ZXh0Q29sb3J9IGZvbnQtYm9sZGB9Pntsb2FkaW5nVGV4dH08L3A+XG4gICAgICAgIDwvPlxuICAgIClcbn1cbiIsImltcG9ydCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgSHlkcmF0ZWRJdGVtTmF2aWdhdGlvbkRhdGEgfSBmcm9tICdAbW9kZWxzL0h5ZHJhdGVkSXRlbURhdGEnXG5pbXBvcnQgeyBJdGVtSWQgfSBmcm9tICdAbW9kZWxzL0l0ZW1JZCdcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlSXRlbU5hdmlnYXRpb25EYXRhQnlUeXBlKFxuICAgIGl0ZW1OYXZpZ2F0aW9uRGF0YTogSHlkcmF0ZWRJdGVtTmF2aWdhdGlvbkRhdGFbXSB8IHVuZGVmaW5lZCxcbiAgICBsb2NrZWRUb0l0ZW1JZD86IEl0ZW1JZFxuKSB7XG4gICAgcmV0dXJuIHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBsZXQgaXRlbU5hdmlnYXRpb25EYXRhQnlUeXBlOiB7XG4gICAgICAgICAgICBjYXN0OiBIeWRyYXRlZEl0ZW1OYXZpZ2F0aW9uRGF0YVtdXG4gICAgICAgICAgICBsb2NhdGlvbjogSHlkcmF0ZWRJdGVtTmF2aWdhdGlvbkRhdGFbXVxuICAgICAgICAgICAgc3RvcnlsaW5lOiBIeWRyYXRlZEl0ZW1OYXZpZ2F0aW9uRGF0YVtdXG4gICAgICAgICAgICBsb2NrZWQ6IEh5ZHJhdGVkSXRlbU5hdmlnYXRpb25EYXRhW11cbiAgICAgICAgfSA9IHtcbiAgICAgICAgICAgIGNhc3Q6IFtdLFxuICAgICAgICAgICAgbG9jYXRpb246IFtdLFxuICAgICAgICAgICAgc3RvcnlsaW5lOiBbXSxcbiAgICAgICAgICAgIGxvY2tlZDogW10sXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGl0ZW1OYXZpZ2F0aW9uRGF0YSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1OYXZpZ2F0aW9uRGF0YSkge1xuICAgICAgICAgICAgICAgIGlmIChsb2NrZWRUb0l0ZW1JZCAmJiBpdGVtLmlkID09PSBsb2NrZWRUb0l0ZW1JZCkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtTmF2aWdhdGlvbkRhdGFCeVR5cGVbJ2xvY2tlZCddLnB1c2goaXRlbSlcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpdGVtTmF2aWdhdGlvbkRhdGFCeVR5cGVbaXRlbS50eXBlXS5wdXNoKGl0ZW0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVtTmF2aWdhdGlvbkRhdGFCeVR5cGVcbiAgICB9LCBbaXRlbU5hdmlnYXRpb25EYXRhLCBsb2NrZWRUb0l0ZW1JZF0pXG59XG4iLCJpbXBvcnQgeyBJdGVtVHlwZSB9IGZyb20gJ0Btb2RlbHMvSXRlbVR5cGUnXG5cbmV4cG9ydCB0eXBlIEZpbHRlckl0ZW1UeXBlID0gSXRlbVR5cGUgfCAnaXRlbSdcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFR5cGVGcm9tRmlsdGVyKGZpbHRlcjogc3RyaW5nKSB7XG4gICAgY29uc3QgdHlwZUZpbHRlciA9IGZpbHRlci5jaGFyQXQoMClcbiAgICBsZXQgdHlwZTogRmlsdGVySXRlbVR5cGUgPSAnaXRlbSdcbiAgICBzd2l0Y2ggKHR5cGVGaWx0ZXIpIHtcbiAgICAgICAgY2FzZSAnISc6XG4gICAgICAgICAgICB0eXBlID0gJ2Nhc3QnXG4gICAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdAJzpcbiAgICAgICAgICAgIHR5cGUgPSAnbG9jYXRpb24nXG4gICAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICcjJzpcbiAgICAgICAgICAgIHR5cGUgPSAnc3RvcnlsaW5lJ1xuICAgICAgICAgICAgYnJlYWtcbiAgICB9XG4gICAgcmV0dXJuIHR5cGVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZpbHRlcldpdGhvdXRUeXBlKGZpbHRlcjogc3RyaW5nKSB7XG4gICAgaWYgKGdldFR5cGVGcm9tRmlsdGVyKGZpbHRlcikgIT09ICdpdGVtJykge1xuICAgICAgICBmaWx0ZXIgPSBmaWx0ZXIuc3Vic3RyaW5nKDEpXG4gICAgfVxuICAgIHJldHVybiBmaWx0ZXJcbn1cblxudHlwZSBGaWx0ZXJhYmxlSXRlbSA9IHtcbiAgICBzaG9ydE5hbWU6IHN0cmluZ1xuICAgIG5hbWU6IHN0cmluZ1xuICAgIHR5cGU6IEl0ZW1UeXBlXG59XG5leHBvcnQgZnVuY3Rpb24gZmlsdGVySXRlbXM8SSBleHRlbmRzIEZpbHRlcmFibGVJdGVtPihcbiAgICBpdGVtczogSVtdLFxuICAgIGZpbHRlcjogc3RyaW5nXG4pIHtcbiAgICBjb25zdCB0eXBlID0gZ2V0VHlwZUZyb21GaWx0ZXIoZmlsdGVyKVxuXG4gICAgbGV0IGZpbHRlcmVkQnlUeXBlXG4gICAgaWYgKHR5cGUgIT09ICdpdGVtJykge1xuICAgICAgICBmaWx0ZXJlZEJ5VHlwZSA9IGl0ZW1zLmZpbHRlcigoaSkgPT4gaS50eXBlID09PSB0eXBlKVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbHRlcmVkQnlUeXBlID0gaXRlbXNcbiAgICB9XG5cbiAgICBmaWx0ZXIgPSBnZXRGaWx0ZXJXaXRob3V0VHlwZShmaWx0ZXIpXG4gICAgcmV0dXJuIGZpbHRlcmVkQnlUeXBlLmZpbHRlcihcbiAgICAgICAgKGkpID0+XG4gICAgICAgICAgICBpLnNob3J0TmFtZS50b1VwcGVyQ2FzZSgpLmluZGV4T2YoZmlsdGVyLnRvVXBwZXJDYXNlKCkpICE9PSAtMSB8fFxuICAgICAgICAgICAgaS5uYW1lLnRvVXBwZXJDYXNlKCkuaW5kZXhPZihmaWx0ZXIudG9VcHBlckNhc2UoKSkgIT09IC0xXG4gICAgKVxufVxuIl0sIm5hbWVzIjpbIl9vYmplY3RXaXRob3V0UHJvcGVydGllcyIsInNvdXJjZSIsImV4Y2x1ZGVkIiwia2V5IiwiaSIsInRhcmdldCIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIiwic291cmNlS2V5cyIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJpbmRleE9mIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwic291cmNlU3ltYm9sS2V5cyIsInByb3RvdHlwZSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiY2FsbCIsIkZpbHRlcmVkTmF2aWdhdGlvbkRhdGEiLCJfcmVmIiwiaXNMb2FkaW5nIiwiaXNGZXRjaGluZyIsImlzU2F2aW5nIiwiaGFzRXJyb3IiLCJpdGVtRGF0YSIsIm9uU2V0Q3VycmVudENvbWljIiwib25TaG93SW5mb0ZvciIsInVzZUNvbG9ycyIsIm9yZGVyTWVtYmVyc0J5TGFzdEFwcGVhcmFuY2UiLCJlZGl0TW9kZSIsIm9uQWRkSXRlbSIsIl91c2VEZWJvdW5jZWRGaWx0ZXIiLCJ1c2VEZWJvdW5jZWRGaWx0ZXIiLCJvcHRpb25zIiwiZGVib3VuY2VUaW1lb3V0IiwidXNlTWVtbyIsIl91c2VTdGF0ZSIsInVzZVN0YXRlIiwiX3VzZVN0YXRlMiIsIl9zbGljZWRUb0FycmF5IiwiZmlsdGVyIiwic2V0RmlsdGVyIiwiX3VzZVN0YXRlMyIsIl91c2VTdGF0ZTQiLCJhY3RpdmVGaWx0ZXIiLCJzZXRBY3RpdmVGaWx0ZXIiLCJ1c2VFZmZlY3QiLCJmaWx0ZXJEZWJvdW5jZVRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiZmlsdGVyZWRJdGVtRGF0YSIsImZpbHRlckl0ZW1zIiwiX3VzZU1lbW8iLCJnZXRUeXBlRnJvbUZpbHRlciIsImdldEZpbHRlcldpdGhvdXRUeXBlIiwiX3VzZU1lbW8yIiwiZmlsdGVyVHlwZSIsImZpbHRlck5hbWUiLCJfanN4cyIsIl9GcmFnbWVudCIsImNoaWxkcmVuIiwiX2pzeCIsImlkIiwidHlwZSIsInBsYWNlaG9sZGVyIiwidGl0bGUiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwiZSIsImNsYXNzTmFtZSIsImRpc2FibGVkIiwib25Nb3VzZVVwIiwiYnV0dG9uIiwicHJldmVudERlZmF1bHQiLCJJdGVtTmF2aWdhdGlvbiIsIml0ZW1OYXZpZ2F0aW9uRGF0YSIsIm1vZGUiLCJOYXZFbGVtZW50TW9kZSIsIk1pc3NpbmciLCJpdGVtSWQiLCJuZXciLCJQYWRkZWRCdXR0b24iLCJvbkNsaWNrIiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJfcmVnZW5lcmF0b3JSdW50aW1lIiwibWFyayIsIl9jYWxsZWUiLCJ3cmFwIiwiX2NhbGxlZSQiLCJfY29udGV4dCIsInByZXYiLCJuZXh0IiwiYWxlcnQiLCJuZXdJdGVtTmFtZSIsIm5ld0l0ZW1UeXBlIiwic3RvcCIsIkJ1dHRvbiIsInJlc3QiLCJfZXhjbHVkZWQiLCJfb2JqZWN0U3ByZWFkIiwiY29uY2F0IiwiX3JlZjIiLCJfZXhjbHVkZWQyIiwib25SZW1vdmVJdGVtIiwibG9ja2VkVG9JdGVtSWQiLCJfdXNlSXRlbU5hdmlnYXRpb25EYXQiLCJ1c2VJdGVtTmF2aWdhdGlvbkRhdGFCeVR5cGUiLCJjYXN0IiwibG9jYXRpb24iLCJzdG9yeWxpbmUiLCJsb2NrZWQiLCJpdGVtTmF2aWdhdGlvblRvTmF2RWxlbWVudCIsInVzZUNhbGxiYWNrIiwiaXRlbSIsIk5hdkVsZW1lbnQiLCJpdGVtTmF2RWxlbWVudHMiLCJtYXAiLCJhbGwiLCJTcGlubmVyIiwibG9hZGluZ1RleHQiLCJoZWlnaHQiLCJ3aWR0aCIsInRleHRDb2xvciIsInNwaW5uZXJCZ0NvbG9yIiwic3Bpbm5lckNvbG9yIiwiSXRlbVR5cGVTZWN0aW9uIiwiaGVhZGVyIiwiZWxlbWVudHMiLCJJbmxpbmVTcGlubmVyIiwiY29sb3IiLCJ4bWxucyIsImZpbGwiLCJ2aWV3Qm94IiwiY3giLCJjeSIsInIiLCJzdHJva2UiLCJzdHJva2VXaWR0aCIsImQiLCJpdGVtTmF2aWdhdGlvbkRhdGFCeVR5cGUiLCJfc3RlcCIsIl9pdGVyYXRvciIsIl9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIiwicyIsIm4iLCJkb25lIiwicHVzaCIsImVyciIsImYiLCJjaGFyQXQiLCJzdWJzdHJpbmciLCJpdGVtcyIsImZpbHRlcmVkQnlUeXBlIiwic2hvcnROYW1lIiwidG9VcHBlckNhc2UiLCJuYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==