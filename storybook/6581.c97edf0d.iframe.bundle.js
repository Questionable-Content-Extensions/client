"use strict";(self.webpackChunkquestionable_content_spa=self.webpackChunkquestionable_content_spa||[]).push([[6581],{"./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return _toConsumableArray}});var arrayLikeToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");var unsupportedIterableToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return(0,arrayLikeToArray.Z)(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||(0,unsupportedIterableToArray.Z)(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},"./src/components/GoToComicDialog/CollapsibleDetails/CollapsibleDetails.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return CollapsibleDetails}});var CollapsibleDetails_module={details:"CollapsibleDetails_details__vsteN"},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function CollapsibleDetails(_ref){var summary=_ref.summary,children=_ref.children,initiallyOpen=_ref.initiallyOpen,indentChildren=_ref.indentChildren,onToggle=_ref.onToggle;return(0,jsx_runtime.jsxs)("details",{className:CollapsibleDetails_module.details,open:initiallyOpen,onToggle:onToggle,children:[(0,jsx_runtime.jsxs)("summary",{className:"py-4 mb-2 flex items-center font-bold border-0 border-b border-solid border-gray-200",children:[summary,(0,jsx_runtime.jsx)("button",{className:"ml-auto",children:(0,jsx_runtime.jsx)("svg",{className:"fill-current opacity-75 w-4 h-4 -mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:(0,jsx_runtime.jsx)("path",{d:"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z"})})})]}),(0,jsx_runtime.jsx)("div",{className:indentChildren?"mx-5":"",children:children})]})}try{CollapsibleDetails.displayName="CollapsibleDetails",CollapsibleDetails.__docgenInfo={description:"",displayName:"CollapsibleDetails",props:{summary:{defaultValue:null,description:"",name:"summary",required:!0,type:{name:"string"}},initiallyOpen:{defaultValue:null,description:"",name:"initiallyOpen",required:!1,type:{name:"boolean"}},indentChildren:{defaultValue:null,description:"",name:"indentChildren",required:!1,type:{name:"boolean"}},onToggle:{defaultValue:null,description:"",name:"onToggle",required:!1,type:{name:"ReactEventHandler<HTMLDetailsElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/GoToComicDialog/CollapsibleDetails/CollapsibleDetails.tsx#CollapsibleDetails"]={docgenInfo:CollapsibleDetails.__docgenInfo,name:"CollapsibleDetails",path:"src/components/GoToComicDialog/CollapsibleDetails/CollapsibleDetails.tsx#CollapsibleDetails"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/GoToComicDialog/ComicList/ComicFilter/ComicFilter.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return ComicFilter},v:function(){return FilterType}});var FilterType,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"),_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_store_api_itemApiSlice__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/store/api/itemApiSlice.ts"),_itemFilters__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/itemFilters.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");function ComicFilter(_ref){var filters=_ref.filters,setFilters=_ref.setFilters,itemData=(0,_store_api_itemApiSlice__WEBPACK_IMPORTED_MODULE_1__.HV)().data,_useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),_useState2=(0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__.Z)(_useState,2),filterText=_useState2[0],setFilterText=_useState2[1],_useState3=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),_useState4=(0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__.Z)(_useState3,2),dropDownOpen=_useState4[0],setDropDownOpen=_useState4[1],_useState5=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),_useState6=(0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__.Z)(_useState5,2),activeSuggestion=_useState6[0],setActiveSuggestion=_useState6[1],activeRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),inputRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),_addFilter=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(filter){setFilters((function(f){return[].concat((0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_4__.Z)(f),[filter])})),setFilterText(""),inputRef.current&&inputRef.current===document.activeElement||setDropDownOpen(!1)}),[setFilters]),suggestedFilters=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){var index=0,suggestedFilters=[];if(suggestedFilters.push((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SuggestedFilter,{filter:{type:FilterType.Text,value:filterText},addFilter:function addFilter(f){filterText.trim().length>0&&_addFilter(f)},highlighted:activeSuggestion===index,ref:activeSuggestion===index?activeRef:void 0},"text")),index++,itemData){var _step,_iterator=(0,_home_runner_work_client_client_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_5__.Z)(function filterItems(allItems,filter){var _ref2=[(0,_itemFilters__WEBPACK_IMPORTED_MODULE_6__.WE)(filter),(0,_itemFilters__WEBPACK_IMPORTED_MODULE_6__.mt)(filter)],filterType=_ref2[0],filterName=_ref2[1];return allItems.filter((function(c){var isRightType="item"===filterType||c.type===filterType,hasName=-1!==c.name.toUpperCase().indexOf(filterName.toUpperCase()),hasShortName=-1!==c.shortName.toUpperCase().indexOf(filterName.toUpperCase());return isRightType&&(hasName||hasShortName)}))}(itemData,filterText));try{var _loop=function _loop(){var item=_step.value;filters.find((function(f){return f.type===FilterType.Item&&f.value.id===item.id}))||(suggestedFilters.push((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SuggestedFilter,{filter:{type:FilterType.Item,value:item},addFilter:_addFilter,highlighted:activeSuggestion===index,ref:activeSuggestion===index?activeRef:void 0},item.id)),index++)};for(_iterator.s();!(_step=_iterator.n()).done;)_loop()}catch(err){_iterator.e(err)}finally{_iterator.f()}}return filters.find((function(f){return f.type===FilterType.IsGuestComic}))||(suggestedFilters.push((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SuggestedFilter,{filter:{type:FilterType.IsGuestComic,value:!0},addFilter:_addFilter,highlighted:activeSuggestion===index,ref:activeSuggestion===index?activeRef:void 0},"guest")),index++,suggestedFilters.push((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SuggestedFilter,{filter:{type:FilterType.IsGuestComic,value:!1},addFilter:_addFilter,highlighted:activeSuggestion===index,ref:activeSuggestion===index?activeRef:void 0},"not-guest")),index++),filters.find((function(f){return f.type===FilterType.IsNonCanon}))||(suggestedFilters.push((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SuggestedFilter,{filter:{type:FilterType.IsNonCanon,value:!0},addFilter:_addFilter,highlighted:activeSuggestion===index,ref:activeSuggestion===index?activeRef:void 0},"non-canon")),index++,suggestedFilters.push((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SuggestedFilter,{filter:{type:FilterType.IsNonCanon,value:!1},addFilter:_addFilter,highlighted:activeSuggestion===index,ref:activeSuggestion===index?activeRef:void 0},"not-non-canon")),index++),suggestedFilters}),[itemData,filterText,filters,activeSuggestion,_addFilter]);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){dropDownOpen&&(activeSuggestion>suggestedFilters.length-1&&setActiveSuggestion(suggestedFilters.length-1),activeRef.current&&activeRef.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}))}),[suggestedFilters,activeSuggestion,dropDownOpen]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:"relative",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{className:"fixed inset-0"+(dropDownOpen?"":" hidden"),onClick:function onClick(e){e.preventDefault(),setDropDownOpen(!1)}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:"flex flex-wrap border border-black border-solid py-1 relative",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("ul",{className:"p-0 m-0 list-none flex flex-wrap",children:filters.map((function(filter,i){var index=i;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ActiveFilter,{filter:filter,onDelete:function onDelete(){return setFilters((function(f){return f.filter((function(_,i){return i!==index}))}))}},index)}))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("input",{ref:inputRef,type:"text",spellCheck:"false",className:"border-none outline-none flex-auto",onFocus:function onFocus(){return setDropDownOpen(!0)},onKeyDown:function onKeyDown(e){if("ArrowUp"===e.code||"ArrowDown"===e.code||"Enter"===e.code||"Escape"===e.code)if(e.preventDefault(),"ArrowUp"===e.code)dropDownOpen||setDropDownOpen(!0),setActiveSuggestion((function(s){return s>0?s-1:suggestedFilters.length-1}));else if("ArrowDown"===e.code)dropDownOpen||setDropDownOpen(!0),setActiveSuggestion((function(s){return s<suggestedFilters.length-1?s+1:0}));else if("Enter"===e.code){if(!dropDownOpen)return void setDropDownOpen(!0);activeRef.current&&activeRef.current.querySelector("button").click()}else"Escape"===e.code&&dropDownOpen&&setDropDownOpen(!1);else"Backspace"===e.code&&""===filterText&&filters.length>0&&setFilters((function(f){return f.filter((function(_,i){return i!==filters.length-1}))}))},value:filterText,onChange:function onChange(e){return setFilterText(e.target.value)}})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("ul",{className:"bg-slate-100 list-none m-0 p-1 absolute w-full overflow-y-auto max-h-48 shadow-md border-x border-y-0 border-b border-solid border-slate-500"+(dropDownOpen?"":" hidden"),children:suggestedFilters})]})}!function(FilterType){FilterType[FilterType.Text=0]="Text",FilterType[FilterType.Item=1]="Item",FilterType[FilterType.IsGuestComic=2]="IsGuestComic",FilterType[FilterType.IsNonCanon=3]="IsNonCanon"}(FilterType||(FilterType={}));var SuggestedFilter=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((function(_ref3,ref){var filterElement,highlighted=_ref3.highlighted,filter=_ref3.filter,addFilter=_ref3.addFilter;switch(filter.type){case FilterType.Text:filterElement=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:["Add"," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("span",{className:"inline-block border border-solid px-2 py-1 rounded-lg border-slate-400 bg-slate-200",children:['Contains text "',filter.value,'"']})," ","filter..."]});break;case FilterType.Item:filterElement=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:["Add"," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("span",{className:"inline-block border border-solid px-2 py-1 rounded-lg border-orange-400 bg-orange-200",children:["Contains ",filter.value.type," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{className:"font-bold",children:filter.value.shortName})]})," ","filter..."]});break;case FilterType.IsGuestComic:case FilterType.IsNonCanon:var color;color=filter.type===FilterType.IsGuestComic?"border-qc-header bg-qc-header-second":"border-qc-non-canon bg-qc-non-canon-second",filterElement=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:["Add"," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("span",{className:"inline-block border border-solid px-2 py-1 rounded-lg text-white "+color,children:[filter.value?"Is":"Is not"," ",filter.type===FilterType.IsGuestComic?"guest comic":"non-canon"]})," ","filter..."]})}return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("li",{className:"my-1 flex"+(highlighted?" bg-blue-500 -m-1 p-1":""),ref:highlighted?ref:void 0,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("button",{className:"flex-auto text-left",onClick:function onClick(){addFilter(filter)},children:filterElement})})}));function ActiveFilter(_ref4){var title,contents,colorClassName,filter=_ref4.filter,onDelete=_ref4.onDelete;switch(filter.type){case FilterType.Text:title='Comic contains "'.concat(filter.value,'" in its title or tagline'),contents=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:["Contains"," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{className:"font-bold",children:'"'.concat(filter.value,'"')})," in title/tagline"]}),colorClassName="border-slate-400 bg-slate-200";break;case FilterType.Item:title="Comic contains ".concat(filter.value.type,' "').concat(filter.value.name,'"'),contents=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:["Contains ",filter.value.type," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{className:"font-bold",children:'"'.concat(filter.value.shortName,'"')})]}),colorClassName="border-orange-400 bg-orange-200";break;case FilterType.IsGuestComic:case FilterType.IsNonCanon:var contains;colorClassName="text-white ",filter.type===FilterType.IsGuestComic?(colorClassName+="border-qc-header bg-qc-header-second",contains=(filter.value?"is":"is not")+" guest comic"):(colorClassName+="border-qc-non-canon bg-qc-non-canon-second",contains=(filter.value?"is":"is not")+" non-canon"),title="Comic ".concat(contains),contents=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:[filter.value?"Is":"Is not"," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{children:filter.type===FilterType.IsGuestComic?"guest comic":"non-canon"})]})}return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("li",{className:"mx-1 border border-solid px-2 rounded-lg "+colorClassName,title:title,children:[contents,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("button",{onClick:function onClick(){return onDelete()},title:"Remove filter",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("i",{className:"fa fa-close ml-2","aria-hidden":"true"})})]})}try{ComicFilter.displayName="ComicFilter",ComicFilter.__docgenInfo={description:"",displayName:"ComicFilter",props:{filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"Filter[]"}},setFilters:{defaultValue:null,description:"",name:"setFilters",required:!0,type:{name:"Dispatch<SetStateAction<Filter[]>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/GoToComicDialog/ComicList/ComicFilter/ComicFilter.tsx#ComicFilter"]={docgenInfo:ComicFilter.__docgenInfo,name:"ComicFilter",path:"src/components/GoToComicDialog/ComicList/ComicFilter/ComicFilter.tsx#ComicFilter"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/GoToComicDialog/ComicList/ComicList.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return ComicList}});var createForOfIteratorHelper=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),ComicFilter=__webpack_require__("./src/components/GoToComicDialog/ComicList/ComicFilter/ComicFilter.tsx"),Spinner=__webpack_require__("./src/components/Spinner.tsx"),rtk_query_cjs_production_min=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/query/rtk-query.cjs.production.min.js"),comicApiSlice=__webpack_require__("./src/store/api/comicApiSlice.ts"),CollapsibleDetails=__webpack_require__("./src/components/GoToComicDialog/CollapsibleDetails/CollapsibleDetails.tsx"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function HighlightedText(_ref){var text=_ref.text,highlightIndexes=_ref.highlights.map((function(highlight){return function getIndicesOf(haystack,needle,caseSensitive){var needleLength=needle.length;if(!needleLength)return[];var index,startIndex=0,indices=[];caseSensitive||(haystack=haystack.toUpperCase(),needle=needle.toUpperCase());for(;-1!==(index=haystack.indexOf(needle,startIndex));)indices.push([index,needleLength]),startIndex=index+needleLength;return indices}(text,highlight)})).flat().sort((function(i,j){return i[0]-j[0]})),combinedHighlights=(0,react.useMemo)((function(){var combinedHighlights=(0,toConsumableArray.Z)(highlightIndexes);restart:for(;;){for(var i=0;i<combinedHighlights.length-1;i++){var current=combinedHighlights[i],next=combinedHighlights[i+1];if(next[0]<current[0]+current[1]){combinedHighlights.splice(i,2,[Math.min(current[0],next[0]),Math.max(current[0]+current[1],next[0]+next[1])]);continue restart}}break}return combinedHighlights}),[highlightIndexes]);if(!highlightIndexes.length)return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:text});var _step,highlightPieces=[],startIndex=0,_iterator=(0,createForOfIteratorHelper.Z)(combinedHighlights);try{for(_iterator.s();!(_step=_iterator.n()).done;){var index=_step.value;startIndex!==index[0]&&highlightPieces.push((0,jsx_runtime.jsx)(react.Fragment,{children:text.substring(startIndex,index[0])},startIndex)),highlightPieces.push((0,jsx_runtime.jsx)("span",{className:"bg-yellow-400 text-black",children:text.substring(index[0],index[0]+index[1])},"".concat(index[0],"-").concat(index[1]))),startIndex=index[0]+index[1]}}catch(err){_iterator.e(err)}finally{_iterator.f()}return startIndex<text.length&&highlightPieces.push((0,jsx_runtime.jsx)(react.Fragment,{children:text.substring(startIndex)},startIndex)),(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:highlightPieces})}try{HighlightedText.displayName="HighlightedText",HighlightedText.__docgenInfo={description:"",displayName:"HighlightedText",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},highlights:{defaultValue:null,description:"",name:"highlights",required:!0,type:{name:"string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/GoToComicDialog/ComicList/HighlightedText/HighlightedText.tsx#HighlightedText"]={docgenInfo:HighlightedText.__docgenInfo,name:"HighlightedText",path:"src/components/GoToComicDialog/ComicList/HighlightedText/HighlightedText.tsx#HighlightedText"})}catch(__react_docgen_typescript_loader_error){}function GoToComicButton(_ref){var comic=_ref.comic,_onClick=_ref.onClick,highlights=_ref.highlights;return(0,jsx_runtime.jsxs)("button",{className:"text-left",onClick:function onClick(){_onClick(comic)},children:["Comic ",comic.comic,":"," ",(0,jsx_runtime.jsx)(HighlightedText,{text:comic.title,highlights:highlights})," ",comic.tagline&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["(",(0,jsx_runtime.jsx)(HighlightedText,{text:comic.tagline,highlights:highlights}),")"]}),comic.isGuestComic?(0,jsx_runtime.jsx)("span",{className:"bg-qc-header text-white font-bold text-sm rounded-full px-2 py-0.5 ml-2",children:"Guest Comic"}):comic.isNonCanon?(0,jsx_runtime.jsx)("span",{className:"bg-qc-non-canon text-white font-bold text-sm rounded-full px-2 py-0.5 ml-2",children:"Non-canon"}):""]})}try{GoToComicButton.displayName="GoToComicButton",GoToComicButton.__docgenInfo={description:"",displayName:"GoToComicButton",props:{comic:{defaultValue:null,description:"",name:"comic",required:!0,type:{name:"ComicList"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"(comic: ComicList) => void"}},highlights:{defaultValue:null,description:"",name:"highlights",required:!0,type:{name:"string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/GoToComicDialog/ComicList/GoToComicButton/GoToComicButton.tsx#GoToComicButton"]={docgenInfo:GoToComicButton.__docgenInfo,name:"GoToComicButton",path:"src/components/GoToComicDialog/ComicList/GoToComicButton/GoToComicButton.tsx#GoToComicButton"})}catch(__react_docgen_typescript_loader_error){}function ComicList(_ref){var allComicData=_ref.allComicData,subDivideGotoComics=_ref.subDivideGotoComics,onGoToComic=_ref.onGoToComic,isLoading=_ref.isLoading,_useState=(0,react.useState)([]),_useState2=(0,slicedToArray.Z)(_useState,2),filters=_useState2[0],setFilters=_useState2[1],requiresServer=(0,react.useMemo)((function(){return!!filters.find((function(f){return f.type===ComicFilter.v.Item}))}),[filters]),comicsWithItems=(0,comicApiSlice.sy)(requiresServer?filters.filter(isItemFilter).map((function(f){return f.value.id})):rtk_query_cjs_production_min.skipToken).data,filteredComicData=(0,react.useMemo)((function(){return allComicData?function filterComics(allComics,filters,comicsWithItems){var filteredComics;filteredComics=comicsWithItems?allComics.filter((function(c){return comicsWithItems.includes(c.comic)})):allComics;var _step3,_iterator3=(0,createForOfIteratorHelper.Z)(filters);try{var _loop=function _loop(){var filter=_step3.value;if(!isItemFilter(filter))switch(filter.type){case ComicFilter.v.Text:filteredComics=filteredComics.filter((function(c){return-1!==c.title.toUpperCase().indexOf(filter.value.toUpperCase())||c.tagline&&-1!==c.tagline.toUpperCase().indexOf(filter.value.toUpperCase())}));break;case ComicFilter.v.IsGuestComic:filteredComics=filteredComics.filter((function(c){return c.isGuestComic===filter.value}));break;case ComicFilter.v.IsNonCanon:filteredComics=filteredComics.filter((function(c){return c.isNonCanon===filter.value}))}};for(_iterator3.s();!(_step3=_iterator3.n()).done;)_loop()}catch(err){_iterator3.e(err)}finally{_iterator3.f()}return filteredComics}(allComicData,filters,comicsWithItems):allComicData}),[allComicData,filters,comicsWithItems]),_useMemo=(0,react.useMemo)((function(){var comicEntries={};if(subDivideGotoComics){var lastThousandsRange=-1,lastHundredsRange=-1,lastComic=-1,count=0;if(filteredComicData){var _step,_iterator=(0,createForOfIteratorHelper.Z)(filteredComicData);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _comic=_step.value,thousandsRange=(comic=_comic.comic,void 0,comic-comic%1e3),hundredsRange=getHundredsRange(_comic.comic);thousandsRange in comicEntries||(comicEntries[thousandsRange]={}),hundredsRange in comicEntries[thousandsRange]||(comicEntries[thousandsRange][hundredsRange]=[]),comicEntries[thousandsRange][hundredsRange].push((0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)(GoToComicButton,{comic:_comic,onClick:function onClick(comic){return onGoToComic(comic.comic)},highlights:filters.filter(isTextFilter).map((function(f){return f.value}))})},_comic.comic)),lastThousandsRange=thousandsRange,lastHundredsRange=hundredsRange,lastComic=_comic.comic,count++}}catch(err){_iterator.e(err)}finally{_iterator.f()}}var thousandDividers=[];for(var _thousandRange in comicEntries){var hundredDividers=[];for(var _hundredRange in comicEntries[_thousandRange]){var _endRange="".concat(Number(_hundredRange)+100);Number(_hundredRange)===lastHundredsRange&&(_endRange="".concat(lastComic)),hundredDividers.push((0,jsx_runtime.jsx)(CollapsibleDetails.Z,{indentChildren:!0,initiallyOpen:count<100,summary:"".concat(Number(_hundredRange)+1,"..").concat(_endRange),children:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:comicEntries[_thousandRange][_hundredRange]})},_hundredRange))}var endRange="".concat(Number(_thousandRange)+1e3);Number(_thousandRange)===lastThousandsRange&&(endRange="".concat(lastComic)),thousandDividers.push((0,jsx_runtime.jsx)(CollapsibleDetails.Z,{indentChildren:!0,initiallyOpen:count<100,summary:"".concat(Number(_thousandRange)+1,"..").concat(endRange),children:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:hundredDividers})},_thousandRange))}return[(0,jsx_runtime.jsx)("div",{children:thousandDividers}),count]}var comic,_comicEntries=[];if(filteredComicData){var _step2,_iterator2=(0,createForOfIteratorHelper.Z)(filteredComicData);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _comic2=_step2.value;_comicEntries.push((0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)(GoToComicButton,{comic:_comic2,onClick:function onClick(comic){return onGoToComic(comic.comic)},highlights:filters.filter(isTextFilter).map((function(f){return f.value}))})},_comic2.comic))}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}return[(0,jsx_runtime.jsx)("ul",{children:_comicEntries}),_comicEntries.length]}),[filteredComicData,onGoToComic,subDivideGotoComics,filters]),_useMemo2=(0,slicedToArray.Z)(_useMemo,2),comicList=_useMemo2[0],comicCount=_useMemo2[1];return isLoading?(0,jsx_runtime.jsx)("div",{className:"text-center pt-4",children:(0,jsx_runtime.jsx)(Spinner.Z,{loadingText:"Loading...",height:"h-8",width:"w-8",textColor:"text-black",spinnerBgColor:"text-gray-300",spinnerColor:"fill-qc-link"})}):(0,jsx_runtime.jsxs)("div",{className:"min-h-[16rem]",children:[(0,jsx_runtime.jsx)(ComicFilter.Z,{filters:filters,setFilters:setFilters}),0!==filters.length&&(0,jsx_runtime.jsxs)("p",{children:[comicCount," comic titles or taglines match your filters"]}),comicList]})}function getHundredsRange(comic){return comic-comic%100}function isItemFilter(f){return f.type===ComicFilter.v.Item}function isTextFilter(f){return f.type===ComicFilter.v.Text}try{ComicList.displayName="ComicList",ComicList.__docgenInfo={description:"",displayName:"ComicList",props:{allComicData:{defaultValue:null,description:"",name:"allComicData",required:!0,type:{name:"ComicList[]"}},subDivideGotoComics:{defaultValue:null,description:"",name:"subDivideGotoComics",required:!0,type:{name:"boolean"}},onGoToComic:{defaultValue:null,description:"",name:"onGoToComic",required:!0,type:{name:"(comic: number) => void"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/GoToComicDialog/ComicList/ComicList.tsx#ComicList"]={docgenInfo:ComicList.__docgenInfo,name:"ComicList",path:"src/components/GoToComicDialog/ComicList/ComicList.tsx#ComicList"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Spinner.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return Spinner}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");function Spinner(_ref){var loadingText=_ref.loadingText,height=_ref.height,width=_ref.width,textColor=_ref.textColor,spinnerColor=_ref.spinnerColor,spinnerBgColor=_ref.spinnerBgColor;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("svg",{"aria-hidden":"true",className:"inline mr-2 ".concat(spinnerBgColor," animate-spin ").concat(spinnerColor," ").concat(height," ").concat(width),viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"".concat(textColor," font-bold"),children:loadingText})]})}try{Spinner.displayName="Spinner",Spinner.__docgenInfo={description:"",displayName:"Spinner",props:{loadingText:{defaultValue:null,description:"",name:"loadingText",required:!0,type:{name:"string"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"string"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"string"}},textColor:{defaultValue:null,description:"",name:"textColor",required:!0,type:{name:"string"}},spinnerColor:{defaultValue:null,description:"",name:"spinnerColor",required:!0,type:{name:"string"}},spinnerBgColor:{defaultValue:null,description:"",name:"spinnerBgColor",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Spinner.tsx#Spinner"]={docgenInfo:Spinner.__docgenInfo,name:"Spinner",path:"src/components/Spinner.tsx#Spinner"})}catch(__react_docgen_typescript_loader_error){}},"./src/itemFilters.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){function getTypeFromFilter(filter){var type="item";switch(filter.charAt(0)){case"!":type="cast";break;case"@":type="location";break;case"#":type="storyline"}return type}function getFilterWithoutType(filter){return"item"!==getTypeFromFilter(filter)&&(filter=filter.substring(1)),filter}function filterItems(items,filter){var filteredByType,type=getTypeFromFilter(filter);return filteredByType="item"!==type?items.filter((function(i){return i.type===type})):items,filter=getFilterWithoutType(filter),filteredByType.filter((function(i){return-1!==i.shortName.toUpperCase().indexOf(filter.toUpperCase())||-1!==i.name.toUpperCase().indexOf(filter.toUpperCase())}))}__webpack_require__.d(__webpack_exports__,{MI:function(){return filterItems},WE:function(){return getTypeFromFilter},mt:function(){return getFilterWithoutType}})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjU4MS4yM2JjYjg0YS5pZnJhbWUuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI2akJBSWUsU0FBU0EsbUJBQW1CQyxLQUN6QyxPQ0phLFNBQVNDLG1CQUFtQkQsS0FDekMsR0FBSUUsTUFBTUMsUUFBUUgsS0FBTSxPQUFPLEVBQUFJLGlCQUFBLEdBQWlCSixJQUNsRCxDREVTLENBQWtCQSxNRUxaLFNBQVNLLGlCQUFpQkMsTUFDdkMsR0FBc0Isb0JBQVhDLFFBQW1ELE1BQXpCRCxLQUFLQyxPQUFPQyxXQUEyQyxNQUF0QkYsS0FBSyxjQUF1QixPQUFPSixNQUFNTyxLQUFLSCxLQUN0SCxDRkdtQyxDQUFnQk4sT0FBUSxFQUFBVSwyQkFBQSxHQUEyQlYsTUdMdkUsU0FBU1cscUJBQ3RCLE1BQU0sSUFBSUMsVUFBVSx1SUFDdEIsQ0hHOEYsRUFDOUYsQyw4T0lMQSwrQkFBZ0IsUUFBVSxxQyx1RUNDWCxTQUFTQyxtQkFBa0JDLE1BWXRDLElBWEFDLFFBQU9ELEtBQVBDLFFBQ0FDLFNBQVFGLEtBQVJFLFNBQ0FDLGNBQWFILEtBQWJHLGNBQ0FDLGVBQWNKLEtBQWRJLGVBQ0FDLFNBQVFMLEtBQVJLLFNBUUEsT0FDSUMsRUFBQUEsWUFBQUEsTUFBQSxXQUNJQyxVQUFXQywwQkFBT0MsUUFDbEJDLEtBQU1QLGNBQ05FLFNBQVVBLFNBQVNILFNBQUEsRUFFbkJJLEVBQUFBLFlBQUFBLE1BQUEsV0FBU0MsVUFBVSx1RkFBc0ZMLFNBQUEsQ0FDcEdELFNBQ0RVLEVBQUFBLFlBQUFBLEtBQUEsVUFBUUosVUFBVSxVQUFTTCxVQUN2QlMsRUFBQUEsWUFBQUEsS0FBQSxPQUNJSixVQUFVLHdDQUNWSyxNQUFNLDZCQUNOQyxRQUFRLFlBQVdYLFVBRW5CUyxFQUFBQSxZQUFBQSxLQUFBLFFBQU1HLEVBQUUsbUdBS3BCSCxFQUFBQSxZQUFBQSxLQUFBLE9BQUtKLFVBQVdILGVBQWlCLE9BQVMsR0FBR0YsU0FBRUEsYUFHM0QsQyxpc0NDdkJZYSxXLHkvQkFxQkcsU0FBU0MsWUFBV2hCLE1BTS9CLElBTEFpQixRQUFPakIsS0FBUGlCLFFBQ0FDLFdBQVVsQixLQUFWa0IsV0FLY0MsVUFBYUMsRUFBQUEscURBQUFBLE1BQW5CQyxLQUVSQyxXQUFvQ0MsRUFBQUEsbUNBQUFBLFVBQVMsSUFBR0MsWUFBQUMsRUFBQUEscUhBQUFBLEdBQUFILFVBQUEsR0FBekNJLFdBQVVGLFdBQUEsR0FBRUcsY0FBYUgsV0FBQSxHQUVoQ0ksWUFBd0NMLEVBQUFBLG1DQUFBQSxXQUFTLEdBQU1NLFlBQUFKLEVBQUFBLHFIQUFBQSxHQUFBRyxXQUFBLEdBQWhERSxhQUFZRCxXQUFBLEdBQUVFLGdCQUFlRixXQUFBLEdBQ3BDRyxZQUFnRFQsRUFBQUEsbUNBQUFBLFVBQVMsR0FBRVUsWUFBQVIsRUFBQUEscUhBQUFBLEdBQUFPLFdBQUEsR0FBcERFLGlCQUFnQkQsV0FBQSxHQUFFRSxvQkFBbUJGLFdBQUEsR0FFdENHLFdBQVlDLEVBQUFBLG1DQUFBQSxRQUE2QixNQUN6Q0MsVUFBV0QsRUFBQUEsbUNBQUFBLFFBQWdDLE1BRTNDRSxZQUFZQyxFQUFBQSxtQ0FBQUEsY0FDZCxTQUFDQyxRQUNHdkIsWUFBVyxTQUFDd0IsR0FDUixNQUFNLEdBQU5DLFFBQUExRCxFQUFBQSx5SEFBQUEsR0FBV3lELEdBQUMsQ0FBRUQsUUFDbEIsSUFDQWQsY0FBYyxJQUdUVyxTQUFTTSxTQUNWTixTQUFTTSxVQUFZQyxTQUFTQyxlQUU5QmYsaUJBQWdCLEVBRXhCLEdBQ0EsQ0FBQ2IsYUFHQzZCLGtCQUFtQkMsRUFBQUEsbUNBQUFBLFVBQVEsV0FDN0IsSUFBSUMsTUFBUSxFQUNORixpQkFBa0MsR0FleEMsR0FkQUEsaUJBQWlCRyxNQUNidkMsRUFBQUEsK0NBQUFBLEtBQUN3QyxnQkFBZSxDQUVaVixPQUFRLENBQUVXLEtBQU1yQyxXQUFXc0MsS0FBTUMsTUFBTzVCLFlBQ3hDYSxVQUFXLFNBQUFBLFVBQUNHLEdBQ0poQixXQUFXNkIsT0FBT0MsT0FBUyxHQUMzQmpCLFdBQVVHLEVBRWxCLEVBQ0FlLFlBQWF2QixtQkFBcUJlLE1BQ2xDUyxJQUFLeEIsbUJBQXFCZSxNQUFRYixlQUFZdUIsR0FSMUMsU0FXWlYsUUFDSTlCLFNBQVUsQ0FBQyxJQUN5Q3lDLE1BRDFDQyxXQUFBQyxFQUFBQSxpSUFBQUEsR0FxTXRCLFNBQVNDLFlBQVlDLFNBQXNCdkIsUUFDdkMsSUFBQXdCLE1BQWlDLEVBQzdCQyxFQUFBQSwwQ0FBQUEsSUFBa0J6QixTQUNsQjBCLEVBQUFBLDBDQUFBQSxJQUFxQjFCLFNBRmxCMkIsV0FBVUgsTUFBQSxHQUFFSSxXQUFVSixNQUFBLEdBSzdCLE9BQU9ELFNBQVN2QixRQUFPLFNBQUM2QixHQUNwQixJQUFNQyxZQUE2QixTQUFmSCxZQUF5QkUsRUFBRWxCLE9BQVNnQixXQUNsREksU0FDMEQsSUFBNURGLEVBQUVHLEtBQUtDLGNBQWNDLFFBQVFOLFdBQVdLLGVBQ3RDRSxjQUMrRCxJQUFqRU4sRUFBRU8sVUFBVUgsY0FBY0MsUUFBUU4sV0FBV0ssZUFDakQsT0FBT0gsY0FBZ0JDLFNBQVdJLGFBQ3RDLEdBQ0osQ0FsTitCYixDQUFZNUMsU0FBVU8sYUFBVyxRQUFBb0QsTUFBQSxTQUFBQSxRQUFHLElBQTVDQyxLQUFJbkIsTUFBQU4sTUFFTnJDLFFBQVErRCxNQUNMLFNBQUN0QyxHQUFDLE9BQ0VBLEVBQUVVLE9BQVNyQyxXQUFXa0UsTUFBUXZDLEVBQUVZLE1BQU00QixLQUFPSCxLQUFLRyxFQUFFLE1BRzVEbkMsaUJBQWlCRyxNQUNidkMsRUFBQUEsK0NBQUFBLEtBQUN3QyxnQkFBZSxDQUVaVixPQUFRLENBQUVXLEtBQU1yQyxXQUFXa0UsS0FBTTNCLE1BQU95QixNQUN4Q3hDLFVBQVdBLFdBQ1hrQixZQUFhdkIsbUJBQXFCZSxNQUNsQ1MsSUFDSXhCLG1CQUFxQmUsTUFDZmIsZUFDQXVCLEdBUExvQixLQUFLRyxLQVdsQmpDLFFBRVIsRUF0QkEsSUFBQVksVUFBQXNCLE1BQUF2QixNQUFBQyxVQUFBdUIsS0FBQUMsTUFBQVAsT0FzQkMsT0FBQVEsS0FBQXpCLFVBQUEwQixFQUFBRCxJQUFBLFNBQUF6QixVQUFBbkIsR0FBQSxDQUNMLENBNkNBLE9BNUNLekIsUUFBUStELE1BQUssU0FBQ3RDLEdBQUMsT0FBS0EsRUFBRVUsT0FBU3JDLFdBQVd5RSxZQUFZLE1BQ3ZEekMsaUJBQWlCRyxNQUNidkMsRUFBQUEsK0NBQUFBLEtBQUN3QyxnQkFBZSxDQUVaVixPQUFRLENBQUVXLEtBQU1yQyxXQUFXeUUsYUFBY2xDLE9BQU8sR0FDaERmLFVBQVdBLFdBQ1hrQixZQUFhdkIsbUJBQXFCZSxNQUNsQ1MsSUFBS3hCLG1CQUFxQmUsTUFBUWIsZUFBWXVCLEdBSjFDLFVBT1pWLFFBQ0FGLGlCQUFpQkcsTUFDYnZDLEVBQUFBLCtDQUFBQSxLQUFDd0MsZ0JBQWUsQ0FFWlYsT0FBUSxDQUFFVyxLQUFNckMsV0FBV3lFLGFBQWNsQyxPQUFPLEdBQ2hEZixVQUFXQSxXQUNYa0IsWUFBYXZCLG1CQUFxQmUsTUFDbENTLElBQUt4QixtQkFBcUJlLE1BQVFiLGVBQVl1QixHQUoxQyxjQU9aVixTQUVDaEMsUUFBUStELE1BQUssU0FBQ3RDLEdBQUMsT0FBS0EsRUFBRVUsT0FBU3JDLFdBQVcwRSxVQUFVLE1BQ3JEMUMsaUJBQWlCRyxNQUNidkMsRUFBQUEsK0NBQUFBLEtBQUN3QyxnQkFBZSxDQUVaVixPQUFRLENBQUVXLEtBQU1yQyxXQUFXMEUsV0FBWW5DLE9BQU8sR0FDOUNmLFVBQVdBLFdBQ1hrQixZQUFhdkIsbUJBQXFCZSxNQUNsQ1MsSUFBS3hCLG1CQUFxQmUsTUFBUWIsZUFBWXVCLEdBSjFDLGNBT1pWLFFBQ0FGLGlCQUFpQkcsTUFDYnZDLEVBQUFBLCtDQUFBQSxLQUFDd0MsZ0JBQWUsQ0FFWlYsT0FBUSxDQUFFVyxLQUFNckMsV0FBVzBFLFdBQVluQyxPQUFPLEdBQzlDZixVQUFXQSxXQUNYa0IsWUFBYXZCLG1CQUFxQmUsTUFDbENTLElBQUt4QixtQkFBcUJlLE1BQVFiLGVBQVl1QixHQUoxQyxrQkFPWlYsU0FFR0YsZ0JBQ1gsR0FBRyxDQUFDNUIsU0FBVU8sV0FBWVQsUUFBU2lCLGlCQUFrQkssYUFrQnJELE9BaEJBbUQsRUFBQUEsbUNBQUFBLFlBQVUsV0FDRDVELGVBR0RJLGlCQUFtQmEsaUJBQWlCUyxPQUFTLEdBQzdDckIsb0JBQW9CWSxpQkFBaUJTLE9BQVMsR0FFOUNwQixVQUFVUSxTQUNWUixVQUFVUSxRQUFRK0MsZUFBZSxDQUM3QkMsU0FBVSxTQUNWQyxNQUFPLFVBQ1BDLE9BQVEsVUFHcEIsR0FBRyxDQUFDL0MsaUJBQWtCYixpQkFBa0JKLGdCQUdwQ3hCLEVBQUFBLCtDQUFBQSxNQUFBLE9BQUtDLFVBQVUsV0FBVUwsU0FBQSxFQUNyQlMsRUFBQUEsK0NBQUFBLEtBQUEsUUFDSUosVUFBVyxpQkFBb0J1QixhQUEyQixHQUFaLFdBQzlDaUUsUUFBUyxTQUFBQSxRQUFDUixHQUNOQSxFQUFFUyxpQkFDRmpFLGlCQUFnQixFQUNwQixLQUVKekIsRUFBQUEsK0NBQUFBLE1BQUEsT0FDSUMsVUFDSSxnRUFDSEwsU0FBQSxFQUVEUyxFQUFBQSwrQ0FBQUEsS0FBQSxNQUFJSixVQUFVLG1DQUFrQ0wsU0FDM0NlLFFBQVFnRixLQUFJLFNBQUN4RCxPQUFReUQsR0FDbEIsSUFBTWpELE1BQVFpRCxFQUNkLE9BQ0l2RixFQUFBQSwrQ0FBQUEsS0FBQ3dGLGFBQVksQ0FFVDFELE9BQVFBLE9BQ1IyRCxTQUFVLFNBQUFBLFdBQUEsT0FDTmxGLFlBQVcsU0FBQ3dCLEdBQ1IsT0FBT0EsRUFBRUQsUUFBTyxTQUFDNEQsRUFBR0gsR0FBQyxPQUFLQSxJQUFNakQsS0FBSyxHQUN6QyxHQUFFLEdBTERBLE1BU2pCLE9BRUp0QyxFQUFBQSwrQ0FBQUEsS0FBQSxTQUNJK0MsSUFBS3BCLFNBQ0xjLEtBQUssT0FDTGtELFdBQVcsUUFDWC9GLFVBQVUscUNBQ1ZnRyxRQUFTLFNBQUFBLFVBQUEsT0FBTXhFLGlCQUFnQixFQUFLLEVBQ3BDeUUsVUFBVyxTQUFBQSxVQUFDakIsR0FDUixHQUNlLFlBQVhBLEVBQUVrQixNQUNTLGNBQVhsQixFQUFFa0IsTUFDUyxVQUFYbEIsRUFBRWtCLE1BQ1MsV0FBWGxCLEVBQUVrQixLQUdGLEdBREFsQixFQUFFUyxpQkFDYSxZQUFYVCxFQUFFa0IsS0FDRzNFLGNBQ0RDLGlCQUFnQixHQUVwQkkscUJBQW9CLFNBQUNnRCxHQUNqQixPQUFJQSxFQUFJLEVBQ0dBLEVBQUksRUFFSnBDLGlCQUFpQlMsT0FBUyxDQUV6QyxTQUNHLEdBQWUsY0FBWCtCLEVBQUVrQixLQUNKM0UsY0FDREMsaUJBQWdCLEdBRXBCSSxxQkFBb0IsU0FBQ2dELEdBQ2pCLE9BQUlBLEVBQUlwQyxpQkFBaUJTLE9BQVMsRUFDdkIyQixFQUFJLEVBRUosQ0FFZixTQUNHLEdBQWUsVUFBWEksRUFBRWtCLEtBQWtCLENBQzNCLElBQUszRSxhQUVELFlBREFDLGlCQUFnQixHQUdoQkssVUFBVVEsU0FDVlIsVUFBVVEsUUFDTDhELGNBQWMsVUFDZEMsT0FFYixLQUFzQixXQUFYcEIsRUFBRWtCLE1BQ0wzRSxjQUNBQyxpQkFBZ0IsT0FHTixjQUFYd0QsRUFBRWtCLE1BQ1UsS0FBZi9FLFlBQXFCVCxRQUFRdUMsT0FBUyxHQUN0Q3RDLFlBQVcsU0FBQ3dCLEdBQ1IsT0FBT0EsRUFBRUQsUUFDTCxTQUFDNEQsRUFBR0gsR0FBQyxPQUFLQSxJQUFNakYsUUFBUXVDLE9BQVMsQ0FBQyxHQUUxQyxHQUdaLEVBQ0FGLE1BQU81QixXQUNQa0YsU0FBVSxTQUFBQSxTQUFDckIsR0FBQyxPQUFLNUQsY0FBYzRELEVBQUVzQixPQUFPdkQsTUFBTSxRQUl0RDNDLEVBQUFBLCtDQUFBQSxLQUFBLE1BQ0lKLFVBQ0ksZ0pBRUV1QixhQUEyQixHQUFaLFdBQ3BCNUIsU0FFQTZDLHFCQUlqQixFQXRRQyxTQUxXaEMsWUFBQUEsV0FBQUEsV0FBVSxlQUFWQSxXQUFBQSxXQUFVLGVBQVZBLFdBQUFBLFdBQVUsK0JBQVZBLFdBQUFBLFdBQVUsMkJBS3JCLENBTFdBLGFBQUFBLFdBQVUsS0E2UnRCLElBQU1vQyxpQkFBa0IyRCxFQUFBQSxtQ0FBQUEsYUFPdEIsU0FBQUMsTUFBOENyRCxLQUFNLElBQzlDc0QsY0FETXZELFlBQVdzRCxNQUFYdEQsWUFBYWhCLE9BQU1zRSxNQUFOdEUsT0FBUUYsVUFBU3dFLE1BQVR4RSxVQUUvQixPQUFRRSxPQUFPVyxNQUNYLEtBQUtyQyxXQUFXc0MsS0FDWjJELGVBQ0kxRyxFQUFBQSwrQ0FBQUEsTUFBQTJHLCtDQUFBQSxTQUFBLENBQUEvRyxTQUFBLENBQUUsTUFDTSxLQUNKSSxFQUFBQSwrQ0FBQUEsTUFBQSxRQUFNQyxVQUFVLHNGQUFxRkwsU0FBQSxDQUFDLGtCQUNsRnVDLE9BQU9hLE1BQU0sT0FDekIsSUFBSSxlQUlwQixNQUVKLEtBQUt2QyxXQUFXa0UsS0FDWitCLGVBQ0kxRyxFQUFBQSwrQ0FBQUEsTUFBQTJHLCtDQUFBQSxTQUFBLENBQUEvRyxTQUFBLENBQUUsTUFDTSxLQUNKSSxFQUFBQSwrQ0FBQUEsTUFBQSxRQUFNQyxVQUFVLHdGQUF1RkwsU0FBQSxDQUFDLFlBQzFGdUMsT0FBT2EsTUFBTUYsS0FBTSxLQUM3QnpDLEVBQUFBLCtDQUFBQSxLQUFBLFFBQU1KLFVBQVUsWUFBV0wsU0FDdEJ1QyxPQUFPYSxNQUFNdUIsZUFFZCxJQUFJLGVBSXBCLE1BRUosS0FBSzlELFdBQVd5RSxhQUNoQixLQUFLekUsV0FBVzBFLFdBQ1osSUFBSXlCLE1BRUFBLE1BREF6RSxPQUFPVyxPQUFTckMsV0FBV3lFLGFBQ25CLHVDQUVBLDZDQUVad0IsZUFDSTFHLEVBQUFBLCtDQUFBQSxNQUFBMkcsK0NBQUFBLFNBQUEsQ0FBQS9HLFNBQUEsQ0FBRSxNQUNNLEtBQ0pJLEVBQUFBLCtDQUFBQSxNQUFBLFFBQ0lDLFVBQ0ksb0VBQ0EyRyxNQUNIaEgsU0FBQSxDQUVBdUMsT0FBT2EsTUFBUSxLQUFPLFNBQVUsSUFDaENiLE9BQU9XLE9BQVNyQyxXQUFXeUUsYUFDdEIsY0FDQSxlQUNGLElBQUksZUFLNUIsT0FDSTdFLEVBQUFBLCtDQUFBQSxLQUFBLE1BQ0lKLFVBQ0ksYUFBZWtELFlBQWMsd0JBQTBCLElBRTNEQyxJQUFLRCxZQUFjQyxTQUFNQyxFQUFVekQsVUFFbkNTLEVBQUFBLCtDQUFBQSxLQUFBLFVBQ0lKLFVBQVUsc0JBQ1Z3RixRQUFTLFNBQUFBLFVBQ0x4RCxVQUFVRSxPQUNkLEVBQUV2QyxTQUVEOEcsaUJBSWpCLElBRUEsU0FBU2IsYUFBWWdCLE9BTWpCLElBQ0lDLE1BQ0FDLFNBQ0FDLGVBUko3RSxPQUFNMEUsTUFBTjFFLE9BQ0EyRCxTQUFRZSxNQUFSZixTQVFBLE9BQVEzRCxPQUFPVyxNQUNYLEtBQUtyQyxXQUFXc0MsS0FDWitELE1BQUssbUJBQUF6RSxPQUFzQkYsT0FBT2EsTUFBSyw2QkFDdkMrRCxVQUNJL0csRUFBQUEsK0NBQUFBLE1BQUEyRywrQ0FBQUEsU0FBQSxDQUFBL0csU0FBQSxDQUFFLFdBQ1csS0FDVFMsRUFBQUEsK0NBQUFBLEtBQUEsUUFBTUosVUFBVSxZQUFXTCxTQUFBLElBQUF5QyxPQUFNRixPQUFPYSxNQUFLLE9BQVcsdUJBSWhFZ0UsZUFBaUIsZ0NBQ2pCLE1BRUosS0FBS3ZHLFdBQVdrRSxLQUNabUMsTUFBSyxrQkFBQXpFLE9BQXFCRixPQUFPYSxNQUFNRixLQUFJLE1BQUFULE9BQUtGLE9BQU9hLE1BQU1tQixLQUFJLEtBQ2pFNEMsVUFDSS9HLEVBQUFBLCtDQUFBQSxNQUFBMkcsK0NBQUFBLFNBQUEsQ0FBQS9HLFNBQUEsQ0FBRSxZQUNZdUMsT0FBT2EsTUFBTUYsS0FBTSxLQUM3QnpDLEVBQUFBLCtDQUFBQSxLQUFBLFFBQU1KLFVBQVUsWUFBV0wsU0FBQSxJQUFBeUMsT0FBTUYsT0FBT2EsTUFBTXVCLFVBQVMsVUFHL0R5QyxlQUFpQixrQ0FDakIsTUFFSixLQUFLdkcsV0FBV3lFLGFBQ2hCLEtBQUt6RSxXQUFXMEUsV0FDWixJQUFJOEIsU0FDSkQsZUFBaUIsY0FDYjdFLE9BQU9XLE9BQVNyQyxXQUFXeUUsY0FDM0I4QixnQkFBa0IsdUNBQ2xCQyxVQUFZOUUsT0FBT2EsTUFBUSxLQUFPLFVBQVksaUJBRTlDZ0UsZ0JBQWtCLDZDQUNsQkMsVUFBWTlFLE9BQU9hLE1BQVEsS0FBTyxVQUFZLGNBR2xEOEQsTUFBSyxTQUFBekUsT0FBWTRFLFVBQ2pCRixVQUNJL0csRUFBQUEsK0NBQUFBLE1BQUEyRywrQ0FBQUEsU0FBQSxDQUFBL0csU0FBQSxDQUNLdUMsT0FBT2EsTUFBUSxLQUFPLFNBQVUsS0FDakMzQyxFQUFBQSwrQ0FBQUEsS0FBQSxRQUFBVCxTQUNLdUMsT0FBT1csT0FBU3JDLFdBQVd5RSxhQUN0QixjQUNBLGlCQU0xQixPQUNJbEYsRUFBQUEsK0NBQUFBLE1BQUEsTUFDSUMsVUFDSSw0Q0FBOEMrRyxlQUVsREYsTUFBT0EsTUFBTWxILFNBQUEsQ0FFWm1ILFVBQ0QxRyxFQUFBQSwrQ0FBQUEsS0FBQSxVQUFRb0YsUUFBUyxTQUFBQSxVQUFBLE9BQU1LLFVBQVUsRUFBRWdCLE1BQU0sZ0JBQWVsSCxVQUNwRFMsRUFBQUEsK0NBQUFBLEtBQUEsS0FBR0osVUFBVSxtQkFBbUIsY0FBWSxhQUk1RCxDLG95RENuY2UsU0FBU2lILGdCQUFleEgsTUFNbkMsSUFMQXlILEtBQUl6SCxLQUFKeUgsS0FNTUMsaUJBTEkxSCxLQUFWMkgsV0FNSzFCLEtBQUksU0FBQzJCLFdBQVMsT0E0RHZCLFNBQVNDLGFBQ0xDLFNBQ0FDLE9BQ0FDLGVBRUEsSUFBSUMsYUFBZUYsT0FBT3ZFLE9BQzFCLElBQUt5RSxhQUNELE1BQU8sR0FHWCxJQUNJaEYsTUFEQWlGLFdBQWEsRUFFYkMsUUFBOEIsR0FDN0JILGdCQUNERixTQUFXQSxTQUFTcEQsY0FDcEJxRCxPQUFTQSxPQUFPckQsZUFFcEIsTUFBMkQsS0FBbkR6QixNQUFRNkUsU0FBU25ELFFBQVFvRCxPQUFRRyxjQUNyQ0MsUUFBUWpGLEtBQUssQ0FBQ0QsTUFBT2dGLGVBQ3JCQyxXQUFhakYsTUFBUWdGLGFBRXpCLE9BQU9FLE9BQ1gsQ0FsRjRCTixDQUFhSixLQUFNRyxVQUFVLElBQ2hEUSxPQUNBQyxNQUFLLFNBQUNuQyxFQUFHb0MsR0FBQyxPQUFLcEMsRUFBRSxHQUFLb0MsRUFBRSxFQUFFLElBR3pCQyxvQkFBcUJ2RixFQUFBQSxNQUFBQSxVQUFRLFdBQy9CLElBQU11RixvQkFBa0J0SixFQUFBQSxrQkFBQUEsR0FBT3lJLGtCQUMvQmMsUUFBUyxPQUFhLENBQ2xCLElBQUssSUFBSXRDLEVBQUksRUFBR0EsRUFBSXFDLG1CQUFtQi9FLE9BQVMsRUFBRzBDLElBQUssQ0FDcEQsSUFBTXRELFFBQVUyRixtQkFBbUJyQyxHQUM3QnVDLEtBQU9GLG1CQUFtQnJDLEVBQUksR0FFcEMsR0FBSXVDLEtBQUssR0FBSzdGLFFBQVEsR0FBS0EsUUFBUSxHQUFJLENBQ25DMkYsbUJBQW1CRyxPQUFPeEMsRUFBRyxFQUFHLENBQzVCeUMsS0FBS0MsSUFBSWhHLFFBQVEsR0FBSTZGLEtBQUssSUFDMUJFLEtBQUtFLElBQUlqRyxRQUFRLEdBQUtBLFFBQVEsR0FBSTZGLEtBQUssR0FBS0EsS0FBSyxNQUVyRCxTQUFTRCxPQUNiLENBQ0osQ0FDQSxLQUNKLENBQ0EsT0FBT0Qsa0JBQ1gsR0FBRyxDQUFDYixtQkFFSixJQUFLQSxpQkFBaUJsRSxPQUNsQixPQUFPN0MsRUFBQUEsWUFBQUEsS0FBQXNHLFlBQUFBLFNBQUEsQ0FBQS9HLFNBQUd1SCxPQUdkLElBRXNDN0QsTUFGaENrRixnQkFBaUMsR0FDbkNaLFdBQWEsRUFBQ3JFLFdBQUFDLEVBQUFBLDBCQUFBQSxHQUNFeUUsb0JBQWtCLElBQXRDLElBQUExRSxVQUFBc0IsTUFBQXZCLE1BQUFDLFVBQUF1QixLQUFBQyxNQUF3QyxDQUFDLElBQTlCcEMsTUFBS1csTUFBQU4sTUFDUjRFLGFBQWVqRixNQUFNLElBQ3JCNkYsZ0JBQWdCNUYsTUFDWnZDLEVBQUFBLFlBQUFBLEtBQUNvSSxNQUFBQSxTQUFjLENBQUE3SSxTQUNWdUgsS0FBS3VCLFVBQVVkLFdBQVlqRixNQUFNLEtBRGpCaUYsYUFLN0JZLGdCQUFnQjVGLE1BQ1p2QyxFQUFBQSxZQUFBQSxLQUFBLFFBQ0lKLFVBQVUsMkJBQTBCTCxTQUduQ3VILEtBQUt1QixVQUFVL0YsTUFBTSxHQUFJQSxNQUFNLEdBQUtBLE1BQU0sS0FBRyxHQUFBTixPQUZ0Q00sTUFBTSxHQUFFLEtBQUFOLE9BQUlNLE1BQU0sTUFLbENpRixXQUFhakYsTUFBTSxHQUFLQSxNQUFNLEVBQ2xDLENBQUMsT0FBQXFDLEtBQUF6QixVQUFBMEIsRUFBQUQsSUFBQSxTQUFBekIsVUFBQW5CLEdBQUEsQ0FTRCxPQVJJd0YsV0FBYVQsS0FBS2pFLFFBQ2xCc0YsZ0JBQWdCNUYsTUFDWnZDLEVBQUFBLFlBQUFBLEtBQUNvSSxNQUFBQSxTQUFjLENBQUE3SSxTQUNWdUgsS0FBS3VCLFVBQVVkLGFBRENBLGNBTXRCdkgsRUFBQUEsWUFBQUEsS0FBQXNHLFlBQUFBLFNBQUEsQ0FBQS9HLFNBQUc0SSxpQkFDZCxDLHlyQkNoRWUsU0FBU0csZ0JBQWVqSixNQVFuQyxJQVBBa0osTUFBS2xKLEtBQUxrSixNQUNBbkQsU0FBTy9GLEtBQVArRixRQUNBNEIsV0FBVTNILEtBQVYySCxXQU1BLE9BQ0lySCxFQUFBQSxZQUFBQSxNQUFBLFVBQ0lDLFVBQVUsWUFDVndGLFFBQVMsU0FBQUEsVUFDTEEsU0FBUW1ELE1BQ1osRUFBRWhKLFNBQUEsQ0FDTCxTQUNVZ0osTUFBTUEsTUFBTSxJQUFFLEtBQ3JCdkksRUFBQUEsWUFBQUEsS0FBQzZHLGdCQUFlLENBQUNDLEtBQU15QixNQUFNOUIsTUFBT08sV0FBWUEsYUFBZSxJQUM5RHVCLE1BQU1DLFVBQ0g3SSxFQUFBQSxZQUFBQSxNQUFBMkcsWUFBQUEsU0FBQSxDQUFBL0csU0FBQSxDQUFFLEtBRUVTLEVBQUFBLFlBQUFBLEtBQUM2RyxnQkFBZSxDQUNaQyxLQUFNeUIsTUFBTUMsUUFDWnhCLFdBQVlBLGFBQ2QsT0FJVHVCLE1BQU1FLGNBQ0h6SSxFQUFBQSxZQUFBQSxLQUFBLFFBQU1KLFVBQVUsMEVBQXlFTCxTQUFDLGdCQUcxRmdKLE1BQU1HLFlBQ04xSSxFQUFBQSxZQUFBQSxLQUFBLFFBQU1KLFVBQVUsNkVBQTRFTCxTQUFDLGNBSTdGLEtBSWhCLEMsNnlCQzdCZSxTQUFTb0osVUFBU3RKLE1BVTdCLElBVEF1SixhQUFZdkosS0FBWnVKLGFBQ0FDLG9CQUFtQnhKLEtBQW5Cd0osb0JBQ0FDLFlBQVd6SixLQUFYeUosWUFDQUMsVUFBUzFKLEtBQVQwSixVQU9BcEksV0FBOEJDLEVBQUFBLE1BQUFBLFVBQW1CLElBQUdDLFlBQUFDLEVBQUFBLGNBQUFBLEdBQUFILFVBQUEsR0FBN0NMLFFBQU9PLFdBQUEsR0FBRU4sV0FBVU0sV0FBQSxHQUNwQm1JLGdCQUFpQjNHLEVBQUFBLE1BQUFBLFVBQVEsV0FDM0IsUUFBUy9CLFFBQVErRCxNQUFLLFNBQUN0QyxHQUFDLE9BQUtBLEVBQUVVLE9BQVNyQyxZQUFBQSxFQUFXa0UsSUFBSSxHQUMzRCxHQUFHLENBQUNoRSxVQUVVMkksaUJBQW9CQyxFQUFBQSxjQUFBQSxJQUM5QkYsZUFDTTFJLFFBQVF3QixPQUFPcUgsY0FBYzdELEtBQUksU0FBQ3ZELEdBQUMsT0FBS0EsRUFBRVksTUFBTTRCLEVBQUUsSUFDbEQ2RSw2QkFBQUEsV0FIRjFJLEtBTUYySSxtQkFBb0JoSCxFQUFBQSxNQUFBQSxVQUN0QixrQkFDSXVHLGFBaUlaLFNBQVNVLGFBQ0xDLFVBQ0FqSixRQUNBMkksaUJBRUEsSUFBSU8sZUFFQUEsZUFEQVAsZ0JBQ2lCTSxVQUFVekgsUUFBTyxTQUFDNkIsR0FBQyxPQUNoQ3NGLGdCQUFnQlEsU0FBUzlGLEVBQUU0RSxNQUFNLElBR3BCZ0IsVUFDcEIsSUFFMkJHLE9BRjNCQyxZQUFBeEcsRUFBQUEsMEJBQUFBLEdBRW9CN0MsU0FBTyxRQUFBNkQsTUFBQSxTQUFBQSxRQUFHLElBQXBCckMsT0FBTTRILE9BQUEvRyxNQUNiLElBQUt3RyxhQUFhckgsUUFDZCxPQUFRQSxPQUFPVyxNQUNYLEtBQUtyQyxZQUFBQSxFQUFXc0MsS0FDWjhHLGVBQWlCQSxlQUFlMUgsUUFDNUIsU0FBQzZCLEdBQUMsT0FHZ0QsSUFGOUNBLEVBQUU4QyxNQUNHMUMsY0FDQUMsUUFBUWxDLE9BQU9hLE1BQU1vQixnQkFDekJKLEVBQUU2RSxVQUcrQyxJQUY5QzdFLEVBQUU2RSxRQUNHekUsY0FDQUMsUUFBUWxDLE9BQU9hLE1BQU1vQixjQUFzQixJQUU1RCxNQUVKLEtBQUszRCxZQUFBQSxFQUFXeUUsYUFDWjJFLGVBQWlCQSxlQUFlMUgsUUFDNUIsU0FBQzZCLEdBQUMsT0FBS0EsRUFBRThFLGVBQWlCM0csT0FBT2EsS0FBSyxJQUUxQyxNQUVKLEtBQUt2QyxZQUFBQSxFQUFXMEUsV0FDWjBFLGVBQWlCQSxlQUFlMUgsUUFDNUIsU0FBQzZCLEdBQUMsT0FBS0EsRUFBRStFLGFBQWU1RyxPQUFPYSxLQUFLLElBS3hELEVBN0JBLElBQUFnSCxXQUFBbkYsTUFBQWtGLE9BQUFDLFdBQUFsRixLQUFBQyxNQUFBUCxPQTZCQyxPQUFBUSxLQUFBZ0YsV0FBQS9FLEVBQUFELElBQUEsU0FBQWdGLFdBQUE1SCxHQUFBLENBRUQsT0FBT3lILGNBQ1gsQ0E5S2tCRixDQUFhVixhQUFjdEksUUFBUzJJLGlCQUNwQ0wsWUFBWSxHQUN0QixDQUFDQSxhQUFjdEksUUFBUzJJLGtCQUc1QlcsVUFBZ0N2SCxFQUFBQSxNQUFBQSxVQUFRLFdBQ3BDLElBQU13SCxhQUlGLENBQUMsRUFDTCxHQUFJaEIsb0JBQXFCLENBQ3JCLElBQUlpQixvQkFBc0IsRUFDdEJDLG1CQUFxQixFQUNyQkMsV0FBYSxFQUNiQyxNQUFRLEVBQ1osR0FBSVosa0JBQW1CLENBQUMsSUFDaUJwRyxNQURsQkMsV0FBQUMsRUFBQUEsMEJBQUFBLEdBQ0NrRyxtQkFBaUIsSUFBckMsSUFBQW5HLFVBQUFzQixNQUFBdkIsTUFBQUMsVUFBQXVCLEtBQUFDLE1BQXVDLENBQUMsSUFBN0I2RCxPQUFLdEYsTUFBQU4sTUFDTnVILGdCQThKQzNCLE1BOUprQ0EsT0FBTUEsV0ErSnpENEIsRUFDQzVCLE1BRE1BLE1BQVEsS0E5SkM2QixjQUFnQkMsaUJBQWlCOUIsT0FBTUEsT0FDdkMyQixrQkFBa0JMLGVBQ3BCQSxhQUFhSyxnQkFBa0IsQ0FBQyxHQUU5QkUsaUJBQWlCUCxhQUFhSyxrQkFDaENMLGFBQWFLLGdCQUFnQkUsZUFBaUIsSUFHbERQLGFBQWFLLGdCQUFnQkUsZUFBZTdILE1BQ3hDdkMsRUFBQUEsWUFBQUEsS0FBQSxNQUFBVCxVQUNJUyxFQUFBQSxZQUFBQSxLQUFDc0ksZ0JBQWUsQ0FDWkMsTUFBT0EsT0FDUG5ELFFBQVMsU0FBQUEsUUFBQ21ELE9BQUssT0FBS08sWUFBWVAsTUFBTUEsTUFBTSxFQUM1Q3ZCLFdBQVkxRyxRQUNQd0IsT0FBT3dJLGNBQ1BoRixLQUFJLFNBQUN2RCxHQUFDLE9BQUtBLEVBQUVZLEtBQUssT0FOdEI0RixPQUFNQSxRQVVuQnVCLG1CQUFxQkksZUFDckJILGtCQUFvQkssY0FDcEJKLFVBQVl6QixPQUFNQSxNQUNsQjBCLE9BQ0osQ0FBQyxPQUFBdEYsS0FBQXpCLFVBQUEwQixFQUFBRCxJQUFBLFNBQUF6QixVQUFBbkIsR0FBQSxDQUNMLENBQ0EsSUFBTXdJLGlCQUFrQyxHQUN4QyxJQUFLLElBQU1DLGtCQUFpQlgsYUFBYyxDQUN0QyxJQUFNWSxnQkFBaUMsR0FDdkMsSUFBSyxJQUFNQyxpQkFBZ0JiLGFBQWFXLGdCQUFnQixDQUNwRCxJQUFJRyxVQUFRLEdBQUEzSSxPQUFNNEksT0FBT0YsZUFBZ0IsS0FDckNFLE9BQU9GLGlCQUFrQlgsb0JBQ3pCWSxVQUFRLEdBQUEzSSxPQUFNZ0ksWUFFbEJTLGdCQUFnQmxJLE1BQ1p2QyxFQUFBQSxZQUFBQSxLQUFDWixtQkFBQUEsRUFBa0IsQ0FDZkssZ0JBQWMsRUFDZEQsY0FBZXlLLE1BQVEsSUFDdkIzSyxRQUFPLEdBQUEwQyxPQUFLNEksT0FBT0YsZUFBZ0IsRUFBQyxNQUFBMUksT0FBSzJJLFdBQVdwTCxVQUdwRFMsRUFBQUEsWUFBQUEsS0FBQXNHLFlBQUFBLFNBQUEsQ0FBQS9HLFNBQUdzSyxhQUFhVyxnQkFBZUUsa0JBRjFCQSxlQUtqQixDQUVBLElBQUlDLFNBQVEsR0FBQTNJLE9BQU00SSxPQUFPSixnQkFBaUIsS0FDdENJLE9BQU9KLGtCQUFtQlYscUJBQzFCYSxTQUFRLEdBQUEzSSxPQUFNZ0ksWUFFbEJPLGlCQUFpQmhJLE1BQ2J2QyxFQUFBQSxZQUFBQSxLQUFDWixtQkFBQUEsRUFBa0IsQ0FDZkssZ0JBQWMsRUFDZEQsY0FBZXlLLE1BQVEsSUFDdkIzSyxRQUFPLEdBQUEwQyxPQUFLNEksT0FBT0osZ0JBQWlCLEVBQUMsTUFBQXhJLE9BQUsySSxVQUFXcEwsVUFHckRTLEVBQUFBLFlBQUFBLEtBQUFzRyxZQUFBQSxTQUFBLENBQUEvRyxTQUFHa0wsbUJBRkVELGdCQUtqQixDQUVBLE1BQU8sRUFBQ3hLLEVBQUFBLFlBQUFBLEtBQUEsT0FBQVQsU0FBTWdMLG1CQUF5Qk4sTUFDM0MsQ0FDSSxJQThGZTFCLE1BOUZUc0IsY0FBOEIsR0FDcEMsR0FBSVIsa0JBQW1CLENBQUMsSUFDaUJ3QixPQURsQkMsWUFBQTNILEVBQUFBLDBCQUFBQSxHQUNDa0csbUJBQWlCLElBQXJDLElBQUF5QixXQUFBdEcsTUFBQXFHLE9BQUFDLFdBQUFyRyxLQUFBQyxNQUF1QyxDQUFDLElBQTdCNkQsUUFBS3NDLE9BQUFsSSxNQUNaa0gsY0FBYXRILE1BQ1R2QyxFQUFBQSxZQUFBQSxLQUFBLE1BQUFULFVBQ0lTLEVBQUFBLFlBQUFBLEtBQUNzSSxnQkFBZSxDQUNaQyxNQUFPQSxRQUNQbkQsUUFBUyxTQUFBQSxRQUFDbUQsT0FBSyxPQUFLTyxZQUFZUCxNQUFNQSxNQUFNLEVBQzVDdkIsV0FBWTFHLFFBQ1B3QixPQUFPd0ksY0FDUGhGLEtBQUksU0FBQ3ZELEdBQUMsT0FBS0EsRUFBRVksS0FBSyxPQU50QjRGLFFBQU1BLE9BVXZCLENBQUMsT0FBQTVELEtBQUFtRyxXQUFBbEcsRUFBQUQsSUFBQSxTQUFBbUcsV0FBQS9JLEdBQUEsQ0FDTCxDQUNBLE1BQU8sRUFBQy9CLEVBQUFBLFlBQUFBLEtBQUEsTUFBQVQsU0FBS3NLLGdCQUFvQkEsY0FBYWhILE9BRXRELEdBQUcsQ0FBQ3dHLGtCQUFtQlAsWUFBYUQsb0JBQXFCdkksVUFBU3lLLFdBQUFqSyxFQUFBQSxjQUFBQSxHQUFBOEksU0FBQSxHQS9GM0RvQixVQUFTRCxVQUFBLEdBQUVFLFdBQVVGLFVBQUEsR0FpRzVCLE9BQUloQyxXQUVJL0ksRUFBQUEsWUFBQUEsS0FBQSxPQUFLSixVQUFVLG1CQUFrQkwsVUFDN0JTLEVBQUFBLFlBQUFBLEtBQUNrTCxRQUFBQSxFQUFPLENBQ0pDLFlBQVksYUFDWkMsT0FBTyxNQUNQQyxNQUFNLE1BQ05DLFVBQVUsYUFDVkMsZUFBZSxnQkFDZkMsYUFBYSxvQkFPekI3TCxFQUFBQSxZQUFBQSxNQUFBLE9BQUtDLFVBQVUsZ0JBQWVMLFNBQUEsRUFDMUJTLEVBQUFBLFlBQUFBLEtBQUNLLFlBQUFBLEVBQVcsQ0FBQ0MsUUFBU0EsUUFBU0MsV0FBWUEsYUFDdkIsSUFBbkJELFFBQVF1QyxTQUNMbEQsRUFBQUEsWUFBQUEsTUFBQSxLQUFBSixTQUFBLENBQUkwTCxXQUFXLGtEQUVsQkQsWUFHYixDQXVEQSxTQUFTWCxpQkFBaUI5QixPQUV0QixPQUFPQSxNQURNQSxNQUFRLEdBRXpCLENBRUEsU0FBU1ksYUFBYXBILEdBSWxCLE9BQU9BLEVBQUVVLE9BQVNyQyxZQUFBQSxFQUFXa0UsSUFDakMsQ0FFQSxTQUFTZ0csYUFBYXZJLEdBSWxCLE9BQU9BLEVBQUVVLE9BQVNyQyxZQUFBQSxFQUFXc0MsSUFDakMsQywwbkNDL09lLFNBQVN3SSxRQUFPN0wsTUFjM0IsSUFiQThMLFlBQVc5TCxLQUFYOEwsWUFDQUMsT0FBTS9MLEtBQU4rTCxPQUNBQyxNQUFLaE0sS0FBTGdNLE1BQ0FDLFVBQVNqTSxLQUFUaU0sVUFDQUUsYUFBWW5NLEtBQVptTSxhQUNBRCxlQUFjbE0sS0FBZGtNLGVBU0EsT0FDSTVMLEVBQUFBLCtDQUFBQSxNQUFBMkcsK0NBQUFBLFNBQUEsQ0FBQS9HLFNBQUEsRUFDSUksRUFBQUEsK0NBQUFBLE1BQUEsT0FDSSxjQUFZLE9BQ1pDLFVBQVMsZUFBQW9DLE9BQWlCdUosZUFBYyxrQkFBQXZKLE9BQWlCd0osYUFBWSxLQUFBeEosT0FBSW9KLE9BQU0sS0FBQXBKLE9BQUlxSixPQUNuRm5MLFFBQVEsY0FDUnVMLEtBQUssT0FDTHhMLE1BQU0sNkJBQTRCVixTQUFBLEVBRWxDUyxFQUFBQSwrQ0FBQUEsS0FBQSxRQUNJRyxFQUFFLCtXQUNGc0wsS0FBSyxrQkFFVHpMLEVBQUFBLCtDQUFBQSxLQUFBLFFBQ0lHLEVBQUUsZ2xCQUNGc0wsS0FBSyxvQkFHYnpMLEVBQUFBLCtDQUFBQSxLQUFBLEtBQUdKLFVBQVMsR0FBQW9DLE9BQUtzSixVQUFTLGNBQWEvTCxTQUFFNEwsZ0JBR3JELEMsZ2dDQ2hDTyxTQUFTNUgsa0JBQWtCekIsUUFDOUIsSUFDSVcsS0FBdUIsT0FDM0IsT0FGbUJYLE9BQU80SixPQUFPLElBRzdCLElBQUssSUFDRGpKLEtBQU8sT0FDUCxNQUNKLElBQUssSUFDREEsS0FBTyxXQUNQLE1BQ0osSUFBSyxJQUNEQSxLQUFPLFlBR2YsT0FBT0EsSUFDWCxDQUVPLFNBQVNlLHFCQUFxQjFCLFFBSWpDLE1BSGtDLFNBQTlCeUIsa0JBQWtCekIsVUFDbEJBLE9BQVNBLE9BQU91RyxVQUFVLElBRXZCdkcsTUFDWCxDQU9PLFNBQVNzQixZQUNadUksTUFDQTdKLFFBRUEsSUFFSThKLGVBRkVuSixLQUFPYyxrQkFBa0J6QixRQVUvQixPQU5JOEosZUFEUyxTQUFUbkosS0FDaUJrSixNQUFNN0osUUFBTyxTQUFDeUQsR0FBQyxPQUFLQSxFQUFFOUMsT0FBU0EsSUFBSSxJQUVuQ2tKLE1BR3JCN0osT0FBUzBCLHFCQUFxQjFCLFFBQ3ZCOEosZUFBZTlKLFFBQ2xCLFNBQUN5RCxHQUFDLE9BQytELElBQTdEQSxFQUFFckIsVUFBVUgsY0FBY0MsUUFBUWxDLE9BQU9pQyxpQkFDZSxJQUF4RHdCLEVBQUV6QixLQUFLQyxjQUFjQyxRQUFRbEMsT0FBT2lDLGNBQXFCLEdBRXJFLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9xdWVzdGlvbmFibGUtY29udGVudC1zcGEvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiLCJ3ZWJwYWNrOi8vcXVlc3Rpb25hYmxlLWNvbnRlbnQtc3BhLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FycmF5V2l0aG91dEhvbGVzLmpzIiwid2VicGFjazovL3F1ZXN0aW9uYWJsZS1jb250ZW50LXNwYS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pdGVyYWJsZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vcXVlc3Rpb25hYmxlLWNvbnRlbnQtc3BhLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL25vbkl0ZXJhYmxlU3ByZWFkLmpzIiwid2VicGFjazovL3F1ZXN0aW9uYWJsZS1jb250ZW50LXNwYS8uL3NyYy9jb21wb25lbnRzL0dvVG9Db21pY0RpYWxvZy9Db2xsYXBzaWJsZURldGFpbHMvQ29sbGFwc2libGVEZXRhaWxzLm1vZHVsZS5jc3M/Y2M4MCIsIndlYnBhY2s6Ly9xdWVzdGlvbmFibGUtY29udGVudC1zcGEvLi9zcmMvY29tcG9uZW50cy9Hb1RvQ29taWNEaWFsb2cvQ29sbGFwc2libGVEZXRhaWxzL0NvbGxhcHNpYmxlRGV0YWlscy50c3giLCJ3ZWJwYWNrOi8vcXVlc3Rpb25hYmxlLWNvbnRlbnQtc3BhLy4vc3JjL2NvbXBvbmVudHMvR29Ub0NvbWljRGlhbG9nL0NvbWljTGlzdC9Db21pY0ZpbHRlci9Db21pY0ZpbHRlci50c3giLCJ3ZWJwYWNrOi8vcXVlc3Rpb25hYmxlLWNvbnRlbnQtc3BhLy4vc3JjL2NvbXBvbmVudHMvR29Ub0NvbWljRGlhbG9nL0NvbWljTGlzdC9IaWdobGlnaHRlZFRleHQvSGlnaGxpZ2h0ZWRUZXh0LnRzeCIsIndlYnBhY2s6Ly9xdWVzdGlvbmFibGUtY29udGVudC1zcGEvLi9zcmMvY29tcG9uZW50cy9Hb1RvQ29taWNEaWFsb2cvQ29taWNMaXN0L0dvVG9Db21pY0J1dHRvbi9Hb1RvQ29taWNCdXR0b24udHN4Iiwid2VicGFjazovL3F1ZXN0aW9uYWJsZS1jb250ZW50LXNwYS8uL3NyYy9jb21wb25lbnRzL0dvVG9Db21pY0RpYWxvZy9Db21pY0xpc3QvQ29taWNMaXN0LnRzeCIsIndlYnBhY2s6Ly9xdWVzdGlvbmFibGUtY29udGVudC1zcGEvLi9zcmMvY29tcG9uZW50cy9TcGlubmVyLnRzeCIsIndlYnBhY2s6Ly9xdWVzdGlvbmFibGUtY29udGVudC1zcGEvLi9zcmMvaXRlbUZpbHRlcnMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFycmF5V2l0aG91dEhvbGVzIGZyb20gXCIuL2FycmF5V2l0aG91dEhvbGVzLmpzXCI7XG5pbXBvcnQgaXRlcmFibGVUb0FycmF5IGZyb20gXCIuL2l0ZXJhYmxlVG9BcnJheS5qc1wiO1xuaW1wb3J0IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IGZyb20gXCIuL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5LmpzXCI7XG5pbXBvcnQgbm9uSXRlcmFibGVTcHJlYWQgZnJvbSBcIi4vbm9uSXRlcmFibGVTcHJlYWQuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHtcbiAgcmV0dXJuIGFycmF5V2l0aG91dEhvbGVzKGFycikgfHwgaXRlcmFibGVUb0FycmF5KGFycikgfHwgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBub25JdGVyYWJsZVNwcmVhZCgpO1xufSIsImltcG9ydCBhcnJheUxpa2VUb0FycmF5IGZyb20gXCIuL2FycmF5TGlrZVRvQXJyYXkuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkoYXJyKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgaXRlcltTeW1ib2wuaXRlcmF0b3JdICE9IG51bGwgfHwgaXRlcltcIkBAaXRlcmF0b3JcIl0gIT0gbnVsbCkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn0iLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCBkZWZhdWx0IHtcImRldGFpbHNcIjpcIkNvbGxhcHNpYmxlRGV0YWlsc19kZXRhaWxzX192c3RlTlwifTsiLCJpbXBvcnQgc3R5bGVzIGZyb20gJy4vQ29sbGFwc2libGVEZXRhaWxzLm1vZHVsZS5jc3MnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbGxhcHNpYmxlRGV0YWlscyh7XG4gICAgc3VtbWFyeSxcbiAgICBjaGlsZHJlbixcbiAgICBpbml0aWFsbHlPcGVuLFxuICAgIGluZGVudENoaWxkcmVuLFxuICAgIG9uVG9nZ2xlLFxufToge1xuICAgIHN1bW1hcnk6IHN0cmluZ1xuICAgIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGVcbiAgICBpbml0aWFsbHlPcGVuPzogYm9vbGVhblxuICAgIGluZGVudENoaWxkcmVuPzogYm9vbGVhblxuICAgIG9uVG9nZ2xlPzogUmVhY3QuUmVhY3RFdmVudEhhbmRsZXI8SFRNTERldGFpbHNFbGVtZW50PlxufSkge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxkZXRhaWxzXG4gICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5kZXRhaWxzfVxuICAgICAgICAgICAgb3Blbj17aW5pdGlhbGx5T3Blbn1cbiAgICAgICAgICAgIG9uVG9nZ2xlPXtvblRvZ2dsZX1cbiAgICAgICAgPlxuICAgICAgICAgICAgPHN1bW1hcnkgY2xhc3NOYW1lPVwicHktNCBtYi0yIGZsZXggaXRlbXMtY2VudGVyIGZvbnQtYm9sZCBib3JkZXItMCBib3JkZXItYiBib3JkZXItc29saWQgYm9yZGVyLWdyYXktMjAwXCI+XG4gICAgICAgICAgICAgICAge3N1bW1hcnl9XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJtbC1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZpbGwtY3VycmVudCBvcGFjaXR5LTc1IHctNCBoLTQgLW1yLTFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDIwIDIwXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xMi45NSAxMC43MDdsLjcwNy0uNzA3TDggNC4zNDMgNi41ODYgNS43NTcgMTAuODI4IDEwbC00LjI0MiA0LjI0M0w4IDE1LjY1N2w0Ljk1LTQuOTV6XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L3N1bW1hcnk+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtpbmRlbnRDaGlsZHJlbiA/ICdteC01JyA6ICcnfT57Y2hpbGRyZW59PC9kaXY+XG4gICAgICAgIDwvZGV0YWlscz5cbiAgICApXG59XG4iLCJpbXBvcnQge1xuICAgIGZvcndhcmRSZWYsXG4gICAgdXNlQ2FsbGJhY2ssXG4gICAgdXNlRWZmZWN0LFxuICAgIHVzZU1lbW8sXG4gICAgdXNlUmVmLFxuICAgIHVzZVN0YXRlLFxufSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgSXRlbUxpc3QgfSBmcm9tICdAbW9kZWxzL0l0ZW1MaXN0J1xuaW1wb3J0IHsgdXNlQWxsSXRlbXNRdWVyeSB9IGZyb20gJ0BzdG9yZS9hcGkvaXRlbUFwaVNsaWNlJ1xuXG5pbXBvcnQgeyBnZXRGaWx0ZXJXaXRob3V0VHlwZSwgZ2V0VHlwZUZyb21GaWx0ZXIgfSBmcm9tICd+L2l0ZW1GaWx0ZXJzJ1xuXG5leHBvcnQgZW51bSBGaWx0ZXJUeXBlIHtcbiAgICBUZXh0LFxuICAgIEl0ZW0sXG4gICAgSXNHdWVzdENvbWljLFxuICAgIElzTm9uQ2Fub24sXG59XG5cbmV4cG9ydCB0eXBlIEZpbHRlciA9XG4gICAgfCB7XG4gICAgICAgICAgdHlwZTogRmlsdGVyVHlwZS5UZXh0XG4gICAgICAgICAgdmFsdWU6IHN0cmluZ1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICAgIHR5cGU6IEZpbHRlclR5cGUuSXRlbVxuICAgICAgICAgIHZhbHVlOiBJdGVtTGlzdFxuICAgICAgfVxuICAgIHwge1xuICAgICAgICAgIHR5cGU6IEZpbHRlclR5cGUuSXNHdWVzdENvbWljIHwgRmlsdGVyVHlwZS5Jc05vbkNhbm9uXG4gICAgICAgICAgdmFsdWU6IGJvb2xlYW5cbiAgICAgIH1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29taWNGaWx0ZXIoe1xuICAgIGZpbHRlcnMsXG4gICAgc2V0RmlsdGVycyxcbn06IHtcbiAgICBmaWx0ZXJzOiBGaWx0ZXJbXVxuICAgIHNldEZpbHRlcnM6IFJlYWN0LkRpc3BhdGNoPFJlYWN0LlNldFN0YXRlQWN0aW9uPEZpbHRlcltdPj5cbn0pIHtcbiAgICBjb25zdCB7IGRhdGE6IGl0ZW1EYXRhIH0gPSB1c2VBbGxJdGVtc1F1ZXJ5KClcblxuICAgIGNvbnN0IFtmaWx0ZXJUZXh0LCBzZXRGaWx0ZXJUZXh0XSA9IHVzZVN0YXRlKCcnKVxuXG4gICAgY29uc3QgW2Ryb3BEb3duT3Blbiwgc2V0RHJvcERvd25PcGVuXSA9IHVzZVN0YXRlKGZhbHNlKVxuICAgIGNvbnN0IFthY3RpdmVTdWdnZXN0aW9uLCBzZXRBY3RpdmVTdWdnZXN0aW9uXSA9IHVzZVN0YXRlKDApXG5cbiAgICBjb25zdCBhY3RpdmVSZWYgPSB1c2VSZWY8SFRNTExJRWxlbWVudCB8IG51bGw+KG51bGwpXG4gICAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudCB8IG51bGw+KG51bGwpXG5cbiAgICBjb25zdCBhZGRGaWx0ZXIgPSB1c2VDYWxsYmFjayhcbiAgICAgICAgKGZpbHRlcjogRmlsdGVyKSA9PiB7XG4gICAgICAgICAgICBzZXRGaWx0ZXJzKChmKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsuLi5mLCBmaWx0ZXJdXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgc2V0RmlsdGVyVGV4dCgnJylcblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICFpbnB1dFJlZi5jdXJyZW50IHx8XG4gICAgICAgICAgICAgICAgaW5wdXRSZWYuY3VycmVudCAhPT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgc2V0RHJvcERvd25PcGVuKGZhbHNlKVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBbc2V0RmlsdGVyc11cbiAgICApXG5cbiAgICBjb25zdCBzdWdnZXN0ZWRGaWx0ZXJzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGxldCBpbmRleCA9IDBcbiAgICAgICAgY29uc3Qgc3VnZ2VzdGVkRmlsdGVyczogSlNYLkVsZW1lbnRbXSA9IFtdXG4gICAgICAgIHN1Z2dlc3RlZEZpbHRlcnMucHVzaChcbiAgICAgICAgICAgIDxTdWdnZXN0ZWRGaWx0ZXJcbiAgICAgICAgICAgICAgICBrZXk9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBmaWx0ZXI9e3sgdHlwZTogRmlsdGVyVHlwZS5UZXh0LCB2YWx1ZTogZmlsdGVyVGV4dCB9fVxuICAgICAgICAgICAgICAgIGFkZEZpbHRlcj17KGYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlclRleHQudHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEZpbHRlcihmKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBoaWdobGlnaHRlZD17YWN0aXZlU3VnZ2VzdGlvbiA9PT0gaW5kZXh9XG4gICAgICAgICAgICAgICAgcmVmPXthY3RpdmVTdWdnZXN0aW9uID09PSBpbmRleCA/IGFjdGl2ZVJlZiA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICAgICAgaW5kZXgrK1xuICAgICAgICBpZiAoaXRlbURhdGEpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBmaWx0ZXJJdGVtcyhpdGVtRGF0YSwgZmlsdGVyVGV4dCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICFmaWx0ZXJzLmZpbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICAoZikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmLnR5cGUgPT09IEZpbHRlclR5cGUuSXRlbSAmJiBmLnZhbHVlLmlkID09PSBpdGVtLmlkXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdGVkRmlsdGVycy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgPFN1Z2dlc3RlZEZpbHRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aXRlbS5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXI9e3sgdHlwZTogRmlsdGVyVHlwZS5JdGVtLCB2YWx1ZTogaXRlbSB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEZpbHRlcj17YWRkRmlsdGVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodGVkPXthY3RpdmVTdWdnZXN0aW9uID09PSBpbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVTdWdnZXN0aW9uID09PSBpbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBhY3RpdmVSZWZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICBpbmRleCsrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghZmlsdGVycy5maW5kKChmKSA9PiBmLnR5cGUgPT09IEZpbHRlclR5cGUuSXNHdWVzdENvbWljKSkge1xuICAgICAgICAgICAgc3VnZ2VzdGVkRmlsdGVycy5wdXNoKFxuICAgICAgICAgICAgICAgIDxTdWdnZXN0ZWRGaWx0ZXJcbiAgICAgICAgICAgICAgICAgICAga2V5PVwiZ3Vlc3RcIlxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXI9e3sgdHlwZTogRmlsdGVyVHlwZS5Jc0d1ZXN0Q29taWMsIHZhbHVlOiB0cnVlIH19XG4gICAgICAgICAgICAgICAgICAgIGFkZEZpbHRlcj17YWRkRmlsdGVyfVxuICAgICAgICAgICAgICAgICAgICBoaWdobGlnaHRlZD17YWN0aXZlU3VnZ2VzdGlvbiA9PT0gaW5kZXh9XG4gICAgICAgICAgICAgICAgICAgIHJlZj17YWN0aXZlU3VnZ2VzdGlvbiA9PT0gaW5kZXggPyBhY3RpdmVSZWYgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGluZGV4KytcbiAgICAgICAgICAgIHN1Z2dlc3RlZEZpbHRlcnMucHVzaChcbiAgICAgICAgICAgICAgICA8U3VnZ2VzdGVkRmlsdGVyXG4gICAgICAgICAgICAgICAgICAgIGtleT1cIm5vdC1ndWVzdFwiXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcj17eyB0eXBlOiBGaWx0ZXJUeXBlLklzR3Vlc3RDb21pYywgdmFsdWU6IGZhbHNlIH19XG4gICAgICAgICAgICAgICAgICAgIGFkZEZpbHRlcj17YWRkRmlsdGVyfVxuICAgICAgICAgICAgICAgICAgICBoaWdobGlnaHRlZD17YWN0aXZlU3VnZ2VzdGlvbiA9PT0gaW5kZXh9XG4gICAgICAgICAgICAgICAgICAgIHJlZj17YWN0aXZlU3VnZ2VzdGlvbiA9PT0gaW5kZXggPyBhY3RpdmVSZWYgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGluZGV4KytcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWZpbHRlcnMuZmluZCgoZikgPT4gZi50eXBlID09PSBGaWx0ZXJUeXBlLklzTm9uQ2Fub24pKSB7XG4gICAgICAgICAgICBzdWdnZXN0ZWRGaWx0ZXJzLnB1c2goXG4gICAgICAgICAgICAgICAgPFN1Z2dlc3RlZEZpbHRlclxuICAgICAgICAgICAgICAgICAgICBrZXk9XCJub24tY2Fub25cIlxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXI9e3sgdHlwZTogRmlsdGVyVHlwZS5Jc05vbkNhbm9uLCB2YWx1ZTogdHJ1ZSB9fVxuICAgICAgICAgICAgICAgICAgICBhZGRGaWx0ZXI9e2FkZEZpbHRlcn1cbiAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0ZWQ9e2FjdGl2ZVN1Z2dlc3Rpb24gPT09IGluZGV4fVxuICAgICAgICAgICAgICAgICAgICByZWY9e2FjdGl2ZVN1Z2dlc3Rpb24gPT09IGluZGV4ID8gYWN0aXZlUmVmIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApXG4gICAgICAgICAgICBpbmRleCsrXG4gICAgICAgICAgICBzdWdnZXN0ZWRGaWx0ZXJzLnB1c2goXG4gICAgICAgICAgICAgICAgPFN1Z2dlc3RlZEZpbHRlclxuICAgICAgICAgICAgICAgICAgICBrZXk9XCJub3Qtbm9uLWNhbm9uXCJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyPXt7IHR5cGU6IEZpbHRlclR5cGUuSXNOb25DYW5vbiwgdmFsdWU6IGZhbHNlIH19XG4gICAgICAgICAgICAgICAgICAgIGFkZEZpbHRlcj17YWRkRmlsdGVyfVxuICAgICAgICAgICAgICAgICAgICBoaWdobGlnaHRlZD17YWN0aXZlU3VnZ2VzdGlvbiA9PT0gaW5kZXh9XG4gICAgICAgICAgICAgICAgICAgIHJlZj17YWN0aXZlU3VnZ2VzdGlvbiA9PT0gaW5kZXggPyBhY3RpdmVSZWYgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGluZGV4KytcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VnZ2VzdGVkRmlsdGVyc1xuICAgIH0sIFtpdGVtRGF0YSwgZmlsdGVyVGV4dCwgZmlsdGVycywgYWN0aXZlU3VnZ2VzdGlvbiwgYWRkRmlsdGVyXSlcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghZHJvcERvd25PcGVuKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBpZiAoYWN0aXZlU3VnZ2VzdGlvbiA+IHN1Z2dlc3RlZEZpbHRlcnMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgc2V0QWN0aXZlU3VnZ2VzdGlvbihzdWdnZXN0ZWRGaWx0ZXJzLmxlbmd0aCAtIDEpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjdGl2ZVJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBhY3RpdmVSZWYuY3VycmVudC5zY3JvbGxJbnRvVmlldyh7XG4gICAgICAgICAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnLFxuICAgICAgICAgICAgICAgIGJsb2NrOiAnbmVhcmVzdCcsXG4gICAgICAgICAgICAgICAgaW5saW5lOiAnc3RhcnQnLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH0sIFtzdWdnZXN0ZWRGaWx0ZXJzLCBhY3RpdmVTdWdnZXN0aW9uLCBkcm9wRG93bk9wZW5dKVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxuICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9eydmaXhlZCBpbnNldC0wJyArICghZHJvcERvd25PcGVuID8gJyBoaWRkZW4nIDogJycpfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgICAgICAgICBzZXREcm9wRG93bk9wZW4oZmFsc2UpXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID48L3NwYW4+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtcbiAgICAgICAgICAgICAgICAgICAgJ2ZsZXggZmxleC13cmFwIGJvcmRlciBib3JkZXItYmxhY2sgYm9yZGVyLXNvbGlkIHB5LTEgcmVsYXRpdmUnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJwLTAgbS0wIGxpc3Qtbm9uZSBmbGV4IGZsZXgtd3JhcFwiPlxuICAgICAgICAgICAgICAgICAgICB7ZmlsdGVycy5tYXAoKGZpbHRlciwgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxBY3RpdmVGaWx0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyPXtmaWx0ZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRGVsZXRlPXsoKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RmlsdGVycygoZikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmLmZpbHRlcigoXywgaSkgPT4gaSAhPT0gaW5kZXgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgcmVmPXtpbnB1dFJlZn1cbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICBzcGVsbENoZWNrPVwiZmFsc2VcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJib3JkZXItbm9uZSBvdXRsaW5lLW5vbmUgZmxleC1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgb25Gb2N1cz17KCkgPT4gc2V0RHJvcERvd25PcGVuKHRydWUpfVxuICAgICAgICAgICAgICAgICAgICBvbktleURvd249eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5jb2RlID09PSAnQXJyb3dVcCcgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLmNvZGUgPT09ICdBcnJvd0Rvd24nIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5jb2RlID09PSAnRW50ZXInIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5jb2RlID09PSAnRXNjYXBlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUuY29kZSA9PT0gJ0Fycm93VXAnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZHJvcERvd25PcGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXREcm9wRG93bk9wZW4odHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVTdWdnZXN0aW9uKChzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcyAtIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1Z2dlc3RlZEZpbHRlcnMubGVuZ3RoIC0gMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZS5jb2RlID09PSAnQXJyb3dEb3duJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRyb3BEb3duT3Blbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RHJvcERvd25PcGVuKHRydWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QWN0aXZlU3VnZ2VzdGlvbigocykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMgPCBzdWdnZXN0ZWRGaWx0ZXJzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcyArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUuY29kZSA9PT0gJ0VudGVyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRyb3BEb3duT3Blbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RHJvcERvd25PcGVuKHRydWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZVJlZi5jdXJyZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbicpIVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jbGljaygpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUuY29kZSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRyb3BEb3duT3Blbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RHJvcERvd25PcGVuKGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLmNvZGUgPT09ICdCYWNrc3BhY2UnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlclRleHQgPT09ICcnICYmIGZpbHRlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRGaWx0ZXJzKChmKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZi5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF8sIGkpID0+IGkgIT09IGZpbHRlcnMubGVuZ3RoIC0gMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2ZpbHRlclRleHR9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RmlsdGVyVGV4dChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8dWxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e1xuICAgICAgICAgICAgICAgICAgICAnYmctc2xhdGUtMTAwIGxpc3Qtbm9uZSBtLTAgcC0xIGFic29sdXRlIHctZnVsbCBvdmVyZmxvdy15LWF1dG8gbWF4LWgtNDggc2hhZG93LW1kICcgK1xuICAgICAgICAgICAgICAgICAgICAnYm9yZGVyLXggYm9yZGVyLXktMCBib3JkZXItYiBib3JkZXItc29saWQgYm9yZGVyLXNsYXRlLTUwMCcgK1xuICAgICAgICAgICAgICAgICAgICAoIWRyb3BEb3duT3BlbiA/ICcgaGlkZGVuJyA6ICcnKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7c3VnZ2VzdGVkRmlsdGVyc31cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvZGl2PlxuICAgIClcbn1cblxuZnVuY3Rpb24gZmlsdGVySXRlbXMoYWxsSXRlbXM6IEl0ZW1MaXN0W10sIGZpbHRlcjogc3RyaW5nKSB7XG4gICAgY29uc3QgW2ZpbHRlclR5cGUsIGZpbHRlck5hbWVdID0gW1xuICAgICAgICBnZXRUeXBlRnJvbUZpbHRlcihmaWx0ZXIpLFxuICAgICAgICBnZXRGaWx0ZXJXaXRob3V0VHlwZShmaWx0ZXIpLFxuICAgIF1cblxuICAgIHJldHVybiBhbGxJdGVtcy5maWx0ZXIoKGMpID0+IHtcbiAgICAgICAgY29uc3QgaXNSaWdodFR5cGUgPSBmaWx0ZXJUeXBlID09PSAnaXRlbScgfHwgYy50eXBlID09PSBmaWx0ZXJUeXBlXG4gICAgICAgIGNvbnN0IGhhc05hbWUgPVxuICAgICAgICAgICAgYy5uYW1lLnRvVXBwZXJDYXNlKCkuaW5kZXhPZihmaWx0ZXJOYW1lLnRvVXBwZXJDYXNlKCkpICE9PSAtMVxuICAgICAgICBjb25zdCBoYXNTaG9ydE5hbWUgPVxuICAgICAgICAgICAgYy5zaG9ydE5hbWUudG9VcHBlckNhc2UoKS5pbmRleE9mKGZpbHRlck5hbWUudG9VcHBlckNhc2UoKSkgIT09IC0xXG4gICAgICAgIHJldHVybiBpc1JpZ2h0VHlwZSAmJiAoaGFzTmFtZSB8fCBoYXNTaG9ydE5hbWUpXG4gICAgfSlcbn1cblxuY29uc3QgU3VnZ2VzdGVkRmlsdGVyID0gZm9yd2FyZFJlZjxcbiAgICBIVE1MTElFbGVtZW50LFxuICAgIHtcbiAgICAgICAgaGlnaGxpZ2h0ZWQ6IGJvb2xlYW5cbiAgICAgICAgZmlsdGVyOiBGaWx0ZXJcbiAgICAgICAgYWRkRmlsdGVyOiAoZmlsdGVyOiBGaWx0ZXIpID0+IHZvaWRcbiAgICB9XG4+KGZ1bmN0aW9uICh7IGhpZ2hsaWdodGVkLCBmaWx0ZXIsIGFkZEZpbHRlciB9LCByZWYpIHtcbiAgICBsZXQgZmlsdGVyRWxlbWVudFxuICAgIHN3aXRjaCAoZmlsdGVyLnR5cGUpIHtcbiAgICAgICAgY2FzZSBGaWx0ZXJUeXBlLlRleHQ6XG4gICAgICAgICAgICBmaWx0ZXJFbGVtZW50ID0gKFxuICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIEFkZHsnICd9XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlubGluZS1ibG9jayBib3JkZXIgYm9yZGVyLXNvbGlkIHB4LTIgcHktMSByb3VuZGVkLWxnIGJvcmRlci1zbGF0ZS00MDAgYmctc2xhdGUtMjAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBDb250YWlucyB0ZXh0IFwie2ZpbHRlci52YWx1ZX1cIlxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+eycgJ31cbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyLi4uXG4gICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApXG4gICAgICAgICAgICBicmVha1xuXG4gICAgICAgIGNhc2UgRmlsdGVyVHlwZS5JdGVtOlxuICAgICAgICAgICAgZmlsdGVyRWxlbWVudCA9IChcbiAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICBBZGR7JyAnfVxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbmxpbmUtYmxvY2sgYm9yZGVyIGJvcmRlci1zb2xpZCBweC0yIHB5LTEgcm91bmRlZC1sZyBib3JkZXItb3JhbmdlLTQwMCBiZy1vcmFuZ2UtMjAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBDb250YWlucyB7ZmlsdGVyLnZhbHVlLnR5cGV9eycgJ31cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtYm9sZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWx0ZXIudmFsdWUuc2hvcnROYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+eycgJ31cbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyLi4uXG4gICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApXG4gICAgICAgICAgICBicmVha1xuXG4gICAgICAgIGNhc2UgRmlsdGVyVHlwZS5Jc0d1ZXN0Q29taWM6XG4gICAgICAgIGNhc2UgRmlsdGVyVHlwZS5Jc05vbkNhbm9uOlxuICAgICAgICAgICAgbGV0IGNvbG9yXG4gICAgICAgICAgICBpZiAoZmlsdGVyLnR5cGUgPT09IEZpbHRlclR5cGUuSXNHdWVzdENvbWljKSB7XG4gICAgICAgICAgICAgICAgY29sb3IgPSAnYm9yZGVyLXFjLWhlYWRlciBiZy1xYy1oZWFkZXItc2Vjb25kJ1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb2xvciA9ICdib3JkZXItcWMtbm9uLWNhbm9uIGJnLXFjLW5vbi1jYW5vbi1zZWNvbmQnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaWx0ZXJFbGVtZW50ID0gKFxuICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIEFkZHsnICd9XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpbmxpbmUtYmxvY2sgYm9yZGVyIGJvcmRlci1zb2xpZCBweC0yIHB5LTEgcm91bmRlZC1sZyB0ZXh0LXdoaXRlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtmaWx0ZXIudmFsdWUgPyAnSXMnIDogJ0lzIG5vdCd9eycgJ31cbiAgICAgICAgICAgICAgICAgICAgICAgIHtmaWx0ZXIudHlwZSA9PT0gRmlsdGVyVHlwZS5Jc0d1ZXN0Q29taWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdndWVzdCBjb21pYydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdub24tY2Fub24nfVxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+eycgJ31cbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyLi4uXG4gICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApXG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICAgIDxsaVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtcbiAgICAgICAgICAgICAgICAnbXktMSBmbGV4JyArIChoaWdobGlnaHRlZCA/ICcgYmctYmx1ZS01MDAgLW0tMSBwLTEnIDogJycpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWY9e2hpZ2hsaWdodGVkID8gcmVmIDogdW5kZWZpbmVkfVxuICAgICAgICA+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC1hdXRvIHRleHQtbGVmdFwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhZGRGaWx0ZXIoZmlsdGVyKVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2ZpbHRlckVsZW1lbnR9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICApXG59KVxuXG5mdW5jdGlvbiBBY3RpdmVGaWx0ZXIoe1xuICAgIGZpbHRlcixcbiAgICBvbkRlbGV0ZSxcbn06IHtcbiAgICBmaWx0ZXI6IEZpbHRlclxuICAgIG9uRGVsZXRlOiAoKSA9PiB2b2lkXG59KSB7XG4gICAgbGV0IHRpdGxlXG4gICAgbGV0IGNvbnRlbnRzXG4gICAgbGV0IGNvbG9yQ2xhc3NOYW1lXG4gICAgc3dpdGNoIChmaWx0ZXIudHlwZSkge1xuICAgICAgICBjYXNlIEZpbHRlclR5cGUuVGV4dDpcbiAgICAgICAgICAgIHRpdGxlID0gYENvbWljIGNvbnRhaW5zIFwiJHtmaWx0ZXIudmFsdWV9XCIgaW4gaXRzIHRpdGxlIG9yIHRhZ2xpbmVgXG4gICAgICAgICAgICBjb250ZW50cyA9IChcbiAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICBDb250YWluc3snICd9XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtYm9sZFwiPntgXCIke2ZpbHRlci52YWx1ZX1cImB9PC9zcGFuPiBpblxuICAgICAgICAgICAgICAgICAgICB0aXRsZS90YWdsaW5lXG4gICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApXG4gICAgICAgICAgICBjb2xvckNsYXNzTmFtZSA9ICdib3JkZXItc2xhdGUtNDAwIGJnLXNsYXRlLTIwMCdcbiAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgY2FzZSBGaWx0ZXJUeXBlLkl0ZW06XG4gICAgICAgICAgICB0aXRsZSA9IGBDb21pYyBjb250YWlucyAke2ZpbHRlci52YWx1ZS50eXBlfSBcIiR7ZmlsdGVyLnZhbHVlLm5hbWV9XCJgXG4gICAgICAgICAgICBjb250ZW50cyA9IChcbiAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICBDb250YWlucyB7ZmlsdGVyLnZhbHVlLnR5cGV9eycgJ31cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1ib2xkXCI+e2BcIiR7ZmlsdGVyLnZhbHVlLnNob3J0TmFtZX1cImB9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgY29sb3JDbGFzc05hbWUgPSAnYm9yZGVyLW9yYW5nZS00MDAgYmctb3JhbmdlLTIwMCdcbiAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgY2FzZSBGaWx0ZXJUeXBlLklzR3Vlc3RDb21pYzpcbiAgICAgICAgY2FzZSBGaWx0ZXJUeXBlLklzTm9uQ2Fub246XG4gICAgICAgICAgICBsZXQgY29udGFpbnNcbiAgICAgICAgICAgIGNvbG9yQ2xhc3NOYW1lID0gJ3RleHQtd2hpdGUgJ1xuICAgICAgICAgICAgaWYgKGZpbHRlci50eXBlID09PSBGaWx0ZXJUeXBlLklzR3Vlc3RDb21pYykge1xuICAgICAgICAgICAgICAgIGNvbG9yQ2xhc3NOYW1lICs9ICdib3JkZXItcWMtaGVhZGVyIGJnLXFjLWhlYWRlci1zZWNvbmQnXG4gICAgICAgICAgICAgICAgY29udGFpbnMgPSAoZmlsdGVyLnZhbHVlID8gJ2lzJyA6ICdpcyBub3QnKSArICcgZ3Vlc3QgY29taWMnXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbG9yQ2xhc3NOYW1lICs9ICdib3JkZXItcWMtbm9uLWNhbm9uIGJnLXFjLW5vbi1jYW5vbi1zZWNvbmQnXG4gICAgICAgICAgICAgICAgY29udGFpbnMgPSAoZmlsdGVyLnZhbHVlID8gJ2lzJyA6ICdpcyBub3QnKSArICcgbm9uLWNhbm9uJ1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aXRsZSA9IGBDb21pYyAke2NvbnRhaW5zfWBcbiAgICAgICAgICAgIGNvbnRlbnRzID0gKFxuICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIHtmaWx0ZXIudmFsdWUgPyAnSXMnIDogJ0lzIG5vdCd9eycgJ31cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZmlsdGVyLnR5cGUgPT09IEZpbHRlclR5cGUuSXNHdWVzdENvbWljXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnZ3Vlc3QgY29taWMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnbm9uLWNhbm9uJ31cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgYnJlYWtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgICAgPGxpXG4gICAgICAgICAgICBjbGFzc05hbWU9e1xuICAgICAgICAgICAgICAgICdteC0xIGJvcmRlciBib3JkZXItc29saWQgcHgtMiByb3VuZGVkLWxnICcgKyBjb2xvckNsYXNzTmFtZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGl0bGU9e3RpdGxlfVxuICAgICAgICA+XG4gICAgICAgICAgICB7Y29udGVudHN9XG4gICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IG9uRGVsZXRlKCl9IHRpdGxlPVwiUmVtb3ZlIGZpbHRlclwiPlxuICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLWNsb3NlIG1sLTJcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICApXG59XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlTWVtbyB9IGZyb20gJ3JlYWN0J1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBIaWdobGlnaHRlZFRleHQoe1xuICAgIHRleHQsXG4gICAgaGlnaGxpZ2h0cyxcbn06IHtcbiAgICB0ZXh0OiBzdHJpbmdcbiAgICBoaWdobGlnaHRzOiBzdHJpbmdbXVxufSkge1xuICAgIGNvbnN0IGhpZ2hsaWdodEluZGV4ZXMgPSBoaWdobGlnaHRzXG4gICAgICAgIC5tYXAoKGhpZ2hsaWdodCkgPT4gZ2V0SW5kaWNlc09mKHRleHQsIGhpZ2hsaWdodCkpXG4gICAgICAgIC5mbGF0KClcbiAgICAgICAgLnNvcnQoKGksIGopID0+IGlbMF0gLSBqWzBdKVxuXG4gICAgLy8gY29tYmluZSBvdmVybGFwcGluZyBoaWdobGlnaHRzXG4gICAgY29uc3QgY29tYmluZWRIaWdobGlnaHRzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbWJpbmVkSGlnaGxpZ2h0cyA9IFsuLi5oaWdobGlnaHRJbmRleGVzXVxuICAgICAgICByZXN0YXJ0OiB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb21iaW5lZEhpZ2hsaWdodHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IGNvbWJpbmVkSGlnaGxpZ2h0c1tpXVxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBjb21iaW5lZEhpZ2hsaWdodHNbaSArIDFdXG5cbiAgICAgICAgICAgICAgICBpZiAobmV4dFswXSA8IGN1cnJlbnRbMF0gKyBjdXJyZW50WzFdKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbWJpbmVkSGlnaGxpZ2h0cy5zcGxpY2UoaSwgMiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5taW4oY3VycmVudFswXSwgbmV4dFswXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heChjdXJyZW50WzBdICsgY3VycmVudFsxXSwgbmV4dFswXSArIG5leHRbMV0pLFxuICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZSByZXN0YXJ0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29tYmluZWRIaWdobGlnaHRzXG4gICAgfSwgW2hpZ2hsaWdodEluZGV4ZXNdKVxuXG4gICAgaWYgKCFoaWdobGlnaHRJbmRleGVzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gPD57dGV4dH08Lz5cbiAgICB9XG5cbiAgICBjb25zdCBoaWdobGlnaHRQaWVjZXM6IEpTWC5FbGVtZW50W10gPSBbXVxuICAgIGxldCBzdGFydEluZGV4ID0gMFxuICAgIGZvciAoY29uc3QgaW5kZXggb2YgY29tYmluZWRIaWdobGlnaHRzKSB7XG4gICAgICAgIGlmIChzdGFydEluZGV4ICE9PSBpbmRleFswXSkge1xuICAgICAgICAgICAgaGlnaGxpZ2h0UGllY2VzLnB1c2goXG4gICAgICAgICAgICAgICAgPFJlYWN0LkZyYWdtZW50IGtleT17c3RhcnRJbmRleH0+XG4gICAgICAgICAgICAgICAgICAgIHt0ZXh0LnN1YnN0cmluZyhzdGFydEluZGV4LCBpbmRleFswXSl9XG4gICAgICAgICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICBoaWdobGlnaHRQaWVjZXMucHVzaChcbiAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmcteWVsbG93LTQwMCB0ZXh0LWJsYWNrXCJcbiAgICAgICAgICAgICAgICBrZXk9e2Ake2luZGV4WzBdfS0ke2luZGV4WzFdfWB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3RleHQuc3Vic3RyaW5nKGluZGV4WzBdLCBpbmRleFswXSArIGluZGV4WzFdKX1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgKVxuICAgICAgICBzdGFydEluZGV4ID0gaW5kZXhbMF0gKyBpbmRleFsxXVxuICAgIH1cbiAgICBpZiAoc3RhcnRJbmRleCA8IHRleHQubGVuZ3RoKSB7XG4gICAgICAgIGhpZ2hsaWdodFBpZWNlcy5wdXNoKFxuICAgICAgICAgICAgPFJlYWN0LkZyYWdtZW50IGtleT17c3RhcnRJbmRleH0+XG4gICAgICAgICAgICAgICAge3RleHQuc3Vic3RyaW5nKHN0YXJ0SW5kZXgpfVxuICAgICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgICAgKVxuICAgIH1cblxuICAgIHJldHVybiA8PntoaWdobGlnaHRQaWVjZXN9PC8+XG59XG5cbmZ1bmN0aW9uIGdldEluZGljZXNPZihcbiAgICBoYXlzdGFjazogc3RyaW5nLFxuICAgIG5lZWRsZTogc3RyaW5nLFxuICAgIGNhc2VTZW5zaXRpdmU/OiBib29sZWFuXG4pIHtcbiAgICBsZXQgbmVlZGxlTGVuZ3RoID0gbmVlZGxlLmxlbmd0aFxuICAgIGlmICghbmVlZGxlTGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXVxuICAgIH1cblxuICAgIGxldCBzdGFydEluZGV4ID0gMFxuICAgIGxldCBpbmRleFxuICAgIGxldCBpbmRpY2VzOiBbbnVtYmVyLCBudW1iZXJdW10gPSBbXVxuICAgIGlmICghY2FzZVNlbnNpdGl2ZSkge1xuICAgICAgICBoYXlzdGFjayA9IGhheXN0YWNrLnRvVXBwZXJDYXNlKClcbiAgICAgICAgbmVlZGxlID0gbmVlZGxlLnRvVXBwZXJDYXNlKClcbiAgICB9XG4gICAgd2hpbGUgKChpbmRleCA9IGhheXN0YWNrLmluZGV4T2YobmVlZGxlLCBzdGFydEluZGV4KSkgIT09IC0xKSB7XG4gICAgICAgIGluZGljZXMucHVzaChbaW5kZXgsIG5lZWRsZUxlbmd0aF0pXG4gICAgICAgIHN0YXJ0SW5kZXggPSBpbmRleCArIG5lZWRsZUxlbmd0aFxuICAgIH1cbiAgICByZXR1cm4gaW5kaWNlc1xufVxuIiwiaW1wb3J0IHsgQ29taWNMaXN0IH0gZnJvbSAnQG1vZGVscy9Db21pY0xpc3QnXG5cbmltcG9ydCBIaWdobGlnaHRlZFRleHQgZnJvbSAnLi4vSGlnaGxpZ2h0ZWRUZXh0L0hpZ2hsaWdodGVkVGV4dCdcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gR29Ub0NvbWljQnV0dG9uKHtcbiAgICBjb21pYyxcbiAgICBvbkNsaWNrLFxuICAgIGhpZ2hsaWdodHMsXG59OiB7XG4gICAgY29taWM6IENvbWljTGlzdFxuICAgIG9uQ2xpY2s6IChjb21pYzogQ29taWNMaXN0KSA9PiB2b2lkXG4gICAgaGlnaGxpZ2h0czogc3RyaW5nW11cbn0pIHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWxlZnRcIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgIG9uQ2xpY2soY29taWMpXG4gICAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgICBDb21pYyB7Y29taWMuY29taWN9OnsnICd9XG4gICAgICAgICAgICA8SGlnaGxpZ2h0ZWRUZXh0IHRleHQ9e2NvbWljLnRpdGxlfSBoaWdobGlnaHRzPXtoaWdobGlnaHRzfSAvPnsnICd9XG4gICAgICAgICAgICB7Y29taWMudGFnbGluZSAmJiAoXG4gICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICA8SGlnaGxpZ2h0ZWRUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0PXtjb21pYy50YWdsaW5lfVxuICAgICAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0cz17aGlnaGxpZ2h0c31cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHtjb21pYy5pc0d1ZXN0Q29taWMgPyAoXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYmctcWMtaGVhZGVyIHRleHQtd2hpdGUgZm9udC1ib2xkIHRleHQtc20gcm91bmRlZC1mdWxsIHB4LTIgcHktMC41IG1sLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgR3Vlc3QgQ29taWNcbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICApIDogY29taWMuaXNOb25DYW5vbiA/IChcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJiZy1xYy1ub24tY2Fub24gdGV4dC13aGl0ZSBmb250LWJvbGQgdGV4dC1zbSByb3VuZGVkLWZ1bGwgcHgtMiBweS0wLjUgbWwtMlwiPlxuICAgICAgICAgICAgICAgICAgICBOb24tY2Fub25cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICcnXG4gICAgICAgICAgICApfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICApXG59XG4iLCJpbXBvcnQgeyB1c2VNZW1vLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgQ29taWNGaWx0ZXIsIHtcbiAgICBGaWx0ZXIsXG4gICAgRmlsdGVyVHlwZSxcbn0gZnJvbSAnQGNvbXBvbmVudHMvR29Ub0NvbWljRGlhbG9nL0NvbWljTGlzdC9Db21pY0ZpbHRlci9Db21pY0ZpbHRlcidcbmltcG9ydCBTcGlubmVyIGZyb20gJ0Bjb21wb25lbnRzL1NwaW5uZXInXG5pbXBvcnQgeyBDb21pY0lkIH0gZnJvbSAnQG1vZGVscy9Db21pY0lkJ1xuaW1wb3J0IHsgQ29taWNMaXN0IGFzIENvbWljTGlzdE1vZGVsIH0gZnJvbSAnQG1vZGVscy9Db21pY0xpc3QnXG5pbXBvcnQgeyBJdGVtTGlzdCB9IGZyb20gJ0Btb2RlbHMvSXRlbUxpc3QnXG5pbXBvcnQgeyBza2lwVG9rZW4gfSBmcm9tICdAcmVkdXhqcy90b29sa2l0L2Rpc3QvcXVlcnknXG5pbXBvcnQgeyB1c2VHZXRDb25haW5pbmdJdGVtc1F1ZXJ5IH0gZnJvbSAnQHN0b3JlL2FwaS9jb21pY0FwaVNsaWNlJ1xuXG5pbXBvcnQgQ29sbGFwc2libGVEZXRhaWxzIGZyb20gJy4uL0NvbGxhcHNpYmxlRGV0YWlscy9Db2xsYXBzaWJsZURldGFpbHMnXG5pbXBvcnQgR29Ub0NvbWljQnV0dG9uIGZyb20gJy4vR29Ub0NvbWljQnV0dG9uL0dvVG9Db21pY0J1dHRvbidcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29taWNMaXN0KHtcbiAgICBhbGxDb21pY0RhdGEsXG4gICAgc3ViRGl2aWRlR290b0NvbWljcyxcbiAgICBvbkdvVG9Db21pYyxcbiAgICBpc0xvYWRpbmcsXG59OiB7XG4gICAgYWxsQ29taWNEYXRhOiBDb21pY0xpc3RNb2RlbFtdXG4gICAgc3ViRGl2aWRlR290b0NvbWljczogYm9vbGVhblxuICAgIG9uR29Ub0NvbWljOiAoY29taWM6IG51bWJlcikgPT4gdm9pZFxuICAgIGlzTG9hZGluZzogYm9vbGVhblxufSkge1xuICAgIGNvbnN0IFtmaWx0ZXJzLCBzZXRGaWx0ZXJzXSA9IHVzZVN0YXRlPEZpbHRlcltdPihbXSlcbiAgICBjb25zdCByZXF1aXJlc1NlcnZlciA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICByZXR1cm4gISFmaWx0ZXJzLmZpbmQoKGYpID0+IGYudHlwZSA9PT0gRmlsdGVyVHlwZS5JdGVtKVxuICAgIH0sIFtmaWx0ZXJzXSlcblxuICAgIGNvbnN0IHsgZGF0YTogY29taWNzV2l0aEl0ZW1zIH0gPSB1c2VHZXRDb25haW5pbmdJdGVtc1F1ZXJ5KFxuICAgICAgICByZXF1aXJlc1NlcnZlclxuICAgICAgICAgICAgPyBmaWx0ZXJzLmZpbHRlcihpc0l0ZW1GaWx0ZXIpLm1hcCgoZikgPT4gZi52YWx1ZS5pZClcbiAgICAgICAgICAgIDogc2tpcFRva2VuXG4gICAgKVxuXG4gICAgY29uc3QgZmlsdGVyZWRDb21pY0RhdGEgPSB1c2VNZW1vKFxuICAgICAgICAoKSA9PlxuICAgICAgICAgICAgYWxsQ29taWNEYXRhXG4gICAgICAgICAgICAgICAgPyBmaWx0ZXJDb21pY3MoYWxsQ29taWNEYXRhLCBmaWx0ZXJzLCBjb21pY3NXaXRoSXRlbXMpXG4gICAgICAgICAgICAgICAgOiBhbGxDb21pY0RhdGEsXG4gICAgICAgIFthbGxDb21pY0RhdGEsIGZpbHRlcnMsIGNvbWljc1dpdGhJdGVtc11cbiAgICApXG5cbiAgICBjb25zdCBbY29taWNMaXN0LCBjb21pY0NvdW50XSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBjb25zdCBjb21pY0VudHJpZXM6IHtcbiAgICAgICAgICAgIFt0aG91c2FuZFJhbmdlOiBudW1iZXJdOiB7XG4gICAgICAgICAgICAgICAgW2h1bmRyZWRSYW5nZTogbnVtYmVyXTogSlNYLkVsZW1lbnRbXVxuICAgICAgICAgICAgfVxuICAgICAgICB9ID0ge31cbiAgICAgICAgaWYgKHN1YkRpdmlkZUdvdG9Db21pY3MpIHtcbiAgICAgICAgICAgIGxldCBsYXN0VGhvdXNhbmRzUmFuZ2UgPSAtMVxuICAgICAgICAgICAgbGV0IGxhc3RIdW5kcmVkc1JhbmdlID0gLTFcbiAgICAgICAgICAgIGxldCBsYXN0Q29taWMgPSAtMVxuICAgICAgICAgICAgbGV0IGNvdW50ID0gMFxuICAgICAgICAgICAgaWYgKGZpbHRlcmVkQ29taWNEYXRhKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBjb21pYyBvZiBmaWx0ZXJlZENvbWljRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aG91c2FuZHNSYW5nZSA9IGdldFRob3VzYW5kc1JhbmdlKGNvbWljLmNvbWljKVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBodW5kcmVkc1JhbmdlID0gZ2V0SHVuZHJlZHNSYW5nZShjb21pYy5jb21pYylcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodGhvdXNhbmRzUmFuZ2UgaW4gY29taWNFbnRyaWVzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29taWNFbnRyaWVzW3Rob3VzYW5kc1JhbmdlXSA9IHt9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoaHVuZHJlZHNSYW5nZSBpbiBjb21pY0VudHJpZXNbdGhvdXNhbmRzUmFuZ2VdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29taWNFbnRyaWVzW3Rob3VzYW5kc1JhbmdlXVtodW5kcmVkc1JhbmdlXSA9IFtdXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb21pY0VudHJpZXNbdGhvdXNhbmRzUmFuZ2VdW2h1bmRyZWRzUmFuZ2VdLnB1c2goXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGkga2V5PXtjb21pYy5jb21pY30+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdvVG9Db21pY0J1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21pYz17Y29taWN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhjb21pYykgPT4gb25Hb1RvQ29taWMoY29taWMuY29taWMpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWdobGlnaHRzPXtmaWx0ZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGlzVGV4dEZpbHRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGYpID0+IGYudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIGxhc3RUaG91c2FuZHNSYW5nZSA9IHRob3VzYW5kc1JhbmdlXG4gICAgICAgICAgICAgICAgICAgIGxhc3RIdW5kcmVkc1JhbmdlID0gaHVuZHJlZHNSYW5nZVxuICAgICAgICAgICAgICAgICAgICBsYXN0Q29taWMgPSBjb21pYy5jb21pY1xuICAgICAgICAgICAgICAgICAgICBjb3VudCsrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdGhvdXNhbmREaXZpZGVyczogSlNYLkVsZW1lbnRbXSA9IFtdXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRob3VzYW5kUmFuZ2UgaW4gY29taWNFbnRyaWVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaHVuZHJlZERpdmlkZXJzOiBKU1guRWxlbWVudFtdID0gW11cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGh1bmRyZWRSYW5nZSBpbiBjb21pY0VudHJpZXNbdGhvdXNhbmRSYW5nZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVuZFJhbmdlID0gYCR7TnVtYmVyKGh1bmRyZWRSYW5nZSkgKyAxMDB9YFxuICAgICAgICAgICAgICAgICAgICBpZiAoTnVtYmVyKGh1bmRyZWRSYW5nZSkgPT09IGxhc3RIdW5kcmVkc1JhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRSYW5nZSA9IGAke2xhc3RDb21pY31gXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaHVuZHJlZERpdmlkZXJzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgICAgICA8Q29sbGFwc2libGVEZXRhaWxzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZW50Q2hpbGRyZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsbHlPcGVuPXtjb3VudCA8IDEwMH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5PXtgJHtOdW1iZXIoaHVuZHJlZFJhbmdlKSArIDF9Li4ke2VuZFJhbmdlfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtodW5kcmVkUmFuZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPD57Y29taWNFbnRyaWVzW3Rob3VzYW5kUmFuZ2VdW2h1bmRyZWRSYW5nZV19PC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0NvbGxhcHNpYmxlRGV0YWlscz5cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBlbmRSYW5nZSA9IGAke051bWJlcih0aG91c2FuZFJhbmdlKSArIDEwMDB9YFxuICAgICAgICAgICAgICAgIGlmIChOdW1iZXIodGhvdXNhbmRSYW5nZSkgPT09IGxhc3RUaG91c2FuZHNSYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICBlbmRSYW5nZSA9IGAke2xhc3RDb21pY31gXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRob3VzYW5kRGl2aWRlcnMucHVzaChcbiAgICAgICAgICAgICAgICAgICAgPENvbGxhcHNpYmxlRGV0YWlsc1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZW50Q2hpbGRyZW5cbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxseU9wZW49e2NvdW50IDwgMTAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3VtbWFyeT17YCR7TnVtYmVyKHRob3VzYW5kUmFuZ2UpICsgMX0uLiR7ZW5kUmFuZ2V9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17dGhvdXNhbmRSYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPD57aHVuZHJlZERpdmlkZXJzfTwvPlxuICAgICAgICAgICAgICAgICAgICA8L0NvbGxhcHNpYmxlRGV0YWlscz5cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBbPGRpdj57dGhvdXNhbmREaXZpZGVyc308L2Rpdj4sIGNvdW50XVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgY29taWNFbnRyaWVzOiBKU1guRWxlbWVudFtdID0gW11cbiAgICAgICAgICAgIGlmIChmaWx0ZXJlZENvbWljRGF0YSkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY29taWMgb2YgZmlsdGVyZWRDb21pY0RhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29taWNFbnRyaWVzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGkga2V5PXtjb21pYy5jb21pY30+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdvVG9Db21pY0J1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21pYz17Y29taWN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhjb21pYykgPT4gb25Hb1RvQ29taWMoY29taWMuY29taWMpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWdobGlnaHRzPXtmaWx0ZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGlzVGV4dEZpbHRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGYpID0+IGYudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFs8dWw+e2NvbWljRW50cmllc308L3VsPiwgY29taWNFbnRyaWVzLmxlbmd0aF1cbiAgICAgICAgfVxuICAgIH0sIFtmaWx0ZXJlZENvbWljRGF0YSwgb25Hb1RvQ29taWMsIHN1YkRpdmlkZUdvdG9Db21pY3MsIGZpbHRlcnNdKVxuXG4gICAgaWYgKGlzTG9hZGluZykge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBwdC00XCI+XG4gICAgICAgICAgICAgICAgPFNwaW5uZXJcbiAgICAgICAgICAgICAgICAgICAgbG9hZGluZ1RleHQ9XCJMb2FkaW5nLi4uXCJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PVwiaC04XCJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg9XCJ3LThcIlxuICAgICAgICAgICAgICAgICAgICB0ZXh0Q29sb3I9XCJ0ZXh0LWJsYWNrXCJcbiAgICAgICAgICAgICAgICAgICAgc3Bpbm5lckJnQ29sb3I9XCJ0ZXh0LWdyYXktMzAwXCJcbiAgICAgICAgICAgICAgICAgICAgc3Bpbm5lckNvbG9yPVwiZmlsbC1xYy1saW5rXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIClcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLVsxNnJlbV1cIj5cbiAgICAgICAgICAgIDxDb21pY0ZpbHRlciBmaWx0ZXJzPXtmaWx0ZXJzfSBzZXRGaWx0ZXJzPXtzZXRGaWx0ZXJzfSAvPlxuICAgICAgICAgICAge2ZpbHRlcnMubGVuZ3RoICE9PSAwICYmIChcbiAgICAgICAgICAgICAgICA8cD57Y29taWNDb3VudH0gY29taWMgdGl0bGVzIG9yIHRhZ2xpbmVzIG1hdGNoIHlvdXIgZmlsdGVyczwvcD5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7Y29taWNMaXN0fVxuICAgICAgICA8L2Rpdj5cbiAgICApXG59XG5cbmZ1bmN0aW9uIGZpbHRlckNvbWljcyhcbiAgICBhbGxDb21pY3M6IENvbWljTGlzdE1vZGVsW10sXG4gICAgZmlsdGVyczogRmlsdGVyW10sXG4gICAgY29taWNzV2l0aEl0ZW1zOiBDb21pY0lkW10gfCB1bmRlZmluZWRcbikge1xuICAgIGxldCBmaWx0ZXJlZENvbWljc1xuICAgIGlmIChjb21pY3NXaXRoSXRlbXMpIHtcbiAgICAgICAgZmlsdGVyZWRDb21pY3MgPSBhbGxDb21pY3MuZmlsdGVyKChjKSA9PlxuICAgICAgICAgICAgY29taWNzV2l0aEl0ZW1zLmluY2x1ZGVzKGMuY29taWMpXG4gICAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgICBmaWx0ZXJlZENvbWljcyA9IGFsbENvbWljc1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgZmlsdGVyIG9mIGZpbHRlcnMpIHtcbiAgICAgICAgaWYgKCFpc0l0ZW1GaWx0ZXIoZmlsdGVyKSkge1xuICAgICAgICAgICAgc3dpdGNoIChmaWx0ZXIudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgRmlsdGVyVHlwZS5UZXh0OlxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZENvbWljcyA9IGZpbHRlcmVkQ29taWNzLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgIChjKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMudGl0bGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRvVXBwZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZmlsdGVyLnZhbHVlLnRvVXBwZXJDYXNlKCkpICE9PSAtMSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjLnRhZ2xpbmUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYy50YWdsaW5lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9VcHBlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoZmlsdGVyLnZhbHVlLnRvVXBwZXJDYXNlKCkpICE9PSAtMSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICAgICAgY2FzZSBGaWx0ZXJUeXBlLklzR3Vlc3RDb21pYzpcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRDb21pY3MgPSBmaWx0ZXJlZENvbWljcy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAoYykgPT4gYy5pc0d1ZXN0Q29taWMgPT09IGZpbHRlci52YWx1ZVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgICAgICBjYXNlIEZpbHRlclR5cGUuSXNOb25DYW5vbjpcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRDb21pY3MgPSBmaWx0ZXJlZENvbWljcy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAoYykgPT4gYy5pc05vbkNhbm9uID09PSBmaWx0ZXIudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZpbHRlcmVkQ29taWNzXG59XG5cbmZ1bmN0aW9uIGdldFRob3VzYW5kc1JhbmdlKGNvbWljOiBDb21pY0lkKSB7XG4gICAgY29uc3QgcmVzdCA9IGNvbWljICUgMTAwMFxuICAgIHJldHVybiBjb21pYyAtIHJlc3Rcbn1cblxuZnVuY3Rpb24gZ2V0SHVuZHJlZHNSYW5nZShjb21pYzogQ29taWNJZCkge1xuICAgIGNvbnN0IHJlc3QgPSBjb21pYyAlIDEwMFxuICAgIHJldHVybiBjb21pYyAtIHJlc3Rcbn1cblxuZnVuY3Rpb24gaXNJdGVtRmlsdGVyKGY6IEZpbHRlcik6IGYgaXMge1xuICAgIHR5cGU6IEZpbHRlclR5cGUuSXRlbVxuICAgIHZhbHVlOiBJdGVtTGlzdFxufSB7XG4gICAgcmV0dXJuIGYudHlwZSA9PT0gRmlsdGVyVHlwZS5JdGVtXG59XG5cbmZ1bmN0aW9uIGlzVGV4dEZpbHRlcihmOiBGaWx0ZXIpOiBmIGlzIHtcbiAgICB0eXBlOiBGaWx0ZXJUeXBlLlRleHRcbiAgICB2YWx1ZTogc3RyaW5nXG59IHtcbiAgICByZXR1cm4gZi50eXBlID09PSBGaWx0ZXJUeXBlLlRleHRcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNwaW5uZXIoe1xuICAgIGxvYWRpbmdUZXh0LFxuICAgIGhlaWdodCxcbiAgICB3aWR0aCxcbiAgICB0ZXh0Q29sb3IsXG4gICAgc3Bpbm5lckNvbG9yLFxuICAgIHNwaW5uZXJCZ0NvbG9yLFxufToge1xuICAgIGxvYWRpbmdUZXh0OiBzdHJpbmdcbiAgICBoZWlnaHQ6IHN0cmluZ1xuICAgIHdpZHRoOiBzdHJpbmdcbiAgICB0ZXh0Q29sb3I6IHN0cmluZ1xuICAgIHNwaW5uZXJDb2xvcjogc3RyaW5nXG4gICAgc3Bpbm5lckJnQ29sb3I6IHN0cmluZ1xufSkge1xuICAgIHJldHVybiAoXG4gICAgICAgIDw+XG4gICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BpbmxpbmUgbXItMiAke3NwaW5uZXJCZ0NvbG9yfSBhbmltYXRlLXNwaW4gJHtzcGlubmVyQ29sb3J9ICR7aGVpZ2h0fSAke3dpZHRofWB9XG4gICAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCAxMDAgMTAxXCJcbiAgICAgICAgICAgICAgICBmaWxsPVwibm9uZVwiXG4gICAgICAgICAgICAgICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPHBhdGhcbiAgICAgICAgICAgICAgICAgICAgZD1cIk0xMDAgNTAuNTkwOEMxMDAgNzguMjA1MSA3Ny42MTQyIDEwMC41OTEgNTAgMTAwLjU5MUMyMi4zODU4IDEwMC41OTEgMCA3OC4yMDUxIDAgNTAuNTkwOEMwIDIyLjk3NjYgMjIuMzg1OCAwLjU5MDgyIDUwIDAuNTkwODJDNzcuNjE0MiAwLjU5MDgyIDEwMCAyMi45NzY2IDEwMCA1MC41OTA4Wk05LjA4MTQ0IDUwLjU5MDhDOS4wODE0NCA3My4xODk1IDI3LjQwMTMgOTEuNTA5NCA1MCA5MS41MDk0QzcyLjU5ODcgOTEuNTA5NCA5MC45MTg2IDczLjE4OTUgOTAuOTE4NiA1MC41OTA4QzkwLjkxODYgMjcuOTkyMSA3Mi41OTg3IDkuNjcyMjYgNTAgOS42NzIyNkMyNy40MDEzIDkuNjcyMjYgOS4wODE0NCAyNy45OTIxIDkuMDgxNDQgNTAuNTkwOFpcIlxuICAgICAgICAgICAgICAgICAgICBmaWxsPVwiY3VycmVudENvbG9yXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgICAgICAgIGQ9XCJNOTMuOTY3NiAzOS4wNDA5Qzk2LjM5MyAzOC40MDM4IDk3Ljg2MjQgMzUuOTExNiA5Ny4wMDc5IDMzLjU1MzlDOTUuMjkzMiAyOC44MjI3IDkyLjg3MSAyNC4zNjkyIDg5LjgxNjcgMjAuMzQ4Qzg1Ljg0NTIgMTUuMTE5MiA4MC44ODI2IDEwLjcyMzggNzUuMjEyNCA3LjQxMjg5QzY5LjU0MjIgNC4xMDE5NCA2My4yNzU0IDEuOTQwMjUgNTYuNzY5OCAxLjA1MTI0QzUxLjc2NjYgMC4zNjc1NDEgNDYuNjk3NiAwLjQ0Njg0MyA0MS43MzQ1IDEuMjc4NzNDMzkuMjYxMyAxLjY5MzI4IDM3LjgxMyA0LjE5Nzc4IDM4LjQ1MDEgNi42MjMyNkMzOS4wODczIDkuMDQ4NzQgNDEuNTY5NCAxMC40NzE3IDQ0LjA1MDUgMTAuMTA3MUM0Ny44NTExIDkuNTQ4NTUgNTEuNzE5MSA5LjUyNjg5IDU1LjU0MDIgMTAuMDQ5MUM2MC44NjQyIDEwLjc3NjYgNjUuOTkyOCAxMi41NDU3IDcwLjYzMzEgMTUuMjU1MkM3NS4yNzM1IDE3Ljk2NDggNzkuMzM0NyAyMS41NjE5IDgyLjU4NDkgMjUuODQxQzg0LjkxNzUgMjguOTEyMSA4Ni43OTk3IDMyLjI5MTMgODguMTgxMSAzNS44NzU4Qzg5LjA4MyAzOC4yMTU4IDkxLjU0MjEgMzkuNjc4MSA5My45Njc2IDM5LjA0MDlaXCJcbiAgICAgICAgICAgICAgICAgICAgZmlsbD1cImN1cnJlbnRGaWxsXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9e2Ake3RleHRDb2xvcn0gZm9udC1ib2xkYH0+e2xvYWRpbmdUZXh0fTwvcD5cbiAgICAgICAgPC8+XG4gICAgKVxufVxuIiwiaW1wb3J0IHsgSXRlbVR5cGUgfSBmcm9tICdAbW9kZWxzL0l0ZW1UeXBlJ1xuXG5leHBvcnQgdHlwZSBGaWx0ZXJJdGVtVHlwZSA9IEl0ZW1UeXBlIHwgJ2l0ZW0nXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUeXBlRnJvbUZpbHRlcihmaWx0ZXI6IHN0cmluZykge1xuICAgIGNvbnN0IHR5cGVGaWx0ZXIgPSBmaWx0ZXIuY2hhckF0KDApXG4gICAgbGV0IHR5cGU6IEZpbHRlckl0ZW1UeXBlID0gJ2l0ZW0nXG4gICAgc3dpdGNoICh0eXBlRmlsdGVyKSB7XG4gICAgICAgIGNhc2UgJyEnOlxuICAgICAgICAgICAgdHlwZSA9ICdjYXN0J1xuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnQCc6XG4gICAgICAgICAgICB0eXBlID0gJ2xvY2F0aW9uJ1xuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnIyc6XG4gICAgICAgICAgICB0eXBlID0gJ3N0b3J5bGluZSdcbiAgICAgICAgICAgIGJyZWFrXG4gICAgfVxuICAgIHJldHVybiB0eXBlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWx0ZXJXaXRob3V0VHlwZShmaWx0ZXI6IHN0cmluZykge1xuICAgIGlmIChnZXRUeXBlRnJvbUZpbHRlcihmaWx0ZXIpICE9PSAnaXRlbScpIHtcbiAgICAgICAgZmlsdGVyID0gZmlsdGVyLnN1YnN0cmluZygxKVxuICAgIH1cbiAgICByZXR1cm4gZmlsdGVyXG59XG5cbnR5cGUgRmlsdGVyYWJsZUl0ZW0gPSB7XG4gICAgc2hvcnROYW1lOiBzdHJpbmdcbiAgICBuYW1lOiBzdHJpbmdcbiAgICB0eXBlOiBJdGVtVHlwZVxufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlckl0ZW1zPEkgZXh0ZW5kcyBGaWx0ZXJhYmxlSXRlbT4oXG4gICAgaXRlbXM6IElbXSxcbiAgICBmaWx0ZXI6IHN0cmluZ1xuKSB7XG4gICAgY29uc3QgdHlwZSA9IGdldFR5cGVGcm9tRmlsdGVyKGZpbHRlcilcblxuICAgIGxldCBmaWx0ZXJlZEJ5VHlwZVxuICAgIGlmICh0eXBlICE9PSAnaXRlbScpIHtcbiAgICAgICAgZmlsdGVyZWRCeVR5cGUgPSBpdGVtcy5maWx0ZXIoKGkpID0+IGkudHlwZSA9PT0gdHlwZSlcbiAgICB9IGVsc2Uge1xuICAgICAgICBmaWx0ZXJlZEJ5VHlwZSA9IGl0ZW1zXG4gICAgfVxuXG4gICAgZmlsdGVyID0gZ2V0RmlsdGVyV2l0aG91dFR5cGUoZmlsdGVyKVxuICAgIHJldHVybiBmaWx0ZXJlZEJ5VHlwZS5maWx0ZXIoXG4gICAgICAgIChpKSA9PlxuICAgICAgICAgICAgaS5zaG9ydE5hbWUudG9VcHBlckNhc2UoKS5pbmRleE9mKGZpbHRlci50b1VwcGVyQ2FzZSgpKSAhPT0gLTEgfHxcbiAgICAgICAgICAgIGkubmFtZS50b1VwcGVyQ2FzZSgpLmluZGV4T2YoZmlsdGVyLnRvVXBwZXJDYXNlKCkpICE9PSAtMVxuICAgIClcbn1cbiJdLCJuYW1lcyI6WyJfdG9Db25zdW1hYmxlQXJyYXkiLCJhcnIiLCJfYXJyYXlXaXRob3V0SG9sZXMiLCJBcnJheSIsImlzQXJyYXkiLCJhcnJheUxpa2VUb0FycmF5IiwiX2l0ZXJhYmxlVG9BcnJheSIsIml0ZXIiLCJTeW1ib2wiLCJpdGVyYXRvciIsImZyb20iLCJ1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIl9ub25JdGVyYWJsZVNwcmVhZCIsIlR5cGVFcnJvciIsIkNvbGxhcHNpYmxlRGV0YWlscyIsIl9yZWYiLCJzdW1tYXJ5IiwiY2hpbGRyZW4iLCJpbml0aWFsbHlPcGVuIiwiaW5kZW50Q2hpbGRyZW4iLCJvblRvZ2dsZSIsIl9qc3hzIiwiY2xhc3NOYW1lIiwic3R5bGVzIiwiZGV0YWlscyIsIm9wZW4iLCJfanN4IiwieG1sbnMiLCJ2aWV3Qm94IiwiZCIsIkZpbHRlclR5cGUiLCJDb21pY0ZpbHRlciIsImZpbHRlcnMiLCJzZXRGaWx0ZXJzIiwiaXRlbURhdGEiLCJ1c2VBbGxJdGVtc1F1ZXJ5IiwiZGF0YSIsIl91c2VTdGF0ZSIsInVzZVN0YXRlIiwiX3VzZVN0YXRlMiIsIl9zbGljZWRUb0FycmF5IiwiZmlsdGVyVGV4dCIsInNldEZpbHRlclRleHQiLCJfdXNlU3RhdGUzIiwiX3VzZVN0YXRlNCIsImRyb3BEb3duT3BlbiIsInNldERyb3BEb3duT3BlbiIsIl91c2VTdGF0ZTUiLCJfdXNlU3RhdGU2IiwiYWN0aXZlU3VnZ2VzdGlvbiIsInNldEFjdGl2ZVN1Z2dlc3Rpb24iLCJhY3RpdmVSZWYiLCJ1c2VSZWYiLCJpbnB1dFJlZiIsImFkZEZpbHRlciIsInVzZUNhbGxiYWNrIiwiZmlsdGVyIiwiZiIsImNvbmNhdCIsImN1cnJlbnQiLCJkb2N1bWVudCIsImFjdGl2ZUVsZW1lbnQiLCJzdWdnZXN0ZWRGaWx0ZXJzIiwidXNlTWVtbyIsImluZGV4IiwicHVzaCIsIlN1Z2dlc3RlZEZpbHRlciIsInR5cGUiLCJUZXh0IiwidmFsdWUiLCJ0cmltIiwibGVuZ3RoIiwiaGlnaGxpZ2h0ZWQiLCJyZWYiLCJ1bmRlZmluZWQiLCJfc3RlcCIsIl9pdGVyYXRvciIsIl9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIiwiZmlsdGVySXRlbXMiLCJhbGxJdGVtcyIsIl9yZWYyIiwiZ2V0VHlwZUZyb21GaWx0ZXIiLCJnZXRGaWx0ZXJXaXRob3V0VHlwZSIsImZpbHRlclR5cGUiLCJmaWx0ZXJOYW1lIiwiYyIsImlzUmlnaHRUeXBlIiwiaGFzTmFtZSIsIm5hbWUiLCJ0b1VwcGVyQ2FzZSIsImluZGV4T2YiLCJoYXNTaG9ydE5hbWUiLCJzaG9ydE5hbWUiLCJfbG9vcCIsIml0ZW0iLCJmaW5kIiwiSXRlbSIsImlkIiwicyIsIm4iLCJkb25lIiwiZXJyIiwiZSIsIklzR3Vlc3RDb21pYyIsIklzTm9uQ2Fub24iLCJ1c2VFZmZlY3QiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwiYmxvY2siLCJpbmxpbmUiLCJvbkNsaWNrIiwicHJldmVudERlZmF1bHQiLCJtYXAiLCJpIiwiQWN0aXZlRmlsdGVyIiwib25EZWxldGUiLCJfIiwic3BlbGxDaGVjayIsIm9uRm9jdXMiLCJvbktleURvd24iLCJjb2RlIiwicXVlcnlTZWxlY3RvciIsImNsaWNrIiwib25DaGFuZ2UiLCJ0YXJnZXQiLCJmb3J3YXJkUmVmIiwiX3JlZjMiLCJmaWx0ZXJFbGVtZW50IiwiX0ZyYWdtZW50IiwiY29sb3IiLCJfcmVmNCIsInRpdGxlIiwiY29udGVudHMiLCJjb2xvckNsYXNzTmFtZSIsImNvbnRhaW5zIiwiSGlnaGxpZ2h0ZWRUZXh0IiwidGV4dCIsImhpZ2hsaWdodEluZGV4ZXMiLCJoaWdobGlnaHRzIiwiaGlnaGxpZ2h0IiwiZ2V0SW5kaWNlc09mIiwiaGF5c3RhY2siLCJuZWVkbGUiLCJjYXNlU2Vuc2l0aXZlIiwibmVlZGxlTGVuZ3RoIiwic3RhcnRJbmRleCIsImluZGljZXMiLCJmbGF0Iiwic29ydCIsImoiLCJjb21iaW5lZEhpZ2hsaWdodHMiLCJyZXN0YXJ0IiwibmV4dCIsInNwbGljZSIsIk1hdGgiLCJtaW4iLCJtYXgiLCJoaWdobGlnaHRQaWVjZXMiLCJSZWFjdCIsInN1YnN0cmluZyIsIkdvVG9Db21pY0J1dHRvbiIsImNvbWljIiwidGFnbGluZSIsImlzR3Vlc3RDb21pYyIsImlzTm9uQ2Fub24iLCJDb21pY0xpc3QiLCJhbGxDb21pY0RhdGEiLCJzdWJEaXZpZGVHb3RvQ29taWNzIiwib25Hb1RvQ29taWMiLCJpc0xvYWRpbmciLCJyZXF1aXJlc1NlcnZlciIsImNvbWljc1dpdGhJdGVtcyIsInVzZUdldENvbmFpbmluZ0l0ZW1zUXVlcnkiLCJpc0l0ZW1GaWx0ZXIiLCJza2lwVG9rZW4iLCJmaWx0ZXJlZENvbWljRGF0YSIsImZpbHRlckNvbWljcyIsImFsbENvbWljcyIsImZpbHRlcmVkQ29taWNzIiwiaW5jbHVkZXMiLCJfc3RlcDMiLCJfaXRlcmF0b3IzIiwiX3VzZU1lbW8iLCJjb21pY0VudHJpZXMiLCJsYXN0VGhvdXNhbmRzUmFuZ2UiLCJsYXN0SHVuZHJlZHNSYW5nZSIsImxhc3RDb21pYyIsImNvdW50IiwidGhvdXNhbmRzUmFuZ2UiLCJyZXN0IiwiaHVuZHJlZHNSYW5nZSIsImdldEh1bmRyZWRzUmFuZ2UiLCJpc1RleHRGaWx0ZXIiLCJ0aG91c2FuZERpdmlkZXJzIiwidGhvdXNhbmRSYW5nZSIsImh1bmRyZWREaXZpZGVycyIsImh1bmRyZWRSYW5nZSIsImVuZFJhbmdlIiwiTnVtYmVyIiwiX3N0ZXAyIiwiX2l0ZXJhdG9yMiIsIl91c2VNZW1vMiIsImNvbWljTGlzdCIsImNvbWljQ291bnQiLCJTcGlubmVyIiwibG9hZGluZ1RleHQiLCJoZWlnaHQiLCJ3aWR0aCIsInRleHRDb2xvciIsInNwaW5uZXJCZ0NvbG9yIiwic3Bpbm5lckNvbG9yIiwiZmlsbCIsImNoYXJBdCIsIml0ZW1zIiwiZmlsdGVyZWRCeVR5cGUiXSwic291cmNlUm9vdCI6IiJ9